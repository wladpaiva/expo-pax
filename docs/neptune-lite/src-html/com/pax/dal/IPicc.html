<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>Source code</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet_en.css" title="Style">
</head>
<body>
<div class="sourceContainer">
<pre><span class="sourceLineNo">001</span>/*<a name="line.1"></a>
<span class="sourceLineNo">002</span> * ===========================================================================================<a name="line.2"></a>
<span class="sourceLineNo">003</span> * = COPYRIGHT<a name="line.3"></a>
<span class="sourceLineNo">004</span> *          PAX Computer Technology (Shenzhen) Co., Ltd. PROPRIETARY INFORMATION<a name="line.4"></a>
<span class="sourceLineNo">005</span> *   This software is supplied under the terms of a license agreement or nondisclosure<a name="line.5"></a>
<span class="sourceLineNo">006</span> *   agreement with PAX Computer Technology (Shenzhen) Co., Ltd. and may not be copied or<a name="line.6"></a>
<span class="sourceLineNo">007</span> *   disclosed except in accordance with the terms in that agreement.<a name="line.7"></a>
<span class="sourceLineNo">008</span> *     Copyright (C) 2017-2023 PAX Computer Technology (Shenzhen) Co., Ltd. All rights reserved.<a name="line.8"></a>
<span class="sourceLineNo">009</span> * Description: // Detail description about the function of this module,<a name="line.9"></a>
<span class="sourceLineNo">010</span> *             // interfaces with the other modules, and dependencies.<a name="line.10"></a>
<span class="sourceLineNo">011</span> * Revision History:<a name="line.11"></a>
<span class="sourceLineNo">012</span> * Date                         Author                        Action<a name="line.12"></a>
<span class="sourceLineNo">013</span> * 2017/04/01                   PAX                     Create/Add/Modify/Delete<a name="line.13"></a>
<span class="sourceLineNo">014</span> * ===========================================================================================<a name="line.14"></a>
<span class="sourceLineNo">015</span> */<a name="line.15"></a>
<span class="sourceLineNo">016</span> <a name="line.16"></a>
<span class="sourceLineNo">017</span>package com.pax.dal;<a name="line.17"></a>
<span class="sourceLineNo">018</span><a name="line.18"></a>
<span class="sourceLineNo">019</span>import com.pax.dal.entity.ApduRespInfo;<a name="line.19"></a>
<span class="sourceLineNo">020</span>import com.pax.dal.entity.ApduSendInfo;<a name="line.20"></a>
<span class="sourceLineNo">021</span>import com.pax.dal.entity.EDetectMode;<a name="line.21"></a>
<span class="sourceLineNo">022</span>import com.pax.dal.entity.EM1KeyType;<a name="line.22"></a>
<span class="sourceLineNo">023</span>import com.pax.dal.entity.EM1OperateType;<a name="line.23"></a>
<span class="sourceLineNo">024</span>import com.pax.dal.entity.EPiccRemoveMode;<a name="line.24"></a>
<span class="sourceLineNo">025</span>import com.pax.dal.entity.EUartPort;<a name="line.25"></a>
<span class="sourceLineNo">026</span>import com.pax.dal.entity.PiccCardInfo;<a name="line.26"></a>
<span class="sourceLineNo">027</span>import com.pax.dal.entity.PiccPara;<a name="line.27"></a>
<span class="sourceLineNo">028</span>import com.pax.dal.exceptions.PiccDevException;<a name="line.28"></a>
<span class="sourceLineNo">029</span><a name="line.29"></a>
<span class="sourceLineNo">030</span>/**<a name="line.30"></a>
<span class="sourceLineNo">031</span> *  &lt;div class="zh"&gt;关于 POS PICC的API。 如果开启权限检查，需在AndroidManifest下添加权限:"com.pax.permission.PICC"&lt;/div&gt;<a name="line.31"></a>
<span class="sourceLineNo">032</span> *  &lt;div class="en"&gt;API for POS PICC. If permission check is enabled, you need to add permission under AndroidManifest: "com.pax.permission.PICC".&lt;/div&gt;<a name="line.32"></a>
<span class="sourceLineNo">033</span> */<a name="line.33"></a>
<span class="sourceLineNo">034</span>public interface IPicc {<a name="line.34"></a>
<span class="sourceLineNo">035</span>    /**<a name="line.35"></a>
<span class="sourceLineNo">036</span>     * &lt;div class="zh"&gt; 对非接触卡模块上电并复位，检查复位后模块初始状态是否正常 &lt;/div&gt; &lt;div class="en"&gt; Power on and reset contactless module, and<a name="line.36"></a>
<span class="sourceLineNo">037</span>     * check whether initial status of the module is normal. &lt;/div&gt;<a name="line.37"></a>
<span class="sourceLineNo">038</span>     * <a name="line.38"></a>
<span class="sourceLineNo">039</span>     * @throws PiccDevException<a name="line.39"></a>
<span class="sourceLineNo">040</span>     */<a name="line.40"></a>
<span class="sourceLineNo">041</span>    public void open() throws PiccDevException;<a name="line.41"></a>
<span class="sourceLineNo">042</span><a name="line.42"></a>
<span class="sourceLineNo">043</span>    /**<a name="line.43"></a>
<span class="sourceLineNo">044</span>     * &lt;div class="zh"&gt; 读取非接读卡器参数<a name="line.44"></a>
<span class="sourceLineNo">045</span>     * &lt;ul&gt;<a name="line.45"></a>
<span class="sourceLineNo">046</span>     * &lt;li&gt;该接口只有在{@link IPicc#open()}函数之后，PiccDetect()及piccInitFelica函数之前调用才有效&lt;/li&gt;<a name="line.46"></a>
<span class="sourceLineNo">047</span>     * &lt;li&gt;{@link IPicc#open()}函数调用之后，所有参数将恢复成默认值。&lt;/li&gt;<a name="line.47"></a>
<span class="sourceLineNo">048</span>     * &lt;/ul&gt;<a name="line.48"></a>
<span class="sourceLineNo">049</span>     * &lt;/div&gt; &lt;div class="en"&gt; Read Contactless Card Reader parameters.<a name="line.49"></a>
<span class="sourceLineNo">050</span>     * &lt;ul&gt;<a name="line.50"></a>
<span class="sourceLineNo">051</span>     * &lt;li&gt;Calling this interface is valid only between tht time after {@link IPicc#open()} function and before<a name="line.51"></a>
<span class="sourceLineNo">052</span>     * PiccDetect() function.&lt;/li&gt;<a name="line.52"></a>
<span class="sourceLineNo">053</span>     * &lt;li&gt;All the parameter will return to default value when calling {@link IPicc#open()} function.&lt;/li&gt;<a name="line.53"></a>
<span class="sourceLineNo">054</span>     * &lt;/ul&gt;<a name="line.54"></a>
<span class="sourceLineNo">055</span>     * &lt;/div&gt;<a name="line.55"></a>
<span class="sourceLineNo">056</span>     * <a name="line.56"></a>
<span class="sourceLineNo">057</span>     * @return {@link PiccPara}<a name="line.57"></a>
<span class="sourceLineNo">058</span>     * @throws PiccDevException<a name="line.58"></a>
<span class="sourceLineNo">059</span>     */<a name="line.59"></a>
<span class="sourceLineNo">060</span>    public PiccPara readParam() throws PiccDevException;<a name="line.60"></a>
<span class="sourceLineNo">061</span><a name="line.61"></a>
<span class="sourceLineNo">062</span>    /**<a name="line.62"></a>
<span class="sourceLineNo">063</span>     * &lt;div class="zh"&gt; 设置非接读卡器参数<a name="line.63"></a>
<span class="sourceLineNo">064</span>     * &lt;ul&gt;<a name="line.64"></a>
<span class="sourceLineNo">065</span>     * &lt;li&gt;{@link IPicc#open()}函数调用之后，所有参数将恢复成默认值。&lt;/li&gt;<a name="line.65"></a>
<span class="sourceLineNo">066</span>     * &lt;/ul&gt;<a name="line.66"></a>
<span class="sourceLineNo">067</span>     * &lt;/div&gt; &lt;div class="en"&gt; Contactless Card Reader parameters setting.<a name="line.67"></a>
<span class="sourceLineNo">068</span>     * &lt;ul&gt;<a name="line.68"></a>
<span class="sourceLineNo">069</span>     * &lt;li&gt;All the parameter will return to default value when calling {@link IPicc#open()} function.&lt;/li&gt;<a name="line.69"></a>
<span class="sourceLineNo">070</span>     * &lt;/ul&gt;<a name="line.70"></a>
<span class="sourceLineNo">071</span>     * &lt;/div&gt;<a name="line.71"></a>
<span class="sourceLineNo">072</span>     * <a name="line.72"></a>
<span class="sourceLineNo">073</span>     * @param para<a name="line.73"></a>
<span class="sourceLineNo">074</span>     *            {@link PiccPara}<a name="line.74"></a>
<span class="sourceLineNo">075</span>     * @throws PiccDevException<a name="line.75"></a>
<span class="sourceLineNo">076</span>     */<a name="line.76"></a>
<span class="sourceLineNo">077</span>    public void setParam(PiccPara para) throws PiccDevException;<a name="line.77"></a>
<span class="sourceLineNo">078</span><a name="line.78"></a>
<span class="sourceLineNo">079</span>    /**<a name="line.79"></a>
<span class="sourceLineNo">080</span>     * &lt;div class="zh"&gt; 设置felica卡的超时时间<a name="line.80"></a>
<span class="sourceLineNo">081</span>     * <a name="line.81"></a>
<span class="sourceLineNo">082</span>     * &lt;ul&gt;<a name="line.82"></a>
<span class="sourceLineNo">083</span>     * &lt;li&gt;该接口只有在{@link IPicc#open()}函数之后，PiccDetect()及piccInitFelica函数之前调用才有效&lt;/li&gt;<a name="line.83"></a>
<span class="sourceLineNo">084</span>     * &lt;li&gt;{@link IPicc#open()}函数调用之后，所有参数将恢复成默认值。&lt;/li&gt;<a name="line.84"></a>
<span class="sourceLineNo">085</span>     * &lt;/ul&gt;<a name="line.85"></a>
<span class="sourceLineNo">086</span>     * &lt;/div&gt; &lt;div class="en"&gt; set felica timeout<a name="line.86"></a>
<span class="sourceLineNo">087</span>     * &lt;ul&gt;<a name="line.87"></a>
<span class="sourceLineNo">088</span>     * &lt;li&gt;This interface is only valid when calling after {@link IPicc#open()} function and before PiccDetect()<a name="line.88"></a>
<span class="sourceLineNo">089</span>     * function.&lt;/li&gt;<a name="line.89"></a>
<span class="sourceLineNo">090</span>     * &lt;li&gt;All the parameter will return to default value when calling {@link IPicc#open()} function.&lt;/li&gt;<a name="line.90"></a>
<span class="sourceLineNo">091</span>     * &lt;/ul&gt;<a name="line.91"></a>
<span class="sourceLineNo">092</span>     * &lt;/div&gt;<a name="line.92"></a>
<span class="sourceLineNo">093</span>     * <a name="line.93"></a>
<span class="sourceLineNo">094</span>     * @param timeOut<a name="line.94"></a>
<span class="sourceLineNo">095</span>     *            &lt;div class="zh"&gt; 以ETU为单位，1ETU= 9.44微秒，如 设置超时时间10000(*9.44微秒)，大约为94.4ms &lt;/div&gt; &lt;div class="en"&gt; unit:ETU,<a name="line.95"></a>
<span class="sourceLineNo">096</span>     *            1ETU= 9.44μs,if the timeout time is 10000(*9.44 microseconds), it is about 94.4 milliseconds. &lt;/div&gt;<a name="line.96"></a>
<span class="sourceLineNo">097</span>     * <a name="line.97"></a>
<span class="sourceLineNo">098</span>     * @throws PiccDevException<a name="line.98"></a>
<span class="sourceLineNo">099</span>     */<a name="line.99"></a>
<span class="sourceLineNo">100</span>    public void setFelicaTimeOut(long timeOut) throws PiccDevException;<a name="line.100"></a>
<span class="sourceLineNo">101</span><a name="line.101"></a>
<span class="sourceLineNo">102</span>    /**<a name="line.102"></a>
<span class="sourceLineNo">103</span>     * &lt;div class="zh"&gt; 按指定的模式搜寻PICC卡片;搜到卡片后，将其选中并激活。 感应区内不允许多卡存在 &lt;/div&gt; &lt;div class="en"&gt; Detect PICC card according to<a name="line.103"></a>
<span class="sourceLineNo">104</span>     * appointed mode; when find the card,choose and activate it. &lt;/div&gt;<a name="line.104"></a>
<span class="sourceLineNo">105</span>     * <a name="line.105"></a>
<span class="sourceLineNo">106</span>     * @param mode<a name="line.106"></a>
<span class="sourceLineNo">107</span>     *            {@link EDetectMode}<a name="line.107"></a>
<span class="sourceLineNo">108</span>     * @return {@link PiccCardInfo}<a name="line.108"></a>
<span class="sourceLineNo">109</span>     * @throws PiccDevException<a name="line.109"></a>
<span class="sourceLineNo">110</span>     */<a name="line.110"></a>
<span class="sourceLineNo">111</span>    public PiccCardInfo detect(EDetectMode mode) throws PiccDevException;<a name="line.111"></a>
<span class="sourceLineNo">112</span><a name="line.112"></a>
<span class="sourceLineNo">113</span>    /**<a name="line.113"></a>
<span class="sourceLineNo">114</span>     * &lt;div class="zh"&gt; 按指定的模式搜寻PICC卡片;搜到卡片后，将其选中并激活。 感应区内不允许多卡存在 &lt;/div&gt; &lt;div class="en"&gt; Detect PICC card according to<a name="line.114"></a>
<span class="sourceLineNo">115</span>     * appointed mode; when find the card,choose and activate it. &lt;/div&gt;<a name="line.115"></a>
<span class="sourceLineNo">116</span>     * <a name="line.116"></a>
<span class="sourceLineNo">117</span>     * @param mode<a name="line.117"></a>
<span class="sourceLineNo">118</span>     *            &lt;div class="zh"&gt;<a name="line.118"></a>
<span class="sourceLineNo">119</span>     *            &lt;ul&gt;<a name="line.119"></a>
<span class="sourceLineNo">120</span>     *            &lt;li&gt;0x00:搜寻A型卡和B型卡一次, 此模式适用于需要增强多卡检测功能的场合。 该模式是符合ISO14443规范的寻卡模式&lt;/li&gt;<a name="line.120"></a>
<span class="sourceLineNo">121</span>     *            &lt;li&gt;0x01:搜寻A型卡和B型卡一次；此模式为EMV寻卡模式，通常使用该模式；&lt;/li&gt;<a name="line.121"></a>
<span class="sourceLineNo">122</span>     *            &lt;li&gt;'a'或 'A':只搜寻A型卡一次；&lt;/li&gt;<a name="line.122"></a>
<span class="sourceLineNo">123</span>     *            &lt;li&gt;'b'或'B':只搜寻B型卡一次；&lt;/li&gt;<a name="line.123"></a>
<span class="sourceLineNo">124</span>     *            &lt;li&gt;'m'或'M':只搜寻M1卡一次；&lt;/li&gt;<a name="line.124"></a>
<span class="sourceLineNo">125</span>     *            &lt;li&gt;0x10:VAS_OR_PAYMENT_MODE&lt;/li&gt;<a name="line.125"></a>
<span class="sourceLineNo">126</span>     *            &lt;li&gt;0x11:VAS_AND_PAYMENT_MODE&lt;/li&gt;<a name="line.126"></a>
<span class="sourceLineNo">127</span>     *            &lt;li&gt;0x12:VAS_MODE&lt;/li&gt;<a name="line.127"></a>
<span class="sourceLineNo">128</span>     *            &lt;li&gt;0x13:PAYMENT_MODE&lt;/li&gt;<a name="line.128"></a>
<span class="sourceLineNo">129</span>     *            &lt;/ul&gt;<a name="line.129"></a>
<span class="sourceLineNo">130</span>     *            &lt;/div&gt; &lt;div class="en"&gt;<a name="line.130"></a>
<span class="sourceLineNo">131</span>     *            &lt;ul&gt;<a name="line.131"></a>
<span class="sourceLineNo">132</span>     *            &lt;li&gt;0x00:Detect type A card once, and detect type B card once; it is not permitted to find more than 1<a name="line.132"></a>
<span class="sourceLineNo">133</span>     *            card in inductive area (includeing type A and type B card).This mode is the PICC card detecting mode<a name="line.133"></a>
<span class="sourceLineNo">134</span>     *            conforming the regulation of VISA WAVE, Master PayPass and China Union Pay.&lt;/li&gt;<a name="line.134"></a>
<span class="sourceLineNo">135</span>     *            &lt;li&gt;0x01:Detect type A card once, and detect type B card once;This mode is the EMV detecting<a name="line.135"></a>
<span class="sourceLineNo">136</span>     *            mode,usually use this mode.&lt;/li&gt;<a name="line.136"></a>
<span class="sourceLineNo">137</span>     *            &lt;li&gt;'a'or'A':Only detect type A card once; it is not permitted to find more than 1 type A card in<a name="line.137"></a>
<span class="sourceLineNo">138</span>     *            inductive area&lt;/li&gt;<a name="line.138"></a>
<span class="sourceLineNo">139</span>     *            &lt;li&gt;'b'or'B':Only detect type B card once; it is not permitted to find more than 1 type B card in<a name="line.139"></a>
<span class="sourceLineNo">140</span>     *            inductive area&lt;/li&gt;<a name="line.140"></a>
<span class="sourceLineNo">141</span>     *            &lt;li&gt;'m'or'M':Only detect type M1 card once; it is not permitted to find more than 1 type M1 card in<a name="line.141"></a>
<span class="sourceLineNo">142</span>     *            inductive area&lt;/li&gt;<a name="line.142"></a>
<span class="sourceLineNo">143</span>     *            &lt;li&gt;0x10:VAS_OR_PAYMENT_MODE&lt;/li&gt;<a name="line.143"></a>
<span class="sourceLineNo">144</span>     *            &lt;li&gt;0x11:VAS_AND_PAYMENT_MODE&lt;/li&gt;<a name="line.144"></a>
<span class="sourceLineNo">145</span>     *            &lt;li&gt;0x12:VAS_MODE&lt;/li&gt;<a name="line.145"></a>
<span class="sourceLineNo">146</span>     *            &lt;li&gt;0x13:PAYMENT_MODE&lt;/li&gt;<a name="line.146"></a>
<span class="sourceLineNo">147</span>     *            &lt;/ul&gt;<a name="line.147"></a>
<span class="sourceLineNo">148</span>     *            &lt;/div&gt;<a name="line.148"></a>
<span class="sourceLineNo">149</span>     * <a name="line.149"></a>
<span class="sourceLineNo">150</span>     * @return {@link PiccCardInfo}<a name="line.150"></a>
<span class="sourceLineNo">151</span>     * @throws PiccDevException<a name="line.151"></a>
<span class="sourceLineNo">152</span>     * @since V2.00.03<a name="line.152"></a>
<span class="sourceLineNo">153</span>     */<a name="line.153"></a>
<span class="sourceLineNo">154</span>    public PiccCardInfo detect(byte mode) throws PiccDevException;<a name="line.154"></a>
<span class="sourceLineNo">155</span><a name="line.155"></a>
<span class="sourceLineNo">156</span>    /**<a name="line.156"></a>
<span class="sourceLineNo">157</span>     * &lt;div class="zh"&gt; 在指定的通道上，向卡片发送APDU格式的数据，并接收响应。 &lt;/div&gt; &lt;div class="en"&gt; In specific channel, send data of APDU<a name="line.157"></a>
<span class="sourceLineNo">158</span>     * format to card and receive response. &lt;/div&gt;<a name="line.158"></a>
<span class="sourceLineNo">159</span>     * <a name="line.159"></a>
<span class="sourceLineNo">160</span>     * @param cid<a name="line.160"></a>
<span class="sourceLineNo">161</span>     *            &lt;div class="zh"&gt; 用于指定卡片逻辑通道号;该通道号由 detect()的CID参数项输出，其取值范围为 0~14，目前取值均为0 &lt;/div&gt; &lt;div class="en"&gt; Used<a name="line.161"></a>
<span class="sourceLineNo">162</span>     *            to appoint card logical channel number which is output by CID of detect(); Its range is 0~14 and its<a name="line.162"></a>
<span class="sourceLineNo">163</span>     *            current value is 0. &lt;/div&gt;<a name="line.163"></a>
<span class="sourceLineNo">164</span>     * <a name="line.164"></a>
<span class="sourceLineNo">165</span>     * @param send<a name="line.165"></a>
<span class="sourceLineNo">166</span>     *            &lt;div class="zh"&gt; 发送的IC卡命令数据(command, lc, dataIn, le) &lt;/div&gt; &lt;div class="en"&gt; Data structure of command<a name="line.166"></a>
<span class="sourceLineNo">167</span>     *            sent to IC card.(command, lc, dataIn, le) &lt;/div&gt;<a name="line.167"></a>
<span class="sourceLineNo">168</span>     * <a name="line.168"></a>
<span class="sourceLineNo">169</span>     * @return &lt;div class="zh"&gt; 接收的IC命令数据(byte[] DataOut; byte SWA; byte SWB;) &lt;/div&gt; &lt;div class="en"&gt; Data structure returned from IC card.(byte[] DataOut; byte SWA; byte SWB;) &lt;/div&gt;<a name="line.169"></a>
<span class="sourceLineNo">170</span>     * <a name="line.170"></a>
<span class="sourceLineNo">171</span>     * @throws PiccDevException<a name="line.171"></a>
<span class="sourceLineNo">172</span>     */<a name="line.172"></a>
<span class="sourceLineNo">173</span>    public byte[] isoCommand(byte cid, byte[] send) throws PiccDevException;<a name="line.173"></a>
<span class="sourceLineNo">174</span><a name="line.174"></a>
<span class="sourceLineNo">175</span>    /**<a name="line.175"></a>
<span class="sourceLineNo">176</span>     * &lt;div class="zh"&gt; 依据指定的模式，向卡片发送停机指令；或者发送停活指令；或者复位载波，并判断卡片是否已经移开感应区。 &lt;/div&gt; &lt;div class="en"&gt; Send stop command to<a name="line.176"></a>
<span class="sourceLineNo">177</span>     * card according to specific mode, or send halt command,or reset carrier, judge whether card is removed from<a name="line.177"></a>
<span class="sourceLineNo">178</span>     * inductive area in addition. &lt;/div&gt;<a name="line.178"></a>
<span class="sourceLineNo">179</span>     * <a name="line.179"></a>
<span class="sourceLineNo">180</span>     * @param mode<a name="line.180"></a>
<span class="sourceLineNo">181</span>     *            {@link EPiccRemoveMode} &lt;div class="zh"&gt;<a name="line.181"></a>
<span class="sourceLineNo">182</span>     * <a name="line.182"></a>
<span class="sourceLineNo">183</span>     *            &lt;/div&gt; &lt;div class="en"&gt;<a name="line.183"></a>
<span class="sourceLineNo">184</span>     *            &lt;ul&gt;<a name="line.184"></a>
<span class="sourceLineNo">185</span>     *            &lt;li&gt;EMV - Comply with the remove card mode of EMV<a name="line.185"></a>
<span class="sourceLineNo">186</span>     *              non-connected standard Reset carrier, and execute card removed detection.&lt;/li&gt;<a name="line.186"></a>
<span class="sourceLineNo">187</span>     *            &lt;/ul&gt;<a name="line.187"></a>
<span class="sourceLineNo">188</span>     *            &lt;/div&gt;<a name="line.188"></a>
<span class="sourceLineNo">189</span>     * <a name="line.189"></a>
<span class="sourceLineNo">190</span>     * @param cid<a name="line.190"></a>
<span class="sourceLineNo">191</span>     *            &lt;div class="zh"&gt; detect()调用中返回的卡片逻辑通道号，目前均为0 &lt;/div&gt; &lt;div class="en"&gt; Logical channel number returned<a name="line.191"></a>
<span class="sourceLineNo">192</span>     *            from calling detect(), all 0 at present. &lt;/div&gt;<a name="line.192"></a>
<span class="sourceLineNo">193</span>     * <a name="line.193"></a>
<span class="sourceLineNo">194</span>     * @throws PiccDevException<a name="line.194"></a>
<span class="sourceLineNo">195</span>     */<a name="line.195"></a>
<span class="sourceLineNo">196</span>    public void remove(EPiccRemoveMode mode, byte cid) throws PiccDevException;<a name="line.196"></a>
<span class="sourceLineNo">197</span><a name="line.197"></a>
<span class="sourceLineNo">198</span>    /**<a name="line.198"></a>
<span class="sourceLineNo">199</span>     * &lt;div class="zh"&gt; 关闭PICC模块，使该模块处于下电状态。 &lt;/div&gt; &lt;div class="en"&gt; Close PICC module, and make it in power off status.<a name="line.199"></a>
<span class="sourceLineNo">200</span>     * &lt;/div&gt;<a name="line.200"></a>
<span class="sourceLineNo">201</span>     * <a name="line.201"></a>
<span class="sourceLineNo">202</span>     * @throws PiccDevException<a name="line.202"></a>
<span class="sourceLineNo">203</span>     */<a name="line.203"></a>
<span class="sourceLineNo">204</span>    public void close() throws PiccDevException;<a name="line.204"></a>
<span class="sourceLineNo">205</span><a name="line.205"></a>
<span class="sourceLineNo">206</span>    /**<a name="line.206"></a>
<span class="sourceLineNo">207</span>     * &lt;div class="zh"&gt; 验证m1卡访问时读写相应块需要提交的A密码或B密码。 &lt;/div&gt; &lt;div class="en"&gt; Verify password A or B that should be<a name="line.207"></a>
<span class="sourceLineNo">208</span>     * submitted when reading/writing correspoding block of M1 card. &lt;/div&gt;<a name="line.208"></a>
<span class="sourceLineNo">209</span>     * <a name="line.209"></a>
<span class="sourceLineNo">210</span>     * @param type<a name="line.210"></a>
<span class="sourceLineNo">211</span>     *            {@link EM1KeyType} &lt;div class="zh"&gt;<a name="line.211"></a>
<span class="sourceLineNo">212</span>     * <a name="line.212"></a>
<span class="sourceLineNo">213</span>     *            &lt;/div&gt; &lt;div class="en"&gt;<a name="line.213"></a>
<span class="sourceLineNo">214</span>     *            &lt;ul&gt;<a name="line.214"></a>
<span class="sourceLineNo">215</span>     *            &lt;li&gt;TYPE_A&lt;/li&gt;<a name="line.215"></a>
<span class="sourceLineNo">216</span>     *            &lt;li&gt;TYPE_B&lt;/li&gt;<a name="line.216"></a>
<span class="sourceLineNo">217</span>     *            &lt;/ul&gt;<a name="line.217"></a>
<span class="sourceLineNo">218</span>     *            &lt;/div&gt;<a name="line.218"></a>
<span class="sourceLineNo">219</span>     * <a name="line.219"></a>
<span class="sourceLineNo">220</span>     * @param blkNo<a name="line.220"></a>
<span class="sourceLineNo">221</span>     *            &lt;div class="zh"&gt; 用于指定访问的块号 &lt;/div&gt; &lt;div class="en"&gt; Used to specify visiting block number. &lt;/div&gt;<a name="line.221"></a>
<span class="sourceLineNo">222</span>     * <a name="line.222"></a>
<span class="sourceLineNo">223</span>     * @param pwd<a name="line.223"></a>
<span class="sourceLineNo">224</span>     *            &lt;div class="zh"&gt; 指向提交的密码缓冲区 &lt;/div&gt; &lt;div class="en"&gt; Points to password buffer. &lt;/div&gt;<a name="line.224"></a>
<span class="sourceLineNo">225</span>     * <a name="line.225"></a>
<span class="sourceLineNo">226</span>     * @param serialNo<a name="line.226"></a>
<span class="sourceLineNo">227</span>     *            &lt;div class="zh"&gt; 指向存放卡片序列号的缓冲区；存放 detect()调用返回的序列号信息SerialInfo 中的序列号部分，即SerialInfo+1 &lt;/div&gt; &lt;div<a name="line.227"></a>
<span class="sourceLineNo">228</span>     *            class="en"&gt; Points to first address of buffer storing card serial number; should point to serial<a name="line.228"></a>
<span class="sourceLineNo">229</span>     *            number part of SerialInfo returned after calling detect(), that is SerialInfo+1 &lt;/div&gt;<a name="line.229"></a>
<span class="sourceLineNo">230</span>     * <a name="line.230"></a>
<span class="sourceLineNo">231</span>     * @throws PiccDevException<a name="line.231"></a>
<span class="sourceLineNo">232</span>     */<a name="line.232"></a>
<span class="sourceLineNo">233</span>    public void m1Auth(EM1KeyType type, byte blkNo, byte[] pwd, byte[] serialNo) throws PiccDevException;<a name="line.233"></a>
<span class="sourceLineNo">234</span><a name="line.234"></a>
<span class="sourceLineNo">235</span>    /**<a name="line.235"></a>
<span class="sourceLineNo">236</span>     * &lt;div class="zh"&gt; 读取m1卡指定块的内容(共16字节) &lt;/div&gt; &lt;div class="en"&gt; Read content of block specified by M1 card (totally<a name="line.236"></a>
<span class="sourceLineNo">237</span>     * 16 bytes). &lt;/div&gt;<a name="line.237"></a>
<span class="sourceLineNo">238</span>     * <a name="line.238"></a>
<span class="sourceLineNo">239</span>     * @param blkNo<a name="line.239"></a>
<span class="sourceLineNo">240</span>     *            &lt;div class="zh"&gt; 用于指定访问的块号 &lt;/div&gt; &lt;div class="en"&gt; Used to appoint visiting block number. &lt;/div&gt;<a name="line.240"></a>
<span class="sourceLineNo">241</span>     * @return &lt;div class="zh"&gt; 返回指定块的内容 &lt;/div&gt; &lt;div class="en"&gt; return the specified block content. &lt;/div&gt;<a name="line.241"></a>
<span class="sourceLineNo">242</span>     * <a name="line.242"></a>
<span class="sourceLineNo">243</span>     * @throws PiccDevException<a name="line.243"></a>
<span class="sourceLineNo">244</span>     */<a name="line.244"></a>
<span class="sourceLineNo">245</span>    public byte[] m1Read(byte blkNo) throws PiccDevException;<a name="line.245"></a>
<span class="sourceLineNo">246</span><a name="line.246"></a>
<span class="sourceLineNo">247</span>    /**<a name="line.247"></a>
<span class="sourceLineNo">248</span>     * &lt;div class="zh"&gt; 向m1卡指定块写入指定的内容(共16字节) &lt;/div&gt; &lt;div class="en"&gt; Write specified content to specified block of M1<a name="line.248"></a>
<span class="sourceLineNo">249</span>     * card (totally 16 bytes). &lt;/div&gt;<a name="line.249"></a>
<span class="sourceLineNo">250</span>     * <a name="line.250"></a>
<span class="sourceLineNo">251</span>     * @param blkNo<a name="line.251"></a>
<span class="sourceLineNo">252</span>     *            &lt;div class="zh"&gt; 用于指定访问的块号 &lt;/div&gt; &lt;div class="en"&gt; Used to appoint visiting block number. &lt;/div&gt;<a name="line.252"></a>
<span class="sourceLineNo">253</span>     * <a name="line.253"></a>
<span class="sourceLineNo">254</span>     * @param blkValue<a name="line.254"></a>
<span class="sourceLineNo">255</span>     *            &lt;div class="zh"&gt; 指向待存取块内容的缓冲区;该缓冲区至少应分 配16字节 &lt;/div&gt; &lt;div class="en"&gt; Points to first address of buffer<a name="line.255"></a>
<span class="sourceLineNo">256</span>     *            waiting for storing block content; this buffer should be allocated at least 16 bytes. &lt;/div&gt;<a name="line.256"></a>
<span class="sourceLineNo">257</span>     * <a name="line.257"></a>
<span class="sourceLineNo">258</span>     * @throws PiccDevException<a name="line.258"></a>
<span class="sourceLineNo">259</span>     */<a name="line.259"></a>
<span class="sourceLineNo">260</span>    public void m1Write(byte blkNo, byte[] blkValue) throws PiccDevException;<a name="line.260"></a>
<span class="sourceLineNo">261</span><a name="line.261"></a>
<span class="sourceLineNo">262</span>    /**<a name="line.262"></a>
<span class="sourceLineNo">263</span>     * &lt;div class="zh"&gt;对M1卡钱包进行充值或减值操作，并最终更新主钱包或备用钱包。 对m1卡的指定数据块BlkNo进行充/减值/备份操作，将操作后的值更新到另一个指定的数据块UpdateBlkNo。<a name="line.263"></a>
<span class="sourceLineNo">264</span>     * &lt;p&gt;<a name="line.264"></a>
<span class="sourceLineNo">265</span>     * 说明：<a name="line.265"></a>
<span class="sourceLineNo">266</span>     * &lt;/p&gt;<a name="line.266"></a>
<span class="sourceLineNo">267</span>     * &lt;ul&gt;<a name="line.267"></a>
<span class="sourceLineNo">268</span>     * &lt;li&gt;若BlkNo与UpdateBlkNo块号相同时，若进行{@link EM1OperateType#DECREMENT}或{@link EM1OperateType#INCREMENT}操作，则对该块号进行增值或减值&lt;/li&gt;<a name="line.268"></a>
<span class="sourceLineNo">269</span>     * &lt;li&gt;若BlkNo与UpdateBlkNo块号不同时，若进行{@link EM1OperateType#DECREMENT}或{@link EM1OperateType#INCREMENT}<a name="line.269"></a>
<span class="sourceLineNo">270</span>     * 操作，则BlkNo内存储的金额不变，UpdateBlkNo的金额等于BlkNo的金额进行相应的增值或减值&lt;/li&gt;<a name="line.270"></a>
<span class="sourceLineNo">271</span>     * &lt;li&gt;若进行{@link EM1OperateType#BACKUP}操作，则Value不起作用，将BlkNo内的金额存储到UpdateNo中&lt;/li&gt;<a name="line.271"></a>
<span class="sourceLineNo">272</span>     * &lt;/ul&gt;<a name="line.272"></a>
<span class="sourceLineNo">273</span>     * &lt;p&gt;<a name="line.273"></a>
<span class="sourceLineNo">274</span>     * 此函数涉及的块号必须是数值块，同时BlkNo与UpdateBlkNo必须在同一个扇区中<a name="line.274"></a>
<span class="sourceLineNo">275</span>     * &lt;/p&gt;<a name="line.275"></a>
<span class="sourceLineNo">276</span>     * &lt;/div&gt; &lt;div class="en"&gt; Do increase or decrease or backup to the specified data block BlkNo , get the result,and<a name="line.276"></a>
<span class="sourceLineNo">277</span>     * updates the result to another specified data block UpdateBlkNo.<a name="line.277"></a>
<span class="sourceLineNo">278</span>     * &lt;p&gt;<a name="line.278"></a>
<span class="sourceLineNo">279</span>     * introduction:<a name="line.279"></a>
<span class="sourceLineNo">280</span>     * &lt;/p&gt;<a name="line.280"></a>
<span class="sourceLineNo">281</span>     * &lt;ul&gt;<a name="line.281"></a>
<span class="sourceLineNo">282</span>     * &lt;li&gt;If the block numbers of BlkNo and UpdateBlkNo are the same , use "INCREMENT" or"DECREMENT" to increase or<a name="line.282"></a>
<span class="sourceLineNo">283</span>     * decrease the value of block number.&lt;/li&gt;<a name="line.283"></a>
<span class="sourceLineNo">284</span>     * &lt;li&gt;If the block numbers are different,when use "INCREMENT" or "DECREMENT" , the value stored in BlkNo will have<a name="line.284"></a>
<span class="sourceLineNo">285</span>     * no change, and the value of UpdateBlkNo block is equal to the corresponding increased or decreased value of<a name="line.285"></a>
<span class="sourceLineNo">286</span>     * BlkNo.&lt;/li&gt;<a name="line.286"></a>
<span class="sourceLineNo">287</span>     * &lt;li&gt;If doing the "BACKUP" operation, the value is invalid,then store the value of BlkNo into UpdateNo.&lt;/li&gt;<a name="line.287"></a>
<span class="sourceLineNo">288</span>     * &lt;/ul&gt;<a name="line.288"></a>
<span class="sourceLineNo">289</span>     * &lt;p&gt;<a name="line.289"></a>
<span class="sourceLineNo">290</span>     * The block numbers which refered in this function must be Chunk, BlkNo and UpdateBlkNo must be in the same sector.<a name="line.290"></a>
<span class="sourceLineNo">291</span>     * &lt;/p&gt;<a name="line.291"></a>
<span class="sourceLineNo">292</span>     * &lt;/div&gt;<a name="line.292"></a>
<span class="sourceLineNo">293</span>     * <a name="line.293"></a>
<span class="sourceLineNo">294</span>     * @param type<a name="line.294"></a>
<span class="sourceLineNo">295</span>     *            {@link EM1OperateType}<a name="line.295"></a>
<span class="sourceLineNo">296</span>     * @param blkNo<a name="line.296"></a>
<span class="sourceLineNo">297</span>     *            &lt;div class="zh"&gt; 用于指定访问的块号 &lt;/div&gt; &lt;div class="en"&gt; Use to specify the visiting block number. &lt;/div&gt;<a name="line.297"></a>
<span class="sourceLineNo">298</span>     * <a name="line.298"></a>
<span class="sourceLineNo">299</span>     * @param blkValue<a name="line.299"></a>
<span class="sourceLineNo">300</span>     *            &lt;div class="zh"&gt; 待充值或减值的金额数缓冲区；金额数共4 字节，低字节在前 &lt;/div&gt; &lt;div class="en"&gt; Points to the first address of<a name="line.300"></a>
<span class="sourceLineNo">301</span>     *            amount buffer waiting for increasing or decreasing value; amount is 4 bytes, and lower bytes ahead.<a name="line.301"></a>
<span class="sourceLineNo">302</span>     *            &lt;/div&gt;<a name="line.302"></a>
<span class="sourceLineNo">303</span>     * <a name="line.303"></a>
<span class="sourceLineNo">304</span>     * @param updateBlkNo<a name="line.304"></a>
<span class="sourceLineNo">305</span>     *            &lt;div class="zh"&gt; 指定操作结果最终写入到的块号。M1卡通常都有两个钱包：主钱包和备用钱包。 为了在对主钱包进行操作时，可以从出现的异常错误中恢复， 主钱包的操作结果通常会写入备用钱包。&lt;/div&gt;<a name="line.305"></a>
<span class="sourceLineNo">306</span>     *            &lt;div class="en"&gt;Specifies the block number to which the operation result is ultimately written. M1 cards usually have two wallets: the main wallet and the spare wallet. In order to recover from exceptional errors when operating the main wallet, the operation results of the main wallet are usually written to the standby wallet.<a name="line.306"></a>
<span class="sourceLineNo">307</span>     *            &lt;/div&gt;<a name="line.307"></a>
<span class="sourceLineNo">308</span>     * <a name="line.308"></a>
<span class="sourceLineNo">309</span>     * @throws PiccDevException<a name="line.309"></a>
<span class="sourceLineNo">310</span>     */<a name="line.310"></a>
<span class="sourceLineNo">311</span>    public void m1Operate(EM1OperateType type, byte blkNo, byte[] blkValue, byte updateBlkNo) throws PiccDevException;<a name="line.311"></a>
<span class="sourceLineNo">312</span><a name="line.312"></a>
<span class="sourceLineNo">313</span>    /**<a name="line.313"></a>
<span class="sourceLineNo">314</span>     * &lt;div class="zh"&gt; 初始化射频卡接口芯片为FeliCa调制编码方式。 &lt;/div&gt; &lt;div class="en"&gt; Initializing Radio Frequency Card interface<a name="line.314"></a>
<span class="sourceLineNo">315</span>     * chip as FeliCa modulate coding function. &lt;/div&gt;<a name="line.315"></a>
<span class="sourceLineNo">316</span>     * <a name="line.316"></a>
<span class="sourceLineNo">317</span>     * @param rate<a name="line.317"></a>
<span class="sourceLineNo">318</span>     *            &lt;div class="zh"&gt; 设置与卡片交互的传输速率。<a name="line.318"></a>
<span class="sourceLineNo">319</span>     *            &lt;ul&gt;<a name="line.319"></a>
<span class="sourceLineNo">320</span>     *            &lt;li&gt;0-212Kbps&lt;/li&gt;<a name="line.320"></a>
<span class="sourceLineNo">321</span>     *            &lt;li&gt;1-424Kbps&lt;/li&gt;<a name="line.321"></a>
<span class="sourceLineNo">322</span>     *            &lt;/ul&gt;<a name="line.322"></a>
<span class="sourceLineNo">323</span>     *            &lt;/div&gt; &lt;div class="en"&gt; Setting transmission speed with card.<a name="line.323"></a>
<span class="sourceLineNo">324</span>     *            &lt;ul&gt;<a name="line.324"></a>
<span class="sourceLineNo">325</span>     *            &lt;li&gt;0-212Kbps&lt;/li&gt;<a name="line.325"></a>
<span class="sourceLineNo">326</span>     *            &lt;li&gt;1-424Kbps&lt;/li&gt;<a name="line.326"></a>
<span class="sourceLineNo">327</span>     *            &lt;/ul&gt;<a name="line.327"></a>
<span class="sourceLineNo">328</span>     *            &lt;/div&gt;<a name="line.328"></a>
<span class="sourceLineNo">329</span>     * <a name="line.329"></a>
<span class="sourceLineNo">330</span>     * @param pol<a name="line.330"></a>
<span class="sourceLineNo">331</span>     *            &lt;div class="zh"&gt; 设置FeliCa调制方式<a name="line.331"></a>
<span class="sourceLineNo">332</span>     *            &lt;ul&gt;<a name="line.332"></a>
<span class="sourceLineNo">333</span>     *            &lt;li&gt;0-为正向调制输出&lt;/li&gt;<a name="line.333"></a>
<span class="sourceLineNo">334</span>     *            &lt;li&gt;1-为反向调制输出&lt;/li&gt;<a name="line.334"></a>
<span class="sourceLineNo">335</span>     *            &lt;/ul&gt;<a name="line.335"></a>
<span class="sourceLineNo">336</span>     *            &lt;/div&gt; &lt;div class="en"&gt; Setting FeliCa modulate function.<a name="line.336"></a>
<span class="sourceLineNo">337</span>     *            &lt;ul&gt;<a name="line.337"></a>
<span class="sourceLineNo">338</span>     *            &lt;li&gt;0 -forward modulate output.&lt;/li&gt;<a name="line.338"></a>
<span class="sourceLineNo">339</span>     *            &lt;li&gt;1 -reverse modulate output.&lt;/li&gt;<a name="line.339"></a>
<span class="sourceLineNo">340</span>     *            &lt;/ul&gt;<a name="line.340"></a>
<span class="sourceLineNo">341</span>     *            &lt;/div&gt;<a name="line.341"></a>
<span class="sourceLineNo">342</span>     * <a name="line.342"></a>
<span class="sourceLineNo">343</span>     * @throws PiccDevException<a name="line.343"></a>
<span class="sourceLineNo">344</span>     */<a name="line.344"></a>
<span class="sourceLineNo">345</span>    public void initFelica(byte rate, byte pol) throws PiccDevException;<a name="line.345"></a>
<span class="sourceLineNo">346</span><a name="line.346"></a>
<span class="sourceLineNo">347</span>    /**<a name="line.347"></a>
<span class="sourceLineNo">348</span>     * &lt;div class="zh"&gt; led：亮灯控制 &lt;/div&gt; &lt;div class="en"&gt; led:Light Control &lt;/div&gt;<a name="line.348"></a>
<span class="sourceLineNo">349</span>     * <a name="line.349"></a>
<span class="sourceLineNo">350</span>     * <a name="line.350"></a>
<span class="sourceLineNo">351</span>     * @param led<a name="line.351"></a>
<span class="sourceLineNo">352</span>     *            &lt;div class="zh"&gt;<a name="line.352"></a>
<span class="sourceLineNo">353</span>     *            &lt;ul&gt;<a name="line.353"></a>
<span class="sourceLineNo">354</span>     *            &lt;li&gt;标志位为0表示灯灭&lt;/li&gt;<a name="line.354"></a>
<span class="sourceLineNo">355</span>     *            &lt;li&gt;标志位为1表示灯亮&lt;/li&gt;<a name="line.355"></a>
<span class="sourceLineNo">356</span>     *            &lt;li&gt;0x01 – 红灯标志位&lt;/li&gt;<a name="line.356"></a>
<span class="sourceLineNo">357</span>     *            &lt;li&gt;0x02 – 绿灯标志位&lt;/li&gt;<a name="line.357"></a>
<span class="sourceLineNo">358</span>     *            &lt;li&gt;0x04 – 黄灯标志位&lt;/li&gt;<a name="line.358"></a>
<span class="sourceLineNo">359</span>     *            &lt;li&gt;0x08 – 蓝灯标志位&lt;/li&gt;<a name="line.359"></a>
<span class="sourceLineNo">360</span>     *            &lt;li&gt;0x0f – 全亮&lt;/li&gt;<a name="line.360"></a>
<span class="sourceLineNo">361</span>     *            &lt;li&gt;0x00 – 全灭&lt;/li&gt;<a name="line.361"></a>
<span class="sourceLineNo">362</span>     *            &lt;/ul&gt;<a name="line.362"></a>
<span class="sourceLineNo">363</span>     *            &lt;/div&gt; &lt;div class="en"&gt;<a name="line.363"></a>
<span class="sourceLineNo">364</span>     *            &lt;ul&gt;<a name="line.364"></a>
<span class="sourceLineNo">365</span>     *            &lt;li&gt;0x01 - Red Light&lt;/li&gt;<a name="line.365"></a>
<span class="sourceLineNo">366</span>     *            &lt;li&gt;0x02 - Green Light&lt;/li&gt;<a name="line.366"></a>
<span class="sourceLineNo">367</span>     *            &lt;li&gt;0x04 - Yellow Light&lt;/li&gt;<a name="line.367"></a>
<span class="sourceLineNo">368</span>     *            &lt;li&gt;0x08 - Blue Light&lt;/li&gt;<a name="line.368"></a>
<span class="sourceLineNo">369</span>     *            &lt;li&gt;0x0f - All on&lt;/li&gt;<a name="line.369"></a>
<span class="sourceLineNo">370</span>     *            &lt;li&gt;0x00 - All off&lt;/li&gt;<a name="line.370"></a>
<span class="sourceLineNo">371</span>     *            &lt;/ul&gt;<a name="line.371"></a>
<span class="sourceLineNo">372</span>     *            &lt;/div&gt;<a name="line.372"></a>
<span class="sourceLineNo">373</span>     * <a name="line.373"></a>
<span class="sourceLineNo">374</span>     * @throws PiccDevException<a name="line.374"></a>
<span class="sourceLineNo">375</span>     */<a name="line.375"></a>
<span class="sourceLineNo">376</span>    public void setLed(byte led) throws PiccDevException;<a name="line.376"></a>
<span class="sourceLineNo">377</span><a name="line.377"></a>
<span class="sourceLineNo">378</span>    /**<a name="line.378"></a>
<span class="sourceLineNo">379</span>     * &lt;div class="zh"&gt; IC卡操作函数。该函数支持IC卡通用接口协议(T=0及T=1) &lt;/div&gt; &lt;div class="en"&gt; IC card operation function. This<a name="line.379"></a>
<span class="sourceLineNo">380</span>     * function supports IC card universal interface protocol (T=0 and T=1). &lt;/div&gt;<a name="line.380"></a>
<span class="sourceLineNo">381</span>     * <a name="line.381"></a>
<span class="sourceLineNo">382</span>     * @param cid<a name="line.382"></a>
<span class="sourceLineNo">383</span>     *            &lt;div class="zh"&gt; 用于指定卡片逻辑通道号;该通道号由 detect()的CID参数项输出，其取值范围为 0~14，目前取值均为0 &lt;/div&gt; &lt;div class="en"&gt; Used<a name="line.383"></a>
<span class="sourceLineNo">384</span>     *            to appoint card logical channel number which is output by CID of detect(); Its range is 0~14 and its<a name="line.384"></a>
<span class="sourceLineNo">385</span>     *            current value is 0. &lt;/div&gt;<a name="line.385"></a>
<span class="sourceLineNo">386</span>     * <a name="line.386"></a>
<span class="sourceLineNo">387</span>     * @param apduSendInfo<a name="line.387"></a>
<span class="sourceLineNo">388</span>     *            {@link ApduSendInfo} &lt;div class="zh"&gt;<a name="line.388"></a>
<span class="sourceLineNo">389</span>     *            &lt;ul&gt;<a name="line.389"></a>
<span class="sourceLineNo">390</span>     *            &lt;li&gt;command -CLA, INS, P1, P2.&lt;/li&gt;<a name="line.390"></a>
<span class="sourceLineNo">391</span>     *            &lt;li&gt;dataIn -发送给ICC的数据&lt;/li&gt;<a name="line.391"></a>
<span class="sourceLineNo">392</span>     *            &lt;li&gt;lc -发送的数据的长度&lt;/li&gt;<a name="line.392"></a>
<span class="sourceLineNo">393</span>     *            &lt;li&gt;le -期望接收到的数据长度&lt;/li&gt;<a name="line.393"></a>
<span class="sourceLineNo">394</span>     *            &lt;/ul&gt;<a name="line.394"></a>
<span class="sourceLineNo">395</span>     *            注意：底层通过传入le的值为256的方式来表示发送给卡片的APDU le为0，而传入le为0表示APDU不包含le &lt;/div&gt; &lt;div class="en"&gt; Note: set<a name="line.395"></a>
<span class="sourceLineNo">396</span>     *            apduSendInfo.le value to 256 to make LE 0 in the command(i.e. expect response data as much as<a name="line.396"></a>
<span class="sourceLineNo">397</span>     *            possible) ; setting apduSendInfo.le value to 0 means no response data expected.<a name="line.397"></a>
<span class="sourceLineNo">398</span>     *            &lt;ul&gt;<a name="line.398"></a>
<span class="sourceLineNo">399</span>     *            &lt;li&gt;dataOut -Returned data pointer from PICC.&lt;/li&gt;<a name="line.399"></a>
<span class="sourceLineNo">400</span>     *            &lt;li&gt;lenOut -The actual returned data length.&lt;/li&gt;<a name="line.400"></a>
<span class="sourceLineNo">401</span>     *            &lt;li&gt;swA -PICC status 1.&lt;/li&gt;<a name="line.401"></a>
<span class="sourceLineNo">402</span>     *            &lt;li&gt;swB -PICC status 2.&lt;/li&gt;<a name="line.402"></a>
<span class="sourceLineNo">403</span>     *            &lt;/ul&gt;<a name="line.403"></a>
<span class="sourceLineNo">404</span>     *            &lt;/div&gt;<a name="line.404"></a>
<span class="sourceLineNo">405</span>     * <a name="line.405"></a>
<span class="sourceLineNo">406</span>     * @return {@link ApduRespInfo}<a name="line.406"></a>
<span class="sourceLineNo">407</span>     * @throws PiccDevException<a name="line.407"></a>
<span class="sourceLineNo">408</span>     */<a name="line.408"></a>
<span class="sourceLineNo">409</span>    public ApduRespInfo isoCommandByApdu(byte cid, ApduSendInfo apduSendInfo) throws PiccDevException;<a name="line.409"></a>
<span class="sourceLineNo">410</span><a name="line.410"></a>
<span class="sourceLineNo">411</span>    /**<a name="line.411"></a>
<span class="sourceLineNo">412</span>     * &lt;div class="zh"&gt; 与卡片进行APDU数据交互，终端将paucInData中的数据直接发送给卡片，并接收卡片的应答数据。 &lt;/div&gt; &lt;div class="en"&gt; Processing APDU data<a name="line.412"></a>
<span class="sourceLineNo">413</span>     * interaction with card. Sending data of paucInData to the card directly,and receive the returned data. &lt;/div&gt;<a name="line.413"></a>
<span class="sourceLineNo">414</span>     * <a name="line.414"></a>
<span class="sourceLineNo">415</span>     * @param dataIn<a name="line.415"></a>
<span class="sourceLineNo">416</span>     *            &lt;div class="zh"&gt; 待发送的命令数据 &lt;/div&gt; &lt;div class="en"&gt; Command data which are waiting to sent. &lt;/div&gt;<a name="line.416"></a>
<span class="sourceLineNo">417</span>     * <a name="line.417"></a>
<span class="sourceLineNo">418</span>     * @param recvLen<a name="line.418"></a>
<span class="sourceLineNo">419</span>     *            &lt;div class="zh"&gt; 卡片接收数据缓冲区长度 &lt;/div&gt; &lt;div class="en"&gt; Data length of received card. &lt;/div&gt;<a name="line.419"></a>
<span class="sourceLineNo">420</span>     * <a name="line.420"></a>
<span class="sourceLineNo">421</span>     * @return &lt;div class="zh"&gt; 接收到的卡片数据 &lt;/div&gt; &lt;div class="en"&gt; paucOutData Data of received card. &lt;/div&gt;<a name="line.421"></a>
<span class="sourceLineNo">422</span>     * <a name="line.422"></a>
<span class="sourceLineNo">423</span>     * @throws PiccDevException<a name="line.423"></a>
<span class="sourceLineNo">424</span>     * @since V2.00.01<a name="line.424"></a>
<span class="sourceLineNo">425</span>     */<a name="line.425"></a>
<span class="sourceLineNo">426</span>    public byte[] cmdExchange(byte[] dataIn, int recvLen) throws PiccDevException;<a name="line.426"></a>
<span class="sourceLineNo">427</span><a name="line.427"></a>
<span class="sourceLineNo">428</span>    /**<a name="line.428"></a>
<span class="sourceLineNo">429</span>     * &lt;div class="zh"&gt; 设置外置非接触卡模块的连接端口&lt;/div&gt; &lt;div class="en"&gt; Set connection port of the external PICC&lt;/div&gt;<a name="line.429"></a>
<span class="sourceLineNo">430</span>     * <a name="line.430"></a>
<span class="sourceLineNo">431</span>     * @param port<a name="line.431"></a>
<span class="sourceLineNo">432</span>     *            {@link EUartPort}<a name="line.432"></a>
<span class="sourceLineNo">433</span>     * @since V3.02.00<a name="line.433"></a>
<span class="sourceLineNo">434</span>     */<a name="line.434"></a>
<span class="sourceLineNo">435</span>    void setPort(EUartPort port);<a name="line.435"></a>
<span class="sourceLineNo">436</span>    <a name="line.436"></a>
<span class="sourceLineNo">437</span>    /**<a name="line.437"></a>
<span class="sourceLineNo">438</span>     * &lt;div class="zh"&gt; 设置felica卡的超时时间。<a name="line.438"></a>
<span class="sourceLineNo">439</span>     * <a name="line.439"></a>
<span class="sourceLineNo">440</span>     * &lt;ul&gt;<a name="line.440"></a>
<span class="sourceLineNo">441</span>     * &lt;li&gt;该接口只有在{@link IPicc#open()}函数之后，PiccDetect()及piccInitFelica函数之前调用才有效&lt;/li&gt;<a name="line.441"></a>
<span class="sourceLineNo">442</span>     * &lt;li&gt;{@link IPicc#open()}函数调用之后，所有参数将恢复成默认值。&lt;/li&gt;<a name="line.442"></a>
<span class="sourceLineNo">443</span>     * &lt;/ul&gt;<a name="line.443"></a>
<span class="sourceLineNo">444</span>     * &lt;/div&gt; &lt;div class="en"&gt; set felica timeout.<a name="line.444"></a>
<span class="sourceLineNo">445</span>     * &lt;ul&gt;<a name="line.445"></a>
<span class="sourceLineNo">446</span>     * &lt;li&gt;This interface is only valid when calling after {@link IPicc#open()} function and before PiccDetect()<a name="line.446"></a>
<span class="sourceLineNo">447</span>     * function.&lt;/li&gt;<a name="line.447"></a>
<span class="sourceLineNo">448</span>     * &lt;li&gt;All the parameter will return to default value when calling {@link IPicc#open()} function.&lt;/li&gt;<a name="line.448"></a>
<span class="sourceLineNo">449</span>     * &lt;/ul&gt;<a name="line.449"></a>
<span class="sourceLineNo">450</span>     * &lt;/div&gt;<a name="line.450"></a>
<span class="sourceLineNo">451</span>     * <a name="line.451"></a>
<span class="sourceLineNo">452</span>     * @param timeout<a name="line.452"></a>
<span class="sourceLineNo">453</span>     *            &lt;div class="zh"&gt; 超时时间。单位：毫秒。 &lt;/div&gt; &lt;div class="en"&gt; Timeout. unit:milliseconds.&lt;/div&gt;<a name="line.453"></a>
<span class="sourceLineNo">454</span>     * <a name="line.454"></a>
<span class="sourceLineNo">455</span>     * @throws PiccDevException<a name="line.455"></a>
<span class="sourceLineNo">456</span>     */<a name="line.456"></a>
<span class="sourceLineNo">457</span>    public void setFelicaTimeout(int timeout) throws PiccDevException;<a name="line.457"></a>
<span class="sourceLineNo">458</span>    <a name="line.458"></a>
<span class="sourceLineNo">459</span>    <a name="line.459"></a>
<span class="sourceLineNo">460</span>    /**<a name="line.460"></a>
<span class="sourceLineNo">461</span>     * &lt;div class="zh"&gt; 按指定的模式搜寻PICC卡片;搜到卡片后，将其选中并激活。 感应区内不允许多卡存在 &lt;/div&gt; &lt;div class="en"&gt; Detect PICC card according to<a name="line.461"></a>
<span class="sourceLineNo">462</span>     * appointed mode; when find the card,choose and activate it. &lt;/div&gt;<a name="line.462"></a>
<span class="sourceLineNo">463</span>     * <a name="line.463"></a>
<span class="sourceLineNo">464</span>     * @param mode &lt;div class="zh"&gt;<a name="line.464"></a>
<span class="sourceLineNo">465</span>     *            &lt;ul&gt;<a name="line.465"></a>
<span class="sourceLineNo">466</span>     *            &lt;li&gt;0x00:搜寻A型卡和B型卡一次, 此模式适用于需要增强多卡检测功能的场合。 该模式是符合ISO14443规范的寻卡模式&lt;/li&gt;<a name="line.466"></a>
<span class="sourceLineNo">467</span>     *            &lt;li&gt;0x01:搜寻A型卡和B型卡一次；此模式为EMV寻卡模式，通常使用该模式；&lt;/li&gt;<a name="line.467"></a>
<span class="sourceLineNo">468</span>     *            &lt;li&gt;'a'或 'A':只搜寻A型卡一次；&lt;/li&gt;<a name="line.468"></a>
<span class="sourceLineNo">469</span>     *            &lt;li&gt;'b'或'B':只搜寻B型卡一次；&lt;/li&gt;<a name="line.469"></a>
<span class="sourceLineNo">470</span>     *            &lt;li&gt;'m'或'M':只搜寻M1卡一次；&lt;/li&gt;<a name="line.470"></a>
<span class="sourceLineNo">471</span>     *            &lt;li&gt;0x10:VAS_OR_PAYMENT_MODE&lt;/li&gt;<a name="line.471"></a>
<span class="sourceLineNo">472</span>     *            &lt;li&gt;0x11:VAS_AND_PAYMENT_MODE&lt;/li&gt;<a name="line.472"></a>
<span class="sourceLineNo">473</span>     *            &lt;li&gt;0x12:VAS_MODE&lt;/li&gt;<a name="line.473"></a>
<span class="sourceLineNo">474</span>     *            &lt;li&gt;0x13:PAYMENT_MODE&lt;/li&gt;<a name="line.474"></a>
<span class="sourceLineNo">475</span>     *            &lt;li&gt;'v'或'V':支持Apple ECP2.0。&lt;/li&gt;<a name="line.475"></a>
<span class="sourceLineNo">476</span>     *            &lt;/ul&gt;<a name="line.476"></a>
<span class="sourceLineNo">477</span>     *            &lt;/div&gt; &lt;div class="en"&gt;<a name="line.477"></a>
<span class="sourceLineNo">478</span>     *            &lt;ul&gt;<a name="line.478"></a>
<span class="sourceLineNo">479</span>     *            &lt;li&gt;0x00:Detect type A card once, and detect type B card once; it is not permitted to find more than 1<a name="line.479"></a>
<span class="sourceLineNo">480</span>     *            card in inductive area (includeing type A and type B card).This mode is the PICC card detecting mode<a name="line.480"></a>
<span class="sourceLineNo">481</span>     *            conforming the regulation of VISA WAVE, Master PayPass and China Union Pay.&lt;/li&gt;<a name="line.481"></a>
<span class="sourceLineNo">482</span>     *            &lt;li&gt;0x01:Detect type A card once, and detect type B card once;This mode is the EMV detecting<a name="line.482"></a>
<span class="sourceLineNo">483</span>     *            mode,usually use this mode.&lt;/li&gt;<a name="line.483"></a>
<span class="sourceLineNo">484</span>     *            &lt;li&gt;'a'or'A':Only detect type A card once; it is not permitted to find more than 1 type A card in<a name="line.484"></a>
<span class="sourceLineNo">485</span>     *            inductive area&lt;/li&gt;<a name="line.485"></a>
<span class="sourceLineNo">486</span>     *            &lt;li&gt;'b'or'B':Only detect type B card once; it is not permitted to find more than 1 type B card in<a name="line.486"></a>
<span class="sourceLineNo">487</span>     *            inductive area&lt;/li&gt;<a name="line.487"></a>
<span class="sourceLineNo">488</span>     *            &lt;li&gt;'m'or'M':Only detect type M1 card once; it is not permitted to find more than 1 type M1 card in<a name="line.488"></a>
<span class="sourceLineNo">489</span>     *            inductive area&lt;/li&gt;<a name="line.489"></a>
<span class="sourceLineNo">490</span>     *            &lt;li&gt;0x10:VAS_OR_PAYMENT_MODE&lt;/li&gt;<a name="line.490"></a>
<span class="sourceLineNo">491</span>     *            &lt;li&gt;0x11:VAS_AND_PAYMENT_MODE&lt;/li&gt;<a name="line.491"></a>
<span class="sourceLineNo">492</span>     *            &lt;li&gt;0x12:VAS_MODE&lt;/li&gt;<a name="line.492"></a>
<span class="sourceLineNo">493</span>     *            &lt;li&gt;0x13:PAYMENT_MODE&lt;/li&gt;<a name="line.493"></a>
<span class="sourceLineNo">494</span>     *            &lt;li&gt;'v'or'V':Support Apple ECP2.0&lt;/li&gt;<a name="line.494"></a>
<span class="sourceLineNo">495</span>     *            &lt;/ul&gt;<a name="line.495"></a>
<span class="sourceLineNo">496</span>     *            &lt;/div&gt;<a name="line.496"></a>
<span class="sourceLineNo">497</span>     * @param other &lt;div class="zh"&gt;<a name="line.497"></a>
<span class="sourceLineNo">498</span>     * &lt;ul&gt;<a name="line.498"></a>
<span class="sourceLineNo">499</span>     * &lt;li&gt;当mode是'v'或'V'模式时，other参数可做为输入发送的命令。<a name="line.499"></a>
<span class="sourceLineNo">500</span>     *  &lt;ul&gt;<a name="line.500"></a>
<span class="sourceLineNo">501</span>     *   &lt;li&gt;首字节为0x01时，输入固定四字节长度。&lt;/li&gt;<a name="line.501"></a>
<span class="sourceLineNo">502</span>     *   &lt;li&gt;首字节为0x02时，输入变长字节，第二字节的低半字节X表示Terminal Data长度："\x02\x8X\x00\x00"+X字节Terminal Data。&lt;/li&gt;<a name="line.502"></a>
<span class="sourceLineNo">503</span>     *  &lt;/ul&gt;<a name="line.503"></a>
<span class="sourceLineNo">504</span>     * &lt;/li&gt;<a name="line.504"></a>
<span class="sourceLineNo">505</span>     * &lt;li&gt;当mode是其它值时，other可直接为NULL，此时同{@link #detect(byte)}。&lt;/li&gt;<a name="line.505"></a>
<span class="sourceLineNo">506</span>     * &lt;/ul&gt;&lt;/div&gt; <a name="line.506"></a>
<span class="sourceLineNo">507</span>     * &lt;div class="en"&gt;<a name="line.507"></a>
<span class="sourceLineNo">508</span>     * &lt;ul&gt;<a name="line.508"></a>
<span class="sourceLineNo">509</span>     * &lt;li&gt;When mode is 'v' or 'v' mode, the other parameter can be sent as input.<a name="line.509"></a>
<span class="sourceLineNo">510</span>     *  &lt;ul&gt;<a name="line.510"></a>
<span class="sourceLineNo">511</span>     *   &lt;li&gt;When the first byte is 0x01, input a fixed four-byte length.&lt;/li&gt;<a name="line.511"></a>
<span class="sourceLineNo">512</span>     *   &lt;li&gt;When the first byte is 0x02, input variable length byte, and the low half byte X of the second byte represents Terminal Data length: "\x02\x8X\x00\x00"+X byte Terminal Data.&lt;/li&gt;<a name="line.512"></a>
<span class="sourceLineNo">513</span>     *  &lt;/ul&gt;<a name="line.513"></a>
<span class="sourceLineNo">514</span>     * &lt;/li&gt;<a name="line.514"></a>
<span class="sourceLineNo">515</span>     * &lt;li&gt;When mode is something else, other can be NULL, which is the same as {@link #detect(byte)}.&lt;/li&gt;<a name="line.515"></a>
<span class="sourceLineNo">516</span>     * &lt;/ul&gt;&lt;/div&gt;<a name="line.516"></a>
<span class="sourceLineNo">517</span>     * @return {@link PiccCardInfo}<a name="line.517"></a>
<span class="sourceLineNo">518</span>     * @throws PiccDevException<a name="line.518"></a>
<span class="sourceLineNo">519</span>     * @since V3.13.00<a name="line.519"></a>
<span class="sourceLineNo">520</span>     */<a name="line.520"></a>
<span class="sourceLineNo">521</span>    PiccCardInfo detect(byte mode, byte[] other) throws PiccDevException;<a name="line.521"></a>
<span class="sourceLineNo">522</span>    /**<a name="line.522"></a>
<span class="sourceLineNo">523</span>     * &lt;div class="zh"&gt;设置模拟卡片的参数。&lt;/div&gt; &lt;div class="en"&gt;Set the parameters of the emulate card.&lt;/div&gt;<a name="line.523"></a>
<span class="sourceLineNo">524</span>     * <a name="line.524"></a>
<span class="sourceLineNo">525</span>     * @param sensRes &lt;div class="zh"&gt;传入2字节的ATQA。ATQA为WUPA/REQA的应答。如果传入NULL，则使用默认的0x04, 0x00。&lt;/div&gt; <a name="line.525"></a>
<span class="sourceLineNo">526</span>     * &lt;div class="en"&gt;Pass in 2 bytes of ATQA. ATQA is  responses of WUPA/REQA. If NULL is passed, the default 0x04, 0x00 is used.&lt;/div&gt;<a name="line.526"></a>
<span class="sourceLineNo">527</span>     * <a name="line.527"></a>
<span class="sourceLineNo">528</span>     * @param nfcId1 &lt;div class="zh"&gt;传入3个字节的UID，为UID的第2，3，4字节，第1字节为硬件码，由非接芯片生成。如果传入NULL，则使用默认的0xA1, 0xA2, 0xA3。&lt;/div&gt;<a name="line.528"></a>
<span class="sourceLineNo">529</span>     * &lt;div class="en"&gt;The UID of 3 bytes is passed in, which is the 2nd, 3rd, 4th byte of UID, and the 1st byte is the hardware code, <a name="line.529"></a>
<span class="sourceLineNo">530</span>     *  which is generated by contractless card chip.If NULL is passed, the default 0xA1, 0xA2, 0xA3 is used.&lt;/div&gt;<a name="line.530"></a>
<span class="sourceLineNo">531</span>     * <a name="line.531"></a>
<span class="sourceLineNo">532</span>     * @param sleRes &lt;div class="zh"&gt;传入1字节的SAK。如果传入NULL，则使用默认的0x00。&lt;/div&gt; <a name="line.532"></a>
<span class="sourceLineNo">533</span>     * &lt;div class="en"&gt;The SAK of 1-byte is passed in. If NULL is passed in, the default 0x00 is used.&lt;/div&gt;<a name="line.533"></a>
<span class="sourceLineNo">534</span>     * <a name="line.534"></a>
<span class="sourceLineNo">535</span>     * @param pollingResp &lt;div class="zh"&gt;暂未启用，传入NULL。&lt;/div&gt; &lt;div class="en"&gt;Not enabled, pass NULL.&lt;/div&gt;<a name="line.535"></a>
<span class="sourceLineNo">536</span>     * <a name="line.536"></a>
<span class="sourceLineNo">537</span>     * @throws PiccDevException<a name="line.537"></a>
<span class="sourceLineNo">538</span>     * @since V3.17.00<a name="line.538"></a>
<span class="sourceLineNo">539</span>     */<a name="line.539"></a>
<span class="sourceLineNo">540</span>    void cardEmulateSetListenPara(byte[] sensRes, byte[] nfcId1, byte[] sleRes, byte[] pollingResp) throws PiccDevException;<a name="line.540"></a>
<span class="sourceLineNo">541</span>    <a name="line.541"></a>
<span class="sourceLineNo">542</span>    /**<a name="line.542"></a>
<span class="sourceLineNo">543</span>     * &lt;div class="zh"&gt;启动模拟对应类型的卡片，并监听是否有被读卡器成功寻卡。&lt;/div&gt; <a name="line.543"></a>
<span class="sourceLineNo">544</span>     * &lt;div class="en"&gt;Start the simulation of the corresponding type of card and listen for the reader to find the card successfully.&lt;/div&gt;<a name="line.544"></a>
<span class="sourceLineNo">545</span>     * <a name="line.545"></a>
<span class="sourceLineNo">546</span>     * @param mode &lt;div class="zh"&gt;0x01:表示模拟A类型的卡片。&lt;/div&gt; &lt;div class="en"&gt;0x01:Simulate a card of type A.&lt;/div&gt;<a name="line.546"></a>
<span class="sourceLineNo">547</span>     * <a name="line.547"></a>
<span class="sourceLineNo">548</span>     * @param recvMaxSize &lt;div class="zh"&gt;接收的最大长度。&lt;/div&gt; &lt;div class="en"&gt;The maximum length of reception.&lt;/div&gt;<a name="line.548"></a>
<span class="sourceLineNo">549</span>     * <a name="line.549"></a>
<span class="sourceLineNo">550</span>     * @param waitTimeMs &lt;div class="zh"&gt;等下被读卡器寻卡的等待时间，单位:毫秒。&lt;/div&gt; &lt;div class="en"&gt;The waiting time for the card reader to find the card. Units: milliseconds.&lt;/div&gt;<a name="line.550"></a>
<span class="sourceLineNo">551</span>     * <a name="line.551"></a>
<span class="sourceLineNo">552</span>     * @return &lt;div class="zh"&gt;对A类型卡，表示在防冲突完成之后，收到来自读卡器的第一条指令内容。&lt;/div&gt; <a name="line.552"></a>
<span class="sourceLineNo">553</span>     * &lt;div class="en"&gt;For type A CARDS, the first instruction from the card reader is received after the conflict prevention is completed.&lt;/div&gt;<a name="line.553"></a>
<span class="sourceLineNo">554</span>     * <a name="line.554"></a>
<span class="sourceLineNo">555</span>     * @throws PiccDevException<a name="line.555"></a>
<span class="sourceLineNo">556</span>     * @since V3.17.00<a name="line.556"></a>
<span class="sourceLineNo">557</span>     */<a name="line.557"></a>
<span class="sourceLineNo">558</span>    byte[] cardEmulateListen(byte mode, int recvMaxSize, int waitTimeMs) throws PiccDevException;<a name="line.558"></a>
<span class="sourceLineNo">559</span>    <a name="line.559"></a>
<span class="sourceLineNo">560</span>    /**<a name="line.560"></a>
<span class="sourceLineNo">561</span>     * &lt;div class="zh"&gt;卡端发送指令给读卡器。需在被读卡器成功寻卡之后调用。&lt;/div&gt; <a name="line.561"></a>
<span class="sourceLineNo">562</span>     * &lt;div class="en"&gt;The card side sends instructions to the card reader.To be called after the card reader has successfully found the card.&lt;/div&gt;<a name="line.562"></a>
<span class="sourceLineNo">563</span>     * <a name="line.563"></a>
<span class="sourceLineNo">564</span>     * @param buffer &lt;div class="zh"&gt;卡端发送指令的内容。&lt;/div&gt; &lt;div class="en"&gt;The card side sends the contents of the instruction.&lt;/div&gt;<a name="line.564"></a>
<span class="sourceLineNo">565</span>     * <a name="line.565"></a>
<span class="sourceLineNo">566</span>     * @throws PiccDevException<a name="line.566"></a>
<span class="sourceLineNo">567</span>     * @since V3.17.00<a name="line.567"></a>
<span class="sourceLineNo">568</span>     */<a name="line.568"></a>
<span class="sourceLineNo">569</span>    void cardEmulateSend(byte[] buffer) throws PiccDevException;<a name="line.569"></a>
<span class="sourceLineNo">570</span>    <a name="line.570"></a>
<span class="sourceLineNo">571</span>    /**<a name="line.571"></a>
<span class="sourceLineNo">572</span>     * &lt;div class="zh"&gt;卡端接收指令。&lt;/div&gt; &lt;div class="en"&gt;The card side receives instructions.&lt;/div&gt;<a name="line.572"></a>
<span class="sourceLineNo">573</span>     * <a name="line.573"></a>
<span class="sourceLineNo">574</span>     * @param recvMaxSize &lt;div class="zh"&gt;接收的最大字节数。&lt;/div&gt; &lt;div class="en"&gt;Maximum number of bytes received.&lt;/div&gt;<a name="line.574"></a>
<span class="sourceLineNo">575</span>     * <a name="line.575"></a>
<span class="sourceLineNo">576</span>     * @param waitTimeMs &lt;div class="zh"&gt;接收的等待时间。单位:毫秒。&lt;/div&gt; &lt;div class="en"&gt;Waiting time to receive. Units: milliseconds.&lt;/div&gt;<a name="line.576"></a>
<span class="sourceLineNo">577</span>     * <a name="line.577"></a>
<span class="sourceLineNo">578</span>     * @return &lt;div class="zh"&gt;接收的内容 。&lt;/div&gt; &lt;div class="en"&gt;Received content.&lt;/div&gt;<a name="line.578"></a>
<span class="sourceLineNo">579</span>     * <a name="line.579"></a>
<span class="sourceLineNo">580</span>     * @throws PiccDevException<a name="line.580"></a>
<span class="sourceLineNo">581</span>     * @since V3.17.00<a name="line.581"></a>
<span class="sourceLineNo">582</span>     */<a name="line.582"></a>
<span class="sourceLineNo">583</span>    byte[] cardEmulateReceive(int recvMaxSize, int waitTimeMs) throws PiccDevException;<a name="line.583"></a>
<span class="sourceLineNo">584</span>    <a name="line.584"></a>
<span class="sourceLineNo">585</span>    /**<a name="line.585"></a>
<span class="sourceLineNo">586</span>     * &lt;div class="zh"&gt;更改外置密码键盘通信波特率。&lt;/div&gt;<a name="line.586"></a>
<span class="sourceLineNo">587</span>     * &lt;div class="en"&gt;Change the external PINPAD communication Baud rate.&lt;/div&gt;<a name="line.587"></a>
<span class="sourceLineNo">588</span>     *<a name="line.588"></a>
<span class="sourceLineNo">589</span>     * @param bps &lt;div class="zh"&gt;波特率。<a name="line.589"></a>
<span class="sourceLineNo">590</span>     *              &lt;ul&gt;<a name="line.590"></a>
<span class="sourceLineNo">591</span>     *                   &lt;li&gt;9600&lt;/li&gt;<a name="line.591"></a>
<span class="sourceLineNo">592</span>     *                   &lt;li&gt;115200&lt;/li&gt;<a name="line.592"></a>
<span class="sourceLineNo">593</span>     *              &lt;/ul&gt;<a name="line.593"></a>
<span class="sourceLineNo">594</span>     *             &lt;/div&gt;<a name="line.594"></a>
<span class="sourceLineNo">595</span>     *             &lt;div class="en"&gt;Baud rate.<a name="line.595"></a>
<span class="sourceLineNo">596</span>     *              &lt;ul&gt;<a name="line.596"></a>
<span class="sourceLineNo">597</span>     *                  &lt;li&gt;9600&lt;/li&gt;<a name="line.597"></a>
<span class="sourceLineNo">598</span>     *                  &lt;li&gt;115200&lt;/li&gt;<a name="line.598"></a>
<span class="sourceLineNo">599</span>     *              &lt;/ul&gt;<a name="line.599"></a>
<span class="sourceLineNo">600</span>     *             &lt;/div&gt;<a name="line.600"></a>
<span class="sourceLineNo">601</span>     * @throws PiccDevException<a name="line.601"></a>
<span class="sourceLineNo">602</span>     * @since V3.18.00<a name="line.602"></a>
<span class="sourceLineNo">603</span>     */<a name="line.603"></a>
<span class="sourceLineNo">604</span>    void changeBaudRate(int bps) throws PiccDevException;<a name="line.604"></a>
<span class="sourceLineNo">605</span><a name="line.605"></a>
<span class="sourceLineNo">606</span>    /**<a name="line.606"></a>
<span class="sourceLineNo">607</span>     *  &lt;div class="zh"&gt;重置载波，快速复位。&lt;/div&gt;<a name="line.607"></a>
<span class="sourceLineNo">608</span>     *  &lt;div class="en"&gt;Reset the carrier and quickly reset.&lt;/div&gt;<a name="line.608"></a>
<span class="sourceLineNo">609</span>     *<a name="line.609"></a>
<span class="sourceLineNo">610</span>     * @throws PiccDevException PiccDevException<a name="line.610"></a>
<span class="sourceLineNo">611</span>     * @since V3.26.00<a name="line.611"></a>
<span class="sourceLineNo">612</span>     */<a name="line.612"></a>
<span class="sourceLineNo">613</span>    void resetCarrier() throws PiccDevException;<a name="line.613"></a>
<span class="sourceLineNo">614</span><a name="line.614"></a>
<span class="sourceLineNo">615</span>    /**<a name="line.615"></a>
<span class="sourceLineNo">616</span>     *  &lt;div class="zh"&gt;非接扩展功能，比如通过命令模拟 NFC URL TAG功能。&lt;/div&gt;<a name="line.616"></a>
<span class="sourceLineNo">617</span>     *  &lt;div class="en"&gt;Contactless extension functions, such as simulating the NFC URL TAG function through commands.&lt;/div&gt;<a name="line.617"></a>
<span class="sourceLineNo">618</span>     *<a name="line.618"></a>
<span class="sourceLineNo">619</span>     * @param data &lt;div class="zh"&gt;输入的数据。&lt;/div&gt; &lt;div class="en"&gt;Input data.&lt;/div&gt;<a name="line.619"></a>
<span class="sourceLineNo">620</span>     *<a name="line.620"></a>
<span class="sourceLineNo">621</span>     * @return &lt;div class="zh"&gt;接收的数据。&lt;/div&gt; &lt;div class="en"&gt;Received data.&lt;/div&gt;<a name="line.621"></a>
<span class="sourceLineNo">622</span>     * @throws PiccDevException PiccDevException<a name="line.622"></a>
<span class="sourceLineNo">623</span>     * @since V3.27.00<a name="line.623"></a>
<span class="sourceLineNo">624</span>     */<a name="line.624"></a>
<span class="sourceLineNo">625</span>    byte[] extendFunction(byte[] data) throws PiccDevException;<a name="line.625"></a>
<span class="sourceLineNo">626</span><a name="line.626"></a>
<span class="sourceLineNo">627</span>    /**<a name="line.627"></a>
<span class="sourceLineNo">628</span>     *  &lt;div class="zh"&gt;对ISO15693卡进行初始化配置 [目前仅支持X5]。&lt;/div&gt;<a name="line.628"></a>
<span class="sourceLineNo">629</span>     *  &lt;div class="en"&gt;Initialize the ISO15693 card (currently only X5 is supported).&lt;/div&gt;<a name="line.629"></a>
<span class="sourceLineNo">630</span>     *<a name="line.630"></a>
<span class="sourceLineNo">631</span>     * @param  codeMode &lt;div class="zh"&gt;设置与卡片交互的传输速率:&lt;br/&gt;0: 26.48 kbits/s &lt;br/&gt;其它值: 暂不支持 &lt;/div&gt;<a name="line.631"></a>
<span class="sourceLineNo">632</span>     *                  &lt;div class="en"&gt;Set the transmission rate for interacting with the card :&lt;br/&gt; 0:26.48 kbits/s &lt;br/&gt; Other values: not supported&lt;/div&gt;<a name="line.632"></a>
<span class="sourceLineNo">633</span>     * @throws PiccDevException PiccDevException<a name="line.633"></a>
<span class="sourceLineNo">634</span>     * @since V3.33.00<a name="line.634"></a>
<span class="sourceLineNo">635</span>     */<a name="line.635"></a>
<span class="sourceLineNo">636</span>    void initIso15693(byte codeMode) throws PiccDevException;<a name="line.636"></a>
<span class="sourceLineNo">637</span><a name="line.637"></a>
<span class="sourceLineNo">638</span>}<a name="line.638"></a>




























































</pre>
</div>
</body>
</html>
