<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_311) on Fri Dec 29 07:07:58 UTC 2023 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>IPedKeyIsolationMixedManager</title>
<meta name="date" content="2023-12-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet_en.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IPedKeyIsolationMixedManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":6,"i28":6,"i29":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/pax/dal/IPedKeyIsolationManager.html" title="interface in com.pax.dal"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/pax/dal/IPedNp.html" title="interface in com.pax.dal"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/pax/dal/IPedKeyIsolationMixedManager.html" target="_top">Frames</a></li>
<li><a href="IPedKeyIsolationMixedManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.pax.dal</div>
<h2 title="Interface IPedKeyIsolationMixedManager" class="title">Interface IPedKeyIsolationMixedManager</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.38">IPedKeyIsolationMixedManager</a></pre>
<div class="block"><div class="zh">PED密钥隔离混合管理模块。</div>
 <div class="en">The PED key isolation mixed manager module. </div></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#calcAes-byte-byte:A-byte:A-byte-">calcAes</a></span>(byte&nbsp;keyIndex,
       byte[]&nbsp;initVector,
       byte[]&nbsp;dataIn,
       byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用AES算法进行加密和解密
 <div class="en"> Use AES algorithm for encryption and decryption.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#calcAesDUKPTData-byte-byte-byte:A-byte:A-com.pax.dal.entity.EAlgorithmType-byte-">calcAesDUKPTData</a></span>(byte&nbsp;groupIndex,
                byte&nbsp;keyVarType,
                byte[]&nbsp;iv,
                byte[]&nbsp;dataIn,
                <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;algorithmType,
                byte&nbsp;mode)</code>
<div class="block"><div class="zh">使用 AES DUKPT 的数据加解密密钥，对输入缓存内数据进行加密或解密。
 <div class="en">Use the AES DUKPT data encryption and decryption key to encrypt or decrypt the data in the input buffer.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#calcDes-byte-byte:A-byte-">calcDes</a></span>(byte&nbsp;keyIndex,
       byte[]&nbsp;dataIn,
       byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用TDK对dataIn数据进行DES/TDES运算，使用DES或TDES根据密钥的长度而定。除0，1模式没有向量外，其他模式有向量但默认为NULL。
 <div class="en"> To use TDK encrypt or decrypt data by DES/TDES.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#calcDesExMode-byte-byte:A-byte:A-byte-">calcDesExMode</a></span>(byte&nbsp;keyIndex,
             byte[]&nbsp;initVector,
             byte[]&nbsp;dataIn,
             byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用TDK对数据进行DES/TDES解密或加密运算，输出明文或密文；一个指定的 TDK，只能用于加密或解密运算。
 <div class="en"> Use TDK to perform DES/TDES decryption or encryption operations on data, and output plaintext or ciphertext;
 a specified TDK can only be used for encryption or decryption operations</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#calcDUKPTDes-byte-byte-byte:A-byte:A-byte-">calcDUKPTDes</a></span>(byte&nbsp;groupIndex,
            byte&nbsp;keyVarType,
            byte[]&nbsp;iv,
            byte[]&nbsp;dataIn,
            byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥或DES密钥，对输入缓存内数据进行加密或解密。
 <div class="en"> Use MAC key or DES key of DUKPT to encrypt or decrypt the data in the input buffer.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#deriveKeyBySecureData-byte-byte-byte-byte-byte-byte:A-byte-">deriveKeyBySecureData</a></span>(byte&nbsp;srcKeyType,
                     byte&nbsp;srcKeyIdx,
                     byte&nbsp;dstKeyType,
                     byte&nbsp;dstKeyIdx,
                     byte&nbsp;secureDataIndex,
                     byte[]&nbsp;additionalDataIn,
                     byte&nbsp;derivationMode)</code>
<div class="block"><div class="zh"> 使用SecureData作为datain发散目的密钥。
 <div class="en"> Use SecureData as the datain divergence key.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#eraseAppKeys-int-">eraseAppKeys</a></span>(int&nbsp;mode)</code>
<div class="block"><div class="zh"> 删除应用密钥。
 <div class="en"> delete app key.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#eraseKey-byte-byte-">eraseKey</a></span>(byte&nbsp;keyType,
        byte&nbsp;keyIndex)</code>
<div class="block"><div class="zh">擦除指定的密钥。
 <div class="en">Erases the specified key.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#genRsaKey-byte-byte-byte-short-byte-">genRsaKey</a></span>(byte&nbsp;mode,
         byte&nbsp;prvKeyIdx,
         byte&nbsp;pubKeyIdx,
         short&nbsp;modLenBit,
         byte&nbsp;pubExpType)</code>
<div class="block"><div class="zh"> 生成RSA密钥对然后注入PED。
 <div class="en"> Generate RSA key pair and inject into PED.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getAesDUKPTMac-byte-byte:A-com.pax.dal.entity.EAlgorithmType-byte-">getAesDUKPTMac</a></span>(byte&nbsp;groupIndex,
              byte[]&nbsp;dataIn,
              <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;algorithmType,
              byte&nbsp;mode)</code>
<div class="block"><div class="zh">使用 AES DUKPT 的 MAC 密钥计算 MAC。 <div class="en">Use AES DUKPT's MAC key to calculate MAC.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getAesDUKPTPin-byte-java.lang.String-byte:A-com.pax.dal.entity.EAlgorithmType-byte-long-">getAesDUKPTPin</a></span>(byte&nbsp;groupIndex,
              java.lang.String&nbsp;exPinLen,
              byte[]&nbsp;dataIn,
              <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;algorithmType,
              byte&nbsp;mode,
              long&nbsp;timeoutMs)</code>
<div class="block"><div class="zh">在 PED 上输入 PIN,并使 AES DUKPT 的 PIN 密钥计算 PINBlock。
 <div class="en">Enter the PIN on the PED, and use the PIN key of AES DUKPT to calculate the PINBlock.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getDUKPTKsn-byte-">getDUKPTKsn</a></span>(byte&nbsp;groupIndex)</code>
<div class="block"><div class="zh"> 读取下一次计算的KSN。
 <div class="en"> KSN Reading the KSN which will be computed at next time.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getDUKPTMac-byte-byte:A-byte-">getDUKPTMac</a></span>(byte&nbsp;groupIndex,
           byte[]&nbsp;dataIn,
           byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥计算MAC。
 <div class="en"> Use MAC Key to calculate MAC.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getDUKPTPin-byte-java.lang.String-byte:A-byte-int-">getDUKPTPin</a></span>(byte&nbsp;groupIndex,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           byte&nbsp;mode,
           int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 在PED上输入PIN，并使DUKPT的PIN密钥计算PINBlock。
 <div class="en"> PINBlock Input the PIN on PED,and use the PINkey of DUKPT to calculate the PINBlock.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getKCV-byte-byte-byte-byte:A-">getKCV</a></span>(byte&nbsp;type,
      byte&nbsp;keyIndex,
      byte&nbsp;checkMode,
      byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh"> 获取密钥的KCV值，以供对话双方进行密钥验证，用指定的密钥及算法对一段数据进行加密，
 <div class="en"> Getting value of KCV for key verification of to side, using specific key and algorithm to encrypt data, and then return part of cryptograph.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getMac-byte-byte:A-byte-">getMac</a></span>(byte&nbsp;keyIndex,
      byte[]&nbsp;dataIn,
      byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 用KeyIdx指定的MAC密钥对DataIn进行mode指定的算法进行MAC运算，将MAC结果返回。
 <div class="en"> To use KeyIdx MAC key calculate the DataIn following the specified Mode algorithm, return the MAC result.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getMacAes-byte-byte:A-byte-">getMacAes</a></span>(byte&nbsp;keyIdx,
         byte[]&nbsp;dataIn,
         byte&nbsp;mode)</code>
<div class="block"><div class="zh">使用AES_TAK对DataIn用Mode指定的算法进行MAC运算，将16字节的MAC结果输出， MAC运算密钥是主密钥/工作密钥体系或固定密钥体系密钥或DUKPT密钥体系。
                  <br/>用法：
                  <br/>1.敏感服务授权：在此接口内部，先进行认证以获取敏感服务授权，若授权失败则退出。
                  <br/>2.补零规则：将报文数据分割成若干16个字节的BLOCK，最后一个BLOCK不满16个字节则后补0x00。
 <div class="en">Use AES_TAK to perform MAC operation on dataIn with the algorithm specified by Mode, and output the 16-byte MAC result.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getPinBlock-byte-java.lang.String-byte:A-byte-int-">getPinBlock</a></span>(byte&nbsp;keyIdx,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           byte&nbsp;mode,
           int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh">扫描键盘上输入的PIN并输出由 Mode指定算法加密的 PIN BLOCK。 
 <div class="en">Scan the PIN entered on the keyboard and output the PIN BLOCK encrypted by the algorithm specified by Mode.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getPinBlock-byte-java.lang.String-byte:A-byte-int-int-">getPinBlock</a></span>(byte&nbsp;keyIdx,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           byte&nbsp;mode,
           int&nbsp;timeoutMs,
           int&nbsp;controlTime)</code>
<div class="block"><div class="zh">扫描键盘上输入的PIN并输出由 Mode指定算法加密的 PIN BLOCK。 
 <div class="en">Scan the PIN entered on the keyboard and output the PIN BLOCK encrypted by the algorithm specified by Mode.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#incDUKPTKsn-byte-">incDUKPTKsn</a></span>(byte&nbsp;groupIndex)</code>
<div class="block"><div class="zh"> 每个KSN对应的DUKPT密钥，最多只能使用256次，当单个密钥使用 256次后，将返回<a href="../../../com/pax/dal/exceptions/EPedDevException.html#PED_ERR_DUKPT_NEED_INC_KSN"><code>EPedDevException.PED_ERR_DUKPT_NEED_INC_KSN</code></a>异常，
 需要调用该接口，给 KSN加1。 
 <div class="en"> The DUKPT key corresponding to each KSN can only be used up to 256 times.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#injectKeyBlock-byte-byte-byte-byte-byte:A-">injectKeyBlock</a></span>(byte&nbsp;format,
              byte&nbsp;srcKeyType,
              byte&nbsp;srcKeyIdx,
              byte&nbsp;dstKeyIdx,
              byte[]&nbsp;keyBlock)</code>
<div class="block"><div class="zh">往PED中注入一个密钥
 <div class="en">Inject a key into the PED.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity">RSAKeyInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#readRSAKey-byte-">readRSAKey</a></span>(byte&nbsp;rsaKeyIndex)</code>
<div class="block"><div class="zh"> 读取RSA公钥密钥。 <div class="en"> Read rsa public key.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/RSARecoverInfo.html" title="class in com.pax.dal.entity">RSARecoverInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#RSARecover-byte-byte:A-">RSARecover</a></span>(byte&nbsp;rsaKeyIndex,
          byte[]&nbsp;dataIn)</code>
<div class="block"><div class="zh"> 用存储在PED的RSA密钥进行数据RSA数据运算。
 <br>注意: 1.该函数对dataIn进行RSA加解密运算，运算结果输出到RSARecoverInfo
 <br>2.当rsaKeyIndex指定的密钥为私钥时，如果dataIn是对应公钥的加密密文，则RSARecoverInfo为dataIn的明文，否则RSARecoverInfo为dataIn的RSA密文；
 <br>3.当rsaKeyIndex指定的密钥为公钥时，如果dataIn是对应私钥的加密密文，则RSARecoverInfo为dataIn的明文，否则RSARecoverInfo为dataIn的RSA密文；
 <br>4.该方法可实现长度不超过4096bits的RSA运算。
 <div class="en"> Using the RSA key stored in PED to do the RSA data operation.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#setInputPinListener-com.pax.dal.IPed.IPedInputPinListener-">setInputPinListener</a></span>(<a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal">IPed.IPedInputPinListener</a>&nbsp;listener)</code>
<div class="block"><div class="zh"> 设置输入PIN监听器。 
 <div class="en"> Set the input PIN listener.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#writeAesDUKPTTIK-byte-byte-byte:A-byte:A-byte-byte:A-">writeAesDUKPTTIK</a></span>(byte&nbsp;groupIndex,
                byte&nbsp;srcKeyIndex,
                byte[]&nbsp;keyValue,
                byte[]&nbsp;ksn,
                byte&nbsp;checkMode,
                byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh">写入 AES DUKPT 初始密钥 AESTIK，并可以选择使用 KCV 验证密钥正确性。
 <div class="en">Write the AES DUKPT initial key AESTIK, and you can choose to use KCV to verify the correctness of the key.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#writeAesKey-byte-byte-byte-byte-byte:A-byte-byte:A-">writeAesKey</a></span>(byte&nbsp;srcKeyType,
           byte&nbsp;srcKeyIndex,
           byte&nbsp;destKeyType,
           byte&nbsp;destKeyIndex,
           byte[]&nbsp;destKeyValue,
           byte&nbsp;checkMode,
           byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh">写入一个AES密钥，并可以选择使用KCV验证密钥正确性。 <div class="en"> To write Aes key to PED, and use KCV to check the
 key correction.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#writeKey-byte-byte-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">writeKey</a></span>(byte&nbsp;srcKeyType,
        byte&nbsp;srcKeyIndex,
        byte&nbsp;dstKeyType,
        byte&nbsp;dstKeyIndex,
        byte[]&nbsp;destKeyValue,
        <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
        byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh"> 写入一个密钥，包括TLK，TMK和TWK的写入、发散，并可以选择使用KCV验证密钥正确性。</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#writeKeyEx-byte-byte-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-byte:A-byte-">writeKeyEx</a></span>(byte&nbsp;srcKeyType,
          byte&nbsp;srcKeyIndex,
          byte&nbsp;dstKeyType,
          byte&nbsp;dstKeyIndex,
          byte[]&nbsp;dstKeyValue,
          <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
          byte[]&nbsp;checkBuf,
          byte[]&nbsp;keyVarIn,
          byte&nbsp;keyVarMode)</code>
<div class="block"><div class="zh"> 写入一个密钥，包括TLK，TMK和TWK的写入、发散，并可以选择使用KCV验证密钥正确性。</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#writeRSAKey-byte-com.pax.dal.entity.RSAKeyInfo-">writeRSAKey</a></span>(byte&nbsp;rsaKeyIndex,
           <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity">RSAKeyInfo</a>&nbsp;info)</code>
<div class="block"><div class="zh"> 1.注入RSA密钥到PED <br/>
 2.PED最多支持10组RSA密钥,目前最长只支持256字节长的RSA密钥。 <br/>
 3.存储的RSA密钥是公钥还是私钥由密钥的指数长度决定,当密钥指数和模等长时,是私钥。 <br/>
 4.PED通过writeRSAKey注入RSA密钥。 <br/>
 5.通过RSARecover使用已注入的密钥进行RSA运算。 <br/>
 6.任何时候,RSA密钥可以进行重写。 <br/>
  <div class="en"></div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#writeTIK-byte-byte-byte:A-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">writeTIK</a></span>(byte&nbsp;groupIndex,
        byte&nbsp;srcKeyIndex,
        byte[]&nbsp;keyValue,
        byte[]&nbsp;ksn,
        <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
        byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh"> 写入TIK，并可以选择使用KCV验证密钥正确性。
 <div class="en"> Write in TIK, and can check the key correction by using KCV.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setInputPinListener-com.pax.dal.IPed.IPedInputPinListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInputPinListener</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.47">setInputPinListener</a>(<a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal">IPed.IPedInputPinListener</a>&nbsp;listener)</pre>
<div class="block"><div class="zh"> 设置输入PIN监听器。 </div>
 <div class="en"> Set the input PIN listener. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - <a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal"><code>IPed.IPedInputPinListener</code></a></dd>
</dl>
</li>
</ul>
<a name="calcAesDUKPTData-byte-byte-byte:A-byte:A-com.pax.dal.entity.EAlgorithmType-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcAesDUKPTData</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.105">calcAesDUKPTData</a>(byte&nbsp;groupIndex,
                             byte&nbsp;keyVarType,
                             byte[]&nbsp;iv,
                             byte[]&nbsp;dataIn,
                             <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;algorithmType,
                             byte&nbsp;mode)
                      throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">使用 AES DUKPT 的数据加解密密钥，对输入缓存内数据进行加密或解密。</div>
 <div class="en">Use the AES DUKPT data encryption and decryption key to encrypt or decrypt the data in the input buffer.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh">AES DUKPT密钥组索引。范围1~40。</div> <div class="en">AES DUKPT key group index. The range is 1~40.</div></dd>
<dd><code>keyVarType</code> - <div class="zh">
                                             <ul>
                                               <li>0x01: 用 AES DUKPT 数据加解密密钥运算。</li>
                                               <li>0x04: 使用应答数据密钥，仅支持加密模式，即mode 值只能为 0x01、0x03。</li>
                                               <li>0x05: 使用请求数据密钥，仅支持解密模式，即mode 值只能为 0x00、0x02。</li>
                                             </ul>
                                           </div> <div class="en">
                                             <ul>
                                               <li>0x01: Use AES DUKPT data encryption and decryption key operations.</li>
                                               <li>0x04: Using the response data key, only supports the encryption mode, that is, the mode value can only be 0x01, 0x03.</li>
                                               <li>0x05: When using the requested data key, only the decryption mode is supported, that is, the mode value can only be 0x00, 0x02.</li>
                                             </ul>
                                               </div></dd>
<dd><code>iv</code> - <div class="zh"> 8/16字节初始向量，CBC加解密时需要，如果传入NULL，将默认用“\x00\x00\x00\x00\x00\x00\x00\x00”或
                                        “\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00”作为初始向量 </div>
                                        <div class="en"> 8/16 bytes initialization vector, used for CBC encryption or decryption. If set it to NULL,
                                        it will use “\x00\x00\x00\x00\x00\x00\x00\x00” or “\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00”
                                        as the initialization vector by default. </div></dd>
<dd><code>dataIn</code> - <div class="zh">需要进行运算的数据。数据长度<=8192，8(TDES)/16(AES)整除。</div> <div class="en">The data to be calculated. Data length<=8192, evenly divided by 8(TDES)/16(AES).</div></dd>
<dd><code>algorithmType</code> - <div class="zh">
                                             <ul>
                                               <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_2TDEA_"><code>EAlgorithmType._2TDEA_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_3TDEA_"><code>EAlgorithmType._3TDEA_</code></a>时，使用TDES算法计算。</li>
                                               <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES128_"><code>EAlgorithmType._AES128_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES192_"><code>EAlgorithmType._AES192_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES256_"><code>EAlgorithmType._AES256_</code></a>时，使用AES算法计算。</li>
                                             </ul>
                                           </div> <div class="en">
                                             <ul>
                                               <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_2TDEA_"><code>EAlgorithmType._2TDEA_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_3TDEA_"><code>EAlgorithmType._3TDEA_</code></a>, use the TDES algorithm for calculation.</li>
                                               <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES128_"><code>EAlgorithmType._AES128_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES192_"><code>EAlgorithmType._AES192_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES256_"><code>EAlgorithmType._AES256_</code></a>, use the AES algorithm for calculation.</li>
                                             </ul>
                                               </div></dd>
<dd><code>mode</code> - <div class="zh">
                                             <ul>
                                               <li>0x00: ECB 解密</li>
                                               <li>0x01: ECB 加密</li>
                                               <li>0x02: CBC 解密</li>
                                               <li>0x03: CBC 加密</li>
                                             </ul>
                                           </div> <div class="en">
                                             <ul>
                                               <li>0x00: ECB decryption.</li>
                                               <li>0x01: ECB encryption.</li>
                                               <li>0x02: CBC decryption.</li>
                                               <li>0x03: CBC encryption.</li>
                                             </ul>
                                               </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="getAesDUKPTMac-byte-byte:A-com.pax.dal.entity.EAlgorithmType-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAesDUKPTMac</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.171">getAesDUKPTMac</a>(byte&nbsp;groupIndex,
                           byte[]&nbsp;dataIn,
                           <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;algorithmType,
                           byte&nbsp;mode)
                    throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">使用 AES DUKPT 的 MAC 密钥计算 MAC。</div> <div class="en">Use AES DUKPT's MAC key to calculate MAC.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh">AES DUKPT密钥组索引。范围1~40。</div> <div class="en">AES DUKPT key group index. The range is 1~40.</div></dd>
<dd><code>dataIn</code> - <div class="zh">要进行 MAC 运算的数据内容。数据的长度<=2048，长度不能被 8(TDES)/16(AES)整除，则自动补 0x00。</div>
                     <div class="en">The data content to be MAC operation. The length of the data <=2048, and the length cannot be divisible by 8(TDES)/16(AES), then 0x00 will be automatically added.</div></dd>
<dd><code>algorithmType</code> - <div class="zh">
                        <ul>
                          <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_2TDEA_"><code>EAlgorithmType._2TDEA_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_3TDEA_"><code>EAlgorithmType._3TDEA_</code></a>时，使用TDES算法计算。</li>
                          <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES128_"><code>EAlgorithmType._AES128_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES192_"><code>EAlgorithmType._AES192_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES256_"><code>EAlgorithmType._AES256_</code></a>时，使用AES算法计算。</li>
                          <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_HMAC128_"><code>EAlgorithmType._HMAC128_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_HMAC192_"><code>EAlgorithmType._HMAC192_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_HMAC256_"><code>EAlgorithmType._HMAC256_</code></a>时，仅支持HMAC-SHA256算法计算。即mode为0x25/0x45/0x65。</li>
                        </ul>
                      </div> <div class="en">
                        <ul>
                          <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_2TDEA_"><code>EAlgorithmType._2TDEA_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_3TDEA_"><code>EAlgorithmType._3TDEA_</code></a>, use the TDES algorithm for calculation.</li>
                          <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES128_"><code>EAlgorithmType._AES128_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES192_"><code>EAlgorithmType._AES192_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES256_"><code>EAlgorithmType._AES256_</code></a>, use the AES algorithm for calculation.</li>
                          <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_HMAC128_"><code>EAlgorithmType._HMAC128_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_HMAC192_"><code>EAlgorithmType._HMAC192_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_HMAC256_"><code>EAlgorithmType._HMAC256_</code></a>, only HMAC-SHA256 algorithm calculation is supported. That is, the mode is 0x25/0x45/0x65.</li>
                        </ul>
                      </div></dd>
<dd><code>mode</code> - <div class="zh">
                        <ul>
                          <li>0x20: 根据ANSI X9.9规范，将 BLOCK1 用 MAC密钥做 TDES/AES 加密，加密结果与 BLOCK2进行逐位异或后再用MAC密钥做 TDES/AES加密，依次进行得到 8(TDES)/16(AES)字节的加密结果。 KSN 不自动加 1。</li>
                          <li>0x21: Hypercom Fast Mode，将 BLOCK1 和BLOCK2 进行逐位异或，异或结果与 BLOCK3进 行 逐 位 异 或 ， 依 次 进 行 ， 最 后 得 到8(TDES)/16(AES)字节的异或结果，将该结果用MAC 密钥进行 TDES/AES 加密运算。KSN 不自动加 1。</li>
                          <li>0x22: 根据 ANSIX9.19 规范，将 BLOCK1 用MAC密钥做DES 加密(只取前8个字节的key)，加密结果与 BLOCK2 进行逐位异或后再用MAC 密钥做 DES 加密，依次进行得到 8 字节的加密结果，直到最后一次采用 TDES 加密。 KSN不自动加 1。 (不支持 AES 算法。)</li>
                          <li>0x23: CMAC算法。 KSN不自动加1。其它值保留扩展MAC算法。</li>
                          <li>0x25: HMAC-SHA256算法。 KSN不自动加1。</li>
                          <li>0x40: 根据ANSI X9.9规范，将 BLOCK1 用 MAC密钥做 TDES/AES 加密，加密结果与 BLOCK2进行逐位异或后再用MAC密钥做 TDES/AES加密，依次进行得到 8(TDES)/16(AES)字节的加密结果。 KSN 不自动加 1。</li>
                          <li>0x41: Hypercom Fast Mode，将 BLOCK1 和BLOCK2 进行逐位异或，异或结果与 BLOCK3进 行 逐 位 异 或 ， 依 次 进 行 ， 最 后 得 到8(TDES)/16(AES)字节的异或结果，将该结果用MAC 密钥进行 TDES/AES 加密运算。KSN 不自动加 1 。</li>
                          <li>0x42: 根据 ANSIX9.19 规范，将 BLOCK1 用MAC密钥做DES 加密(只取前8个字节的key)，加密结果与 BLOCK2 进行逐位异或后再用MAC 密钥做 DES 加密，依次进行得到 8 字节的加密结果，直到最后一次采用 TDES 加密。 KSN不自动加 1。 (不支持 AES 算法。) </li>
                          <li>0x43: CMAC算法。 KSN不自动加1。其它值保留扩展MAC算法。</li>
                          <li>0x45: HMAC-SHA256算法。 KSN不自动加1。</li>
                          <li>0x60: 据ANSI X9.9规范，将 BLOCK1 用 MAC密钥做 TDES/AES 加密，加密结果与 BLOCK2进行逐位异或后再用MAC密钥做 TDES/AES加密，依次进行得到 8(TDES)/16(AES)字节的加密结果。 KSN 不自动加 1。</li>
                          <li>0x61: Hypercom Fast Mode，将 BLOCK1 和BLOCK2 进行逐位异或，异或结果与 BLOCK3进 行 逐 位 异 或 ， 依 次 进 行 ， 最 后 得 到8(TDES)/16(AES)字节的异或结果，将该结果用MAC 密钥进行 TDES/AES 加密运算。KSN 不自动加 1。</li>
                          <li>0x62: 根据 ANSIX9.19 规范，将 BLOCK1 用MAC密钥做DES 加密(只取前8个字节的key)，加密结果与 BLOCK2 进行逐位异或后再用MAC 密钥做 DES 加密，依次进行得到 8 字节的加密结果，直到最后一次采用 TDES 加密。 KSN不自动加 1。 (不支持 AES 算法。) </li>
                          <li>0x63: CMAC算法。KSN不自动加1。 其它值保留扩展MAC算法。</li>
                          <li>0x65: HMAC-SHA256算法。 KSN不自动加1。</li>
                        </ul>
                      </div> <div class="en">
                        <ul>
                          <li>0x20: According to the ANSI X9.9 specification, BLOCK1 is encrypted with MAC key for TDES/AES, the encrypted result is XORed with BLOCK2 bit by bit, and then the MAC key is used for TDES/AES encryption, and then proceed to get 8(TDES)/16( AES) byte encryption result. KSN does not automatically increase by 1.</li>
                          <li>0x21: In Hypercom Fast Mode, BLOCK1 and BLOCK2 are XORed bit by bit, and the XOR result is XORed bit by bit with BLOCK3, and then proceeded in sequence. Finally, an XOR result of 8 (TDES)/16 (AES) bytes is obtained. Use this result The MAC key performs TDES/AES encryption operations. KSN does not automatically increase by 1.</li>
                          <li>0x22: According to the ANSIX9.19 specification, BLOCK1 is encrypted with MAC key for DES (only the key of the first 8 bytes is taken), and the encrypted result is XORed with BLOCK2 bit by bit, and then the MAC key is used for DES encryption, and then proceed to get 8 The result of byte encryption until the last TDES encryption. KSN does not automatically increase by 1. (The AES algorithm is not supported.)</li>
                          <li>0x23: CMAC algorithm. KSN does not automatically increase by 1. Other values retain the extended MAC algorithm.</li>
                          <li>0x25: HMAC-SHA256 algorithm. KSN does not automatically increase by 1.</li>
                          <li>0x40: According to the ANSI X9.9 specification, BLOCK1 is encrypted with MAC key for TDES/AES, the encrypted result is XORed with BLOCK2 bit by bit, and then the MAC key is used for TDES/AES encryption, and then proceed to get 8(TDES)/16( AES) byte encryption result. KSN does not automatically increase by 1.</li>
                          <li>0x41: In Hypercom Fast Mode, BLOCK1 and BLOCK2 are XORed bit by bit, and the XOR result is XORed bit by bit with BLOCK3, and then proceeded in sequence. Finally, an XOR result of 8 (TDES)/16 (AES) bytes is obtained. Use this result The MAC key performs TDES/AES encryption operations. KSN does not automatically increase by 1.</li>
                          <li>0x42: According to the ANSIX9.19 specification, BLOCK1 is encrypted with MAC key for DES (only the key of the first 8 bytes is taken), and the encrypted result is XORed with BLOCK2 bit by bit, and then the MAC key is used for DES encryption, and then proceed to get 8 The result of byte encryption until the last TDES encryption. KSN does not automatically increase by 1. (The AES algorithm is not supported.)</li>
                          <li>0x43: CMAC algorithm. KSN does not automatically increase by 1. Other values retain the extended MAC algorithm.</li>
                          <li>0x45: HMAC-SHA256 algorithm. KSN does not automatically increase by 1.</li>
                          <li>0x60: According to the ANSI X9.9 specification, BLOCK1 is encrypted with MAC key for TDES/AES, the encrypted result is XORed with BLOCK2 bit by bit, and then the MAC key is used for TDES/AES encryption, and then proceed to get 8(TDES)/16( AES) byte encryption result. KSN does not automatically increase by 1.</li>
                          <li>0x61: In Hypercom Fast Mode, BLOCK1 and BLOCK2 are XORed bit by bit, and the XOR result is XORed bit by bit with BLOCK3, and then proceeded in sequence. Finally, an XOR result of 8 (TDES)/16 (AES) bytes is obtained. Use this result The MAC key performs TDES/AES encryption operations. KSN does not automatically increase by 1.</li>
                          <li>0x62: According to the ANSIX9.19 specification, BLOCK1 is encrypted with MAC key for DES (only the key of the first 8 bytes is taken), and the encrypted result is XORed with BLOCK2 bit by bit, and then the MAC key is used for DES encryption, and then proceed to get 8 The result of byte encryption until the last TDES encryption. KSN does not automatically increase by 1. (The AES algorithm is not supported.)</li>
                          <li>0x63: CMAC algorithm. KSN does not automatically increase by 1. Other values retain the extended MAC algorithm.</li>
                          <li>0x65: HMAC-SHA256 algorithm. KSN does not automatically increase by 1.</li>
                        </ul>
                          </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a> <div class="zh">当mode等于HMAC-SHA256算法是，输出长度为32字节。</div>
         <div class="en">When the mode is equal to the HMAC-SHA256 algorithm, the output length is 32 bytes.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="getAesDUKPTPin-byte-java.lang.String-byte:A-com.pax.dal.entity.EAlgorithmType-byte-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAesDUKPTPin</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.232">getAesDUKPTPin</a>(byte&nbsp;groupIndex,
                           java.lang.String&nbsp;exPinLen,
                           byte[]&nbsp;dataIn,
                           <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;algorithmType,
                           byte&nbsp;mode,
                           long&nbsp;timeoutMs)
                    throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">在 PED 上输入 PIN,并使 AES DUKPT 的 PIN 密钥计算 PINBlock。</div>
 <div class="en">Enter the PIN on the PED, and use the PIN key of AES DUKPT to calculate the PINBlock.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh">AES DUKPT密钥组索引。范围1~40。</div> <div class="en">AES DUKPT key group index. The range is 1~40.</div></dd>
<dd><code>exPinLen</code> - <div class="zh">可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用","号隔开每个长度，密码长度的有效取值为：0，4~12。若允许输入 4、6 位密码并且允许无密码直接按确认，则该字符串应该设置为"0，4，6"。
                      若枚举 0 长度则示意可以不输任何数字而直接按确认键返回。若枚举字符串中存在长度的无效值，比如"2，6，7，10"，无效值将被忽略。</div> <div class="en">The valid password length string that can be entered, the application enumerates all the allowable password lengths,
                      and separates each length with a "," sign. The valid value of the password length is 0, 4~12. If 4 or 6-digit passwords are allowed and you can press confirm without a password, the character string should be set to "0, 4, 6".
                      If the length of the enumeration is 0, it means that you can directly press the enter key to return without entering any number. If there are invalid values of length in the enumerated string, such as "2, 6, 7, 10", the invalid value will be ignored.</div></dd>
<dd><code>dataIn</code> - <div class="zh">
                                             <ul>
                                               <li>当mode=0x20时，dataIn指向卡号移位后生成的16位主帐号，不包含校验位。</li>
                                               <li>当mode=0x21时，dataIn未使用，但是不能为NULL。 </li>
                                               <li>当mode=0x22时，dataIn指向卡号移位后生成的16位主帐号，不包含校验位。</li>
                                               <li>当mode=0x23时，为交易流水号ISN [6 Bytes,ASCII码]。</li>
                                               <li>当mode=0x24时，dataIn为主账号。</li>
                                             </ul></div>
                                           <div class="en">
                                             <ul>
                                               <li>When mode=0x20, dataIn points to the 16-bit primary account generated after the card number shift, excluding the check bit.</li>
                                               <li>When mode=0x21, dataIn is not in use, but cannot be NULL.</li>
                                               <li>When mode=0x22, dataIn points to the 16-bit primary account generated after the card number shift, excluding the check bit.</li>
                                               <li>When mode=0x23, is the transaction current number [6 Bytes,ASCII code].</li>
                                               <li>When mode=0x24, dataIn is primary account.</li>
                                             </ul></div></dd>
<dd><code>algorithmType</code> - <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity"><code>EAlgorithmType</code></a> <div class="zh">
                                               <ul>
                                                 <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_2TDEA_"><code>EAlgorithmType._2TDEA_</code></a>或者<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_3TDEA_"><code>EAlgorithmType._3TDEA_</code></a>时，使用 TDES算法计算(mode不能为0x24)。</li>
                                                 <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES128_"><code>EAlgorithmType._AES128_</code></a>或者<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES192_"><code>EAlgorithmType._AES192_</code></a>或者<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES256_"><code>EAlgorithmType._AES256_</code></a>时，使用 AES 算法计算(mode只能为0x24)。</li>
                                               </ul>
                                            </div> <div class="en">
                                               <ul>
                                                 <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_2TDEA_"><code>EAlgorithmType._2TDEA_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_3TDEA_"><code>EAlgorithmType._3TDEA_</code></a>, use the TDES algorithm for calculation (mode cannot be 0x24).</li>
                                                 <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES128_"><code>EAlgorithmType._AES128_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES192_"><code>EAlgorithmType._AES192_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES256_"><code>EAlgorithmType._AES256_</code></a>, use the AES algorithm for calculation (mode can only be 0x24).</li>
                                               </ul>
                                                </div></dd>
<dd><code>mode</code> - <div class="zh">
                                             <ul>
                                               <li>0x20:ISO9564 格式0，KSN不自动加1。</li>
                                               <li>0x21:ISO9564 格式1，KSN不自动加1。</li>
                                               <li>0x22:ISO9564 格式3，KSN不自动加1。</li>
                                               <li>0x23:HK EPS格式， KSN不自动加1。</li>
                                               <li>0x24:ISO9564 格式4，KSN不自动加1。</li>
                                             </ul></div>
                                           <div class="en">
                                             <ul>
                                               <li>0x20:ISO9564 format 0,KSN doesn't automatically add 1。</li>
                                               <li>0x21:ISO9564 format 1,KSN doesn't automatically add 1。</li>
                                               <li>0x22:ISO9564 format 3,KSN doesn't automatically add 1。</li>
                                               <li>0x23:HK EPS format, KSN doesn't automatically add 1。</li>
                                               <li>0x24:ISO9564 format 4,KSN doesn't automatically add 1。</li>
                                             </ul></div></dd>
<dd><code>timeoutMs</code> - <div class="zh"></div> <div class="en"></div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">输入 PIN 的超时时间。单位：毫秒，最大值为 300000ms。0表示没有超时时间，PED 不做超时控制。</div>
 <div class="en">Enter the PIN timeout period. Unit: milliseconds, the maximum value is 300000ms. 0 means there is no timeout period, and PED does not do timeout control.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="writeAesDUKPTTIK-byte-byte-byte:A-byte:A-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAesDUKPTTIK</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.270">writeAesDUKPTTIK</a>(byte&nbsp;groupIndex,
                      byte&nbsp;srcKeyIndex,
                      byte[]&nbsp;keyValue,
                      byte[]&nbsp;ksn,
                      byte&nbsp;checkMode,
                      byte[]&nbsp;checkBuf)
               throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">写入 AES DUKPT 初始密钥 AESTIK，并可以选择使用 KCV 验证密钥正确性。</div>
 <div class="en">Write the AES DUKPT initial key AESTIK, and you can choose to use KCV to verify the correctness of the key.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh">AES DUKPT密钥组索引。范围1~40。</div> <div class="en">AES DUKPT key group index. The range is 1~40.</div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">用于分散的密钥的密钥索引。范围0~1。目前仅支持明文写入，索引仅支持0。</div> <div class="en">The key index for the decentralized key. The range is 0~1. Currently, only plaintext writing is supported, and the index only supports 0.</div></dd>
<dd><code>keyValue</code> - <div class="zh">AESTIK 的明文。目前AES DUKPT 算法支持 16/24/32 字节长度的密钥。</div> <div class="en">The plain text of AESTIK. Currently, the AES DUKPT algorithm supports keys with a length of 16/24/32 bytes.</div></dd>
<dd><code>ksn</code> - <div class="zh">初始化 KSN。长度10/12 字节，只有在兼容模式才会是 10 字节。</div> <div class="en">Initialize KSN. The length is 10/12 bytes, only in compatibility mode will it be 10 bytes.</div></dd>
<dd><code>checkMode</code> - <div class="zh">验证模式。
                                         <ul>
                                           <li>0x00:无校验。</li>
                                           <li>0x05:对16个字节的 0x00进行AES加密,得到的密文的前3个字节即为KCV。</li>
                                           <li>0x06:对16个字节的 0x00进行AES CMAC加密,得到的密文的前3个字节即为KCV。</li>
                                         </ul>
                                       </div> <div class="en">Check mode.
                                         <ul>
                                           <li>0x00: No check.</li>
                                           <li>0x05:Perform AES encryption on the 16 bytes of 0x00, and the first 3 bytes of the ciphertext obtained are KCV.</li>
                                           <li>0x06:Perform AES CMAC encryption on the 16 bytes of 0x00, and the first 3 bytes of the ciphertext obtained are KCV.</li>
                                         </ul>    </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
                                         <ul>
                                           <li>当checkMode=0x00时，checkBuf的值无效，系统认为不验证KCV。</li>
                                           <li>当checkMode=0x05/0x06时，checkBuf[0]=KCV的长度，checkBuf[1]开始是KCV的值。</li>
                                         </ul>
                                       </div> <div class="en">
                                         <ul>
                                           <li>When checkMode=0x00, the value of checkBuf is invalid, and the system considers that KCV is not verified.</li>
                                           <li>When checkMode=0x05/0x06, checkBuf[0]=KCV length, checkBuf[1] starts with the value of KCV.</li>
                                         </ul>
                                           </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="calcAes-byte-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcAes</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.315">calcAes</a>(byte&nbsp;keyIndex,
               byte[]&nbsp;initVector,
               byte[]&nbsp;dataIn,
               byte&nbsp;mode)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用AES算法进行加密和解密</div>
 <div class="en"> Use AES algorithm for encryption and decryption. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh">AES_TDK密钥序号: 1~100 </div> <div class="en"> [1~100] AES_TDK index </div></dd>
<dd><code>initVector</code> - <div class="zh">ECB模式: 初始向量为空。 CBC/OFB模式: 初始向量, 16字节。  </div>
            <div class="en"> ECB mode: init vector is null .CBC/OFB mode: init vector, 16 bytes. </div></dd>
<dd><code>dataIn</code> - <div class="zh">用于加密或解密的数据，最大长度 <= 1024, 且为16的倍数。  </div>
            <div class="en"> the data to be calculated. The maximum length is <= 1024, and is a multiple of 16. </div></dd>
<dd><code>mode</code> - <div class="zh">
            <ul>
            <li>0x00: ECB模式解密</li>
            <li>0x01: ECB模式加密</li>
            <li>0x02: CBC模式解密</li>
            <li>0x03: CBC模式加密</li>
            <li>0x04: OFB模式解密</li>
            <li>0x05: OFB模式加密</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>0x00: DECRYPT#ECB</li>
            <li>0x01: ENCRYPT#ECB</li>
            <li>0x02: DECRYPT#CBC</li>
            <li>0x03: ENCRYPT#CBC</li>
            <li>0x04: DECRYPT#OFB</li>
            <li>0x05: ENCRYPT#OFB</li>
            </ul>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回运算后的数据 </div> <div class="en"> the data after calculation. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="calcDes-byte-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcDes</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.359">calcDes</a>(byte&nbsp;keyIndex,
               byte[]&nbsp;dataIn,
               byte&nbsp;mode)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用TDK对dataIn数据进行DES/TDES运算，使用DES或TDES根据密钥的长度而定。除0，1模式没有向量外，其他模式有向量但默认为NULL。</div>
 <div class="en"> To use TDK encrypt or decrypt data by DES/TDES. Using DES or TDES depends on the key length.
 Except for 0, 1 mode which does not have a vector, other modes have a vector but default to NULL.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TDK的索引 。</div> <div class="en"> [1~100] TDK index.</div></dd>
<dd><code>dataIn</code> - <div class="zh"> 用于运算的数据.除ECB和CBC最大支持8K bytes，其他模式的输入长度最大支持2048。</div>
            <div class="en"> Data used for calculation. Except for ECB and CBC, which support a maximum of 8K bytes, other modes supports a maximum of 2048.</div></dd>
<dd><code>mode</code> - <div class="zh">
            <ul>
            <li>0x00: ECB模式解密</li>
            <li>0x01: ECB模式加密</li>
            <li>0x02: CBC模式解密</li>
            <li>0x03: CBC模式加密</li>
            <li>0x04: OFB模式解密</li>
            <li>0x05: OFB模式加密</li>
            <li>0x06: CFB8模式解密</li>
            <li>0x07: CFB8模式加密</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>0x00: DECRYPT#ECB</li>
            <li>0x01: ENCRYPT#ECB</li>
            <li>0x02: DECRYPT#CBC</li>
            <li>0x03: ENCRYPT#CBC</li>
            <li>0x04: DECRYPT#OFB</li>
            <li>0x05: ENCRYPT#OFB</li>
            <li>0x06: DECRYPT#CFB8</li>
            <li>0x07: ENCRYPT#CFB8</li>
            </ul>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 运算后的数据 。</div> <div class="en"> The data which have been calculated. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="calcDesExMode-byte-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcDesExMode</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.404">calcDesExMode</a>(byte&nbsp;keyIndex,
                     byte[]&nbsp;initVector,
                     byte[]&nbsp;dataIn,
                     byte&nbsp;mode)
              throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用TDK对数据进行DES/TDES解密或加密运算，输出明文或密文；一个指定的 TDK，只能用于加密或解密运算。</div>
 <div class="en"> Use TDK to perform DES/TDES decryption or encryption operations on data, and output plaintext or ciphertext;
 a specified TDK can only be used for encryption or decryption operations</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TDK的索引 </div> <div class="en"> [1~100] TDK index </div></dd>
<dd><code>initVector</code> - <div class="zh">加解密运算的初始向量，长度为8字节，无论长度多少，只有前8字节有效。 </div>
            <diV class="en">The initial vector for encryption and decryption operations, the length is 8 bytes, no matter how long it is, only the first 8 bytes are valid.</div></dd>
<dd><code>dataIn</code> - <div class="zh"> 需要进行运算的数据,以字节为单位, 除0,1模式最大支持8K之外，其他模式最大支持1024 </div>
            <div class="en"> The data that needs to be calculated, in bytes, except for the 0,1 mode that supports a maximum of 8K, other modes support a maximum of 1024.</div></dd>
<dd><code>mode</code> - <div class="zh">
            <ul>
            <li>0x00: CBC模式解密</li>
            <li>0x01: CBC模式加密</li>
            <li>0x04: OFB模式解密</li>
            <li>0x05: OFB模式加密</li>
            <li>0x06: CFB8模式解密</li>
            <li>0x07: CFB8模式加密</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>0x00: DECRYPT#CBC</li>
            <li>0x01: ENCRYPT#CBC</li>
            <li>0x04: DECRYPT#OFB</li>
            <li>0x05: ENCRYPT#OFB</li>
            <li>0x06: DECRYPT#CFB8</li>
            <li>0x07: ENCRYPT#CFB8</li>
            </ul>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回运算后的数据 </div> <div class="en"> the data after calculation. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="calcDUKPTDes-byte-byte-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcDUKPTDes</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.467">calcDUKPTDes</a>(byte&nbsp;groupIndex,
                         byte&nbsp;keyVarType,
                         byte[]&nbsp;iv,
                         byte[]&nbsp;dataIn,
                         byte&nbsp;mode)
                  throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥或DES密钥，对输入缓存内数据进行加密或解密。</div>
 <div class="en"> Use MAC key or DES key of DUKPT to encrypt or decrypt the data in the input buffer.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100] DUKPT group ID </div></dd>
<dd><code>keyVarType</code> - <div class="zh">
            <ul>
              <li>0x00: 使用请求和应答MAC密钥。</li>
              <li>0x01: 使用DUKPT DES密钥运算。</li>
              <li>0x02: 使用DUKPT PIN密钥做ECB加密。Mode 只能取值 0x01:ECB 加密。</li>
              <li>0x03: 使用应答 MAC 密钥。仅支持加密模式，mode只能是0x01、0x03、0x05。</li>
              <li>0x04: 使用应答 DES 密钥。仅支持加密模式，mode只能是0x01、0x03、0x05。</li>
             </ul>
            </div>
            <div class="en">
             <ul>
              <li>0x00: Use request and response MAC key.</li>
              <li>0x01: Use DUKPT DES key operation.</li>
              <li>0x02: Use DUKPT PIN key to do the ECB encryption. mode can only be 0x01:ENCRYPT#ECB.</li>
              <li>0x03: Use the response MAC key. Only encryption mode is supported, mode can only be 0x01、0x03、0x05.</li>
              <li>0x04: Use the response DES key. Only encryption mode is supported, mode can only be 0x01、0x03、0x05.</li>
             </ul>
            </div></dd>
<dd><code>iv</code> - <div class="zh"> 8字节初始向量，CBC加解密时需要，如果传入NULL，将默认用“\x00\x00\x00\x00\x00\x00\x00\x00”作为初始向量 </div> <div
            class="en"> 8 bytes initialization vector, used for CBC encryption or decryption. If set it to NULL,
            it will use “\x00\x00\x00\x00\x00\x00\x00\x00” as the initialization vector by default. </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 指向需要进行运算的数据, 数据长度<=8192，8整除 </div> <div class="en"> Point to the data which need to
            be computed.Data length less than or equal to 8192, it is divisible by 8. </div></dd>
<dd><code>mode</code> - <div class="zh">
            <ul>
            <li>0x00: ECB模式解密</li>
            <li>0x01: ECB模式加密</li>
            <li>0x02: CBC模式解密</li>
            <li>0x03: CBC模式加密</li>
            <li>0x04: OFB模式解密</li>
            <li>0x05: OFB模式加密</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>0x00: DECRYPT#ECB</li>
            <li>0x01: ENCRYPT#ECB</li>
            <li>0x02: DECRYPT#CBC</li>
            <li>0x03: ENCRYPT#CBC</li>
            <li>0x04: DECRYPT#OFB</li>
            <li>0x05: ENCRYPT#OFB</li>
            </ul>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="getPinBlock-byte-java.lang.String-byte:A-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinBlock</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.573">getPinBlock</a>(byte&nbsp;keyIdx,
                   java.lang.String&nbsp;expPinLen,
                   byte[]&nbsp;dataIn,
                   byte&nbsp;mode,
                   int&nbsp;timeoutMs)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">扫描键盘上输入的PIN并输出由 Mode指定算法加密的 PIN BLOCK。 </div>
 <div class="en">Scan the PIN entered on the keyboard and output the PIN BLOCK encrypted by the algorithm specified by Mode.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> [1~100] TPK的索引 </div> <div class="en"> [1~100] TPK index </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。
            若枚举0长度则示意可以不输任何数字而直接按确认键返回。
            <p>
            当mode=0x05的时候，该参数为"5"
            </p>
            </div> <div class="en"> Enumeration of 0-12.The enter password string with legal length. Application
            enumerates of all possible lengths of PIN. ","will be used to separate each number of length. If no
            PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6". 0 means that no PIN is
            required, and pressing "Enter" will return.
            <p>
            When mode=0x05，it should be "5"
            </p>
            </div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>当mode=0x00时, DataIn指向卡号移位后生成的16位主帐号。</li>
            <li>当mode=0x01时, 输入参数为参与PinBlock的格式化,8字节数据(根据ISO9564的规范,该数据可以是随机数、交易流水号或时间戳等)。</li>
            <li>当mode=0x02时, DataIn指向卡号移位后生成的16位主帐号,DataIn+16指向参与PinBlock格式化的8字节数据(根据ISO9564的规范
            ,该数据可以是随机数、交易流水号或时间戳等,但是每个字节的高4位和低4位,均必须在0xA~0xF之间,所以当Mode为0x02时,应用需要将该8字节的数据做此检查,如果不满足要求将返回错误)</li>
            <li>当mode=0x03时, 为交易流水号ISN [6 Bytes,ASCII码]</li>
            <li>当Mode=0x05时, DataIn包含卡账号和CCS数据，格式为PANlen(1个字节) + CCSlen（1个字节） + PAN（PANlen个字节） +
            CCS（CCSlen个字节）。其中PAN为卡账号（ASCII码），目前限定PANlen必须为18，CCSlen必须为0或者8，CCS为ASCII码格式。</li>
            <li>当mode=0x14时，DataIn为原始主帐号。</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When mode=0x00, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=0x01, Input parameters for participation in PinBlock formatting, 8 bytes data. (refer to
            ISO9564 standard, this data can be Random number, the transaction serial number or time stamp, etc.)</li>
            <li>When mode=0x02, DataIn is the 16 bytes primary account number after shifting. DataIn+16 point to
            the 8 bytes data which has participated in PinBlock formatting. (refer to ISO9564 standard, this data
            can be Random number, the transaction serial number or time stamp,etc. But the higher 4 bits and lower
            4 bits of each byte should between 0xA~0xF. So, if the Mode=0x02, the bottom level will do this check
            for the 8 bytes data, it will return an error if does not meet the requirement.).</li>
            <li>When mode=0x03, dataIn is ISN [6 Bytes, ASCII code]</li>
            <li>When Mode=0x05, DataIn contains card account and CCS data. The format is PANlen (1 bytes) + CCSlen
            (1 bytes) + PAN (PANlen byte) + CCS (CCSlen byte). In which PAN is a card account (ASCII code), the
            current limited PANlen must be 18, CCSlen must be 0 or 8, CCS is ASCII code format.</li>
            <li>When mode=0x14, DataIn is the original primary account.</li>
            </ul>
            </div></dd>
<dd><code>mode</code> - <div class="zh"> PIN BLOCK的格式
            <ul>
            <li>0x00:ISO9564_0</li>
            <li>0x01:ISO9564_1</li>
            <li>0x02:ISO9564_3</li>
            <li>0x03:HK EPS</li>
            <li>0x04:预留</li>
            <li>0x05:Italy 专用模式</li>
            <li>0x06:AS2805 zero length PIN block mode。不会要求输入PIN，不会弹出输PIN窗口，expPinLen必须为0。</li>
            <li>0x11:使用AES_TPK加密,pinblock是日本的hit特殊模式</li>
            <li>0x12:使用AES_TPK加密,pinblock是日本的PKCS7模式</li>
            <li>0x14:使用AES_TPK加密,pinblock是ISO9564 格式4</li>
            <li>0x50:3DES-CBC</li>
            </ul>
            </div> <div class="en"> PIN BLOCK Format
            <ul>
            <li>0x00:ISO9564_0</li>
            <li>0x01:ISO9564_1</li>
            <li>0x02:ISO9564_3</li>
            <li>0x03:HK EPS -EPS PINBLOCK Format</li>
            <li>0x04:Reserved</li>
            <li>0x05:Italy special mode</li>
            <li>0x06:AS2805 zero length PIN block mode。The pin input window will not pop up. expPinLen must be 0.</li>
            <li>0x11:Using AES_TPK encryption, pinblock is Japan's hit special mode</li>
            <li>0x12:Using AES_TPK encryption, pinblock is Japan's PKCS7 mode</li>
            <li>0x14:Using AES_TPK encryption, pinblock is in ISO9564 format 4</li>
            <li>0x50:3DES-CBC</li>
            </ul>
            </div></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            </div>
            <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 8/16字节的PINBlock(Mode是0x11/0x12/0x14是16字节)  </div>
 <div class="en">8/16 bytes of PINBlock (16 bytes when Mode is 0x11/0x12/0x14).</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="getPinBlock-byte-java.lang.String-byte:A-byte-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinBlock</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.680">getPinBlock</a>(byte&nbsp;keyIdx,
                   java.lang.String&nbsp;expPinLen,
                   byte[]&nbsp;dataIn,
                   byte&nbsp;mode,
                   int&nbsp;timeoutMs,
                   int&nbsp;controlTime)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">扫描键盘上输入的PIN并输出由 Mode指定算法加密的 PIN BLOCK。 </div>
 <div class="en">Scan the PIN entered on the keyboard and output the PIN BLOCK encrypted by the algorithm specified by Mode.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> [1~100] TPK的索引 </div> <div class="en"> [1~100] TPK index </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。
            若枚举0长度则示意可以不输任何数字而直接按确认键返回。
            <p>
            当mode=0x05的时候，该参数为"5"
            </p>
            </div> <div class="en"> Enumeration of 0-12.The enter password string with legal length. Application
            enumerates of all possible lengths of PIN. ","will be used to separate each number of length. If no
            PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6". 0 means that no PIN is
            required, and pressing "Enter" will return.
            <p>
            When mode=0x05，it should be "5"
            </p>
            </div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>当mode=0x00时, DataIn指向卡号移位后生成的16位主帐号。</li>
            <li>当mode=0x01时, 输入参数为参与PinBlock的格式化,8字节数据(根据ISO9564的规范,该数据可以是随机数、交易流水号或时间戳等)。</li>
            <li>当mode=0x02时, DataIn指向卡号移位后生成的16位主帐号,DataIn+16指向参与PinBlock格式化的8字节数据(根据ISO9564的规范
            ,该数据可以是随机数、交易流水号或时间戳等,但是每个字节的高4位和低4位,均必须在0xA~0xF之间,所以当Mode为0x02时,应用需要将该8字节的数据做此检查,如果不满足要求将返回错误)</li>
            <li>当mode=0x03时, 为交易流水号ISN [6 Bytes,ASCII码]</li>
            <li>当Mode=0x05时, DataIn包含卡账号和CCS数据，格式为PANlen(1个字节) + CCSlen（1个字节） + PAN（PANlen个字节） +
            CCS（CCSlen个字节）。其中PAN为卡账号（ASCII码），目前限定PANlen必须为18，CCSlen必须为0或者8，CCS为ASCII码格式。</li>
            <li>当mode=0x14时，DataIn为原始主帐号。</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When mode=0x00, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=0x01, Input parameters for participation in PinBlock formatting, 8 bytes data. (refer to
            ISO9564 standard, this data can be Random number, the transaction serial number or time stamp, etc.)</li>
            <li>When mode=0x02, DataIn is the 16 bytes primary account number after shifting. DataIn+16 point to
            the 8 bytes data which has participated in PinBlock formatting. (refer to ISO9564 standard, this data
            can be Random number, the transaction serial number or time stamp,etc. But the higher 4 bits and lower
            4 bits of each byte should between 0xA~0xF. So, if the Mode=0x02, the bottom level will do this check
            for the 8 bytes data, it will return an error if does not meet the requirement.).</li>
            <li>When mode=0x03, dataIn is ISN [6 Bytes, ASCII code]</li>
            <li>When Mode=0x05, DataIn contains card account and CCS data. The format is PANlen (1 bytes) + CCSlen
            (1 bytes) + PAN (PANlen byte) + CCS (CCSlen byte). In which PAN is a card account (ASCII code), the
            current limited PANlen must be 18, CCSlen must be 0 or 8, CCS is ASCII code format.</li>
            <li>When mode=0x14, DataIn is the original primary account.</li>
            </ul>
            </div></dd>
<dd><code>mode</code> - <div class="zh"> PIN BLOCK的格式
            <ul>
            <li>0x00:ISO9564_0</li>
            <li>0x01:ISO9564_1</li>
            <li>0x02:ISO9564_3</li>
            <li>0x03:HK EPS</li>
            <li>0x04:预留</li>
            <li>0x05:Italy 专用模式</li>
            <li>0x11:使用AES_TPK加密,pinblock是日本的hit特殊模式</li>
            <li>0x12:使用AES_TPK加密,pinblock是日本的PKCS7模式</li>
            <li>0x14:使用AES_TPK加密,pinblock是ISO9564 格式4</li>
            <li>0x50:3DES-CBC</li>
            </ul>
            </div> <div class="en"> PIN BLOCK Format
            <ul>
            <li>0x00:ISO9564_0</li>
            <li>0x01:ISO9564_1</li>
            <li>0x02:ISO9564_3</li>
            <li>0x03:HK EPS -EPS PINBLOCK Format</li>
            <li>0x04:Reserved</li>
            <li>0x05:Italy special mode</li>
            <li>0x11:Using AES_TPK encryption, pinblock is Japan's hit special mode</li>
            <li>0x12:Using AES_TPK encryption, pinblock is Japan's PKCS7 mode</li>
            <li>0x14:Using AES_TPK encryption, pinblock is in ISO9564 format 4</li>
            <li>0x50:3DES-CBC</li>
            </ul>
            </div></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            </div>
            <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            </div></dd>
<dd><code>controlTime</code> - <div class="zh"> 等待第二个及之后的按键的超时时间,单位：毫秒(超过30s的为30s) </div>
        <div class="en"> The time-out for waiting for the second and subsequent keys in milliseconds (30 seconds for more than 30 seconds) </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 8/16字节的PINBlock(Mode是0x11/0x12/0x14是16字节)  </div>
 <div class="en">8/16 bytes of PINBlock (16 bytes when Mode is 0x11/0x12/0x14).</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="getMac-byte-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMac</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.728">getMac</a>(byte&nbsp;keyIndex,
              byte[]&nbsp;dataIn,
              byte&nbsp;mode)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 用KeyIdx指定的MAC密钥对DataIn进行mode指定的算法进行MAC运算，将MAC结果返回。</div>
 <div class="en"> To use KeyIdx MAC key calculate the DataIn following the specified Mode algorithm, return the MAC result.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TAK的索引 </div> <div class="en"> [1~100] TAK index </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 需进行 MAC 运算的数据包.DataIn在mode=0和2时最大支持8K bytes,其他模式最大2048 bytes, 长度不为8字节整除，则自动补"\x00"。 </div>
            <div class="en"> The data packets that need to perform MAC operations. DataIn supports a maximum of 8K bytes when mode=0 and 2, and a maximum of 2048 bytes in other modes.
            If the length is not divisible by 8 bytes, "\x00" will be automatically filled.</div></dd>
<dd><code>mode</code> - <div class="zh">
            <ul>
            <li>0x00:将BLOCK1用MAC密钥做DES/TDES加密，加密结果与BLOCK2进行逐位异或后再用TAK做DES/TDES加密，依次进行得到8字节的加密结果。</li>
            <li>0x01:将BLOCK1和BLOCK2进行逐位异或，异或结果与BLOCK3进行逐位异或，依次进行，最后得到8字节的异或结果，将该结果用TAK进行DES/TDES加密运算。</li>
            <li>0x02:ANSIX9.19规范，将BLOCK1用TAK做DES加密(只取前8个字节的key)，加密结果与BLOCK2进行逐位异或后再用TAK做DES加密，依次进行得到8字节的加密结果，直到最后一次采用DES/TDES加密。</li>
            <li>0x03:CMAC算法。</li>
            <li>0x05: hmac-sha256算法。</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>0x00: Doing DES/TDES encryption for BLOCK1 by usingMAC key. Doing DES/TDES encryption again by
            using TAK when and after bitwise XOR the previous encryption result with BLOCK2. Processing in turn to
            get the 8 bytes encryption result.</li>
            <li>0x01: Doing bitwise XOR for BLOCK1 and BLOCK2; Do bitwise XOR again by using previous XOR
            result with BLOCK3. Do it in turn and finally get the 8 bytes XOR result. Using TAK to process
            DES/TDES encryption for the result</li>
            <li>0x02: ANSIX9.19 standard, Do DES encryption for BLOCK1 by using TAK (only take the first 8
            bytes of key). The encryption result wills bitwise XOR with BLOCK2,and then doing DES encryption by
            using TAK again. Do it in turn and get the 8 bytes encryption result. Using DES/TDES to encrypt in the
            last time.</li>
            <li>0x03: CMAC algorithm.</li>
            <li>0x05: HMAC-SHA256 algorithm.</li>
            </ul>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回MAC结果。当mode等于0x05，输出长度为32字节。其他为8字节。</div>
 <div class="en"> return the MAC data。When the mode is 0x05, the output length is 32 bytes. Others are 8 bytes.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="getDUKPTPin-byte-java.lang.String-byte:A-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDUKPTPin</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.814">getDUKPTPin</a>(byte&nbsp;groupIndex,
                        java.lang.String&nbsp;expPinLen,
                        byte[]&nbsp;dataIn,
                        byte&nbsp;mode,
                        int&nbsp;timeoutMs)
                 throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 在PED上输入PIN，并使DUKPT的PIN密钥计算PINBlock。</div>
 <div class="en"> PINBlock Input the PIN on PED,and use the PINkey of DUKPT to calculate the PINBlock.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100] DUKPT key group id </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。
            若枚举0长度则示意可以不输任何数字而直接按确认键返回。</div> <div class="en"> Enumeration of 0-12.The enter password string with
            legal length. Application enumerates of all possible lengths of PIN. ","will be used to separate each
            number of length. If no PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6". 0
            means that no PIN is required, and pressing "Enter" will return. </div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>当mode=0时, DataIn指向卡号移位后生成的16位主帐号。</li>
            <li>当mode=1时,
            输入参数为参与PinBlock的格式化,8字节数据(根据ISO9564的规范,该数据可以是随机数、交易流水号或时间戳等)。</li>
            <li>当mode=2时,
            DataIn指向卡号移位后生成的16位主帐号,DataIn+16指向参与PinBlock格式化的8字节数据(根据ISO9564的规范
            ,该数据可以是随机数、交易流水号或时间戳等,但是每个字节的高4位和低4位,均必须在0xA~0xF之间,所以当Mode为0x02时,应用需要将该8字节的数据做此检查,如果不满足要求将返回错误)</li>
            <li>当mode=3时, 为交易流水号ISN [6 Bytes,ASCII码]</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When mode=0, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=1, Input parameters for participation in PinBlock formatting, 8 bytes data.
            (refer to ISO9564 standard, this data can be Random number, the transaction serial number or time
            stamp, etc.)</li>
            <li>When mode=2, DataIn is the 16 bytes primary account number after shifting. DataIn+16 point
            to the 8 bytes data which has participated in PinBlock formatting. (refer to ISO9564 standard, this
            data can be Random number, the transaction serial number or time stamp,etc. But the higher 4 bits and
            lower 4 bits of each byte should between 0xA~0xF. So, if the Mode=0x02, the bottom level will do this
            check for the 8 bytes data, it will return an error if does not meet the requirement.).</li>
            <li>When mode=3, dataIn is ISN [6 Bytes, ASCII code]</li>
            </ul>
            </div></dd>
<dd><code>mode</code> - <div class="zh">
                <ul>
                    <li>0: ISO9564 格式 0 KSN 自动加 1</li>
                    <li>1: ISO9564 格式 1 KSN 自动加 1 </li>
                    <li>2: ISO9564 格式 3 KSN 自动加 1 </li>
                    <li>3: HK EPS 格式 KSN 自动加 1</li>
                    <li>6: AS2805 zero length PIN block mode。该模式不会要求输入PIN，不会弹出输PIN窗口。KSN 自动加1 </li>
                    <li>20: ISO9564 格式 0 KSN 不自动加 1 </li>
                    <li>21: ISO9564 格式 1 KSN 不自动加 1</li>
                    <li>22: ISO9564 格式 3 KSN 不自动加 1</li>
                    <li>23: HK EPS 格式 KSN 不自动加 1</li>
                    <li>26:AS2805 zero length PIN block mode。该模式不会要求输入PIN，不会弹出输PIN窗口。KSN 不自动加1</li>
                </ul></div>
             <div class="en">
                 <ul>
                    <li>0: ISO9564_0, KSN automatically incremented by 1</li>
                    <li>1: ISO9564_1, KSN automatically incremented by 1</li>
                    <li>2: ISO9564_3, KSN automatically incremented by 1</li>
                    <li>3: HK EPS,KSN automatically incremented by 1</li>
                    <li>6: AS2805 zero length PIN block mode. This mode will not ask for a PIN, and will not pop up a PIN input window. KSN automatically incremented by 1 </li>
                    <li>20: ISO9564_0, KSN does not automatically increase by 1 </li>
                    <li>21: ISO9564_1, KSN does not automatically increase by 1</li>
                    <li>22: ISO9564_3, KSN does not automatically increase by 1</li>
                    <li>23: HK EPS, KSN does not automatically increase by 1</li>
                    <li>26: AS2805 zero length PIN block mode. This mode will not ask for a PIN, and will not pop up a PIN input window. KSN does not automatically incremented by 1 </li>
                 </ul></div></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            </div> <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>DUKPTResult <a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="getDUKPTMac-byte-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDUKPTMac</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.885">getDUKPTMac</a>(byte&nbsp;groupIndex,
                        byte[]&nbsp;dataIn,
                        byte&nbsp;mode)
                 throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥计算MAC。</div>
 <div class="en"> Use MAC Key to calculate MAC.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100] DUKPT key group index id </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 指向需要计算MAC的数据内容 </div> <div class="en"> The MAC data content needs to be calculated</div></dd>
<dd><code>mode</code> - <div class="zh">
 <ul>
 <li>0:将 BLOCK1 用 MAC 密钥做 TDES 加密,加密结果与 BLOCK2 进行逐位异或后再用 MAC 密钥 做 TDES 加密,依次进行得到 8 字节的加密结果。 KSN 自动加 1 </li>
 <li>1:将 BLOCK1 和 BLOCK2 进行逐位异或,异或结果与 BLOCK3 进行逐位异或,依次进行,最后得 到 8 字节的异或结果,将该结果用 MAC 密钥进行TDES 加密运算。 KSN 自动加 1 </li>
 <li>2: ANSIX9.19 规范,将 BLOCK1 用 MAC 密钥做DES 加密(只取前 8 个字节的 key), 加密结果与BLOCK2进行逐位异或后再用 MAC 密钥做 DES 加密,依次进行得到 8 字节的加密结果, 直到最后一次采用TDES 加密。 KSN 自动加 1</li>
 <li>5: hmac-sha256模式。将MAC密钥作为hmac 密钥。使用DUKPT_MAC_BOTH_KEY（request and response MAC密钥），KSN 自动加 1</li>
 <li>20:将 BLOCK1 用 MAC 密钥做 TDES 加密,加密结果与 BLOCK2 进行逐位异或后再用 MAC 密钥 做 TDES 加密,依次进行得到 8 字节的加密结果。 KSN 不自动加1</li>
 <li>21:将 BLOCK1 和 BLOCK2 进行逐位异或,异或结果与 BLOCK3 进行逐位异或,依次进行,最后得 到 8 字节的异或结果,将该结果用 MAC 密钥进行TDES 加密运算。 KSN 不自动加 1</li>
 <li>22:ANSIX9.19 规范,将 BLOCK1 用 MAC 密钥做DES加密(只取前 8个字节的 key), 加密结果与 BLOCK2 进行逐位异或后再用 MAC 密钥做 DES 加密,依次进行得到 8 字节的加密结果, 直到最后一次采用TDES 加密。 KSN 不自动加 1其它值保留扩展 MAC 算法。</li>
 <li>25: hmac-sha256模式。将MAC密钥作为hmac 密钥。使用DUKPT_MAC_BOTH_KEY（request and response MAC密钥），KSN 不自动加1</li>
 <li>40: 将 BLOCK1 用 MAC 密钥做 TDES 加密,加密结果与 BLOCK2 进行逐位异或后再用 MAC 密钥 做 TDES 加密,依次进行得到 8 字节的加密结果。 KSN 不自动加 1</li>
 <li>41:将 BLOCK1 和 BLOCK2 进行逐位异或,异或结果与 BLOCK3 进行逐位异或,依次进行,最后得 到 8 字节的异或结果,将该结果用 MAC 密钥进行TDES 加密运算。 KSN 不自动加 1</li>
 <li>42:ANSIX9.19 规范,将 BLOCK1 用 MAC 密钥做DES加密(只取前 8个字节的 key),加密结果与 BLOCK2 进行逐位异或后再用 TAK 做 DES 加密,依次进行得到 8 字节的加密结果,直到最后一次采用 TDES加密。 KSN 不自动加 1 其它值保留扩展 MAC 算法。</li>
 <li>45:hmac-sha256模式。将MAC密钥作为hmac 密钥。使用DUKPT_MAC_RSP_KEY（response MAC密钥），KSN 不自动加1</li>
 </ul>
 </div>
 <div class="en">
 <ul>
 <li>0:Doing TDES encryption for BLOCK1 by using MAC key. Doing TDES encryption again by using MAC key when
       and after bitwise XOR the previous encryption result with BLOCK2. Processing in turn to get the 8 bytes
       encryption result.KSN auto-add 1 </li>
 <li>1:Doing bitwise XOR for BLOCK1 and BLOCK2; Do bitwise XOR again by using previous XOR result with
       BLOCK3. Do it in turn and finally get the 8 bytes XOR result. Using MAC key to process TDES encryption for the
       result.KSN auto-add 1 </li>
 <li>2:ANSIX9.19 standard, Do DES encryption for BLOCK1 by using MAC key (only take the
       first 8 bytes of key). The encryption result wills bitwise XOR with BLOCK2,and then doing DES encryption by using
       MAC key again. Do it in turn and get the 8 bytes encryption result. Using TDES to encrypt in the last time.KSN
       auto-add 1 </li>
 <li>5:hmac-sha256 mode. Use the MAC key as the hmac key. Using DUKPT_MAC_BOTH_KEY (request and response MAC key), KSN is automatically incremented by 1</li>
 <li>20: Doing TDES encryption for BLOCK1 by using MAC key. Doing TDES encryption again by using MAC key when
        and after bitwise XOR the previous encryption result with BLOCK2. Processing in turn to get the 8 bytes
        encryption result.KSN won't auto-add 1</li>
 <li>21:Doing bitwise XOR for BLOCK1 and BLOCK2; Do bitwise XOR again by using previous XOR result with
        BLOCK3. Do it in turn and finally get the 8 bytes XOR result. Using MAC key to process TDES encryption for the
        result.KSN won't auto-add 1</li>
 <li>22: ANSIX9.19 standard, Do DES encryption for BLOCK1 by using MAC
        key (only take the first 8 bytes of key). The encryption result wills bitwise XOR with BLOCK2,and then doing DES
        encryption by using MAC key again. Do it in turn and get the 8 bytes encryption result. Using TDES to encrypt in
        the last time.KSN won't auto-add 1</li>
 <li>25:hmac-sha256 mode. Use the MAC key as the hmac key. With DUKPT_MAC_BOTH_KEY (request and response MAC key), KSN is not automatically incremented by 1</li>
 <li>40:Doing TDES encryption for BLOCK1 by using MAC key. Doing TDES encryption again by using MAC key when
        and after bitwise XOR the previous encryption result with BLOCK2. Processing in turn to get the 8 bytes
        encryption result.KSN won't auto-add 1 </li>
 <li>41: Doing bitwise XOR for BLOCK1 and BLOCK2; Do bitwise XOR again by using previous XOR result with
        BLOCK3. Do it in turn and finally get the 8 bytes XOR result. Using MAC key to process TDES encryption for the
        result.KSN won't auto-add 1 </li>
 <li>42:ANSIX9.19 standard, Do DES encryption for BLOCK1 by using MAC key (only take
        the first 8 bytes of key). The encryption result wills bitwise XOR with BLOCK2,and then doing DES encryption by
        using MAC key again. Do it in turn and get the 8 bytes encryption result. Using TDES to encrypt in the last
        time.KSN won't auto-add 1</li>
 <li>45:hmac-sha256 mode. Use the MAC key as the hmac key. If DUKPT_MAC_RSP_KEY (response MAC key) is used, KSN is not automatically incremented by 1</li>
 </ul>
 </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="getKCV-byte-byte-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKCV</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.967">getKCV</a>(byte&nbsp;type,
              byte&nbsp;keyIndex,
              byte&nbsp;checkMode,
              byte[]&nbsp;checkBuf)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 获取密钥的KCV值，以供对话双方进行密钥验证，用指定的密钥及算法对一段数据进行加密，</div>
 <div class="en"> Getting value of KCV for key verification of to side, using specific key and algorithm to encrypt data, and then return part of cryptograph.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - <div><ul>
                <li>0x01:TLK</li>
                <li>0x02:TMK</li>
                <li>0x03:TPK</li>
                <li>0x04:TAK</li>
                <li>0x05:TDK</li>
                <li>0x07:TIK</li>
                <li>0x32:SM4_TMK</li>
                <li>0x33:SM4_TPK</li>
                <li>0x34:SM4_TAK</li>
                <li>0x35:SM4_TDK</li>
                <li>0x44:PPAD_TPK</li>
                <li>0x45:TIDK</li>
                <li>0x22:AES_TMK</li>
                <li>0x23:AES_TPK</li>
                <li>0x24:AES_TAK</li>
                <li>0x20:AES_TDK</li>
                <li>0x51:AES_TIK</li>
            </ul></div></dd>
<dd><code>keyIndex</code> - <div class="zh"> 密钥的索引号
            <ul>
            <li>TLK, keyIndex只能为1</li>
            <li>TMK, 取值[1~100]</li>
            <li>TWK,取值[1~100]</li>
            <li>TIK,取值[1~100]</li>
            </ul>
            </div> <div class="en"> key index
            <ul>
            <li>TLK, keyIndex can only be 1.</li>
            <li>TMK, can select from [1~100].</li>
            <li>TWK, can select from [1~100].</li>
            <li>TIK, can select from [1~100].</li>
            </ul>
            </div></dd>
<dd><code>checkMode</code> - <div class="zh">
            <ul>
            <li>checkMode=0x00时， 使用该密钥对一段数据进行DES/TDES加密运算，生成的密文的前4个字节即为KCV,该模式适用于TLK/TMK/TAK/TPK/TDK/PPAD_TXK。</li>
            <li>checkMode=0x00时， 返回注入密钥时写入的KCV值。该模式适用于TIK/AES_TIK。</li>
            <li>checkMode=0x03时， 使用该密钥对一段数据进行CMAC加密运算，生成的密文的前5个字节即为KCV。该模式适用于TLK/TMK/TAK/TPK/TDK/PPAD_TXK/AES_TLK/AES_TMK/AES_TAK/AES_TPK/AES_TDK。</li>
            <li>checkMode=0x04时， 使用该密钥对一段数据进行SM4加密运算，生成的密文的前4个字节即为KCV。该模式适用于SM4_TMK/SM4_TAK/SM4_TPK/SM4_TDK。</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When checkMode=0x00, use this key pair to do DES/TDES entryption for a block of data, the first 4
            bytes of the generated ciphertext is KCV.This mode is suitable for TLK/TMK/TAK/TPK/TDK/PPAD_TXK.</li>
            <li>When checkMode=0x00, the KCV value written during key injection is returned. This mode is suitable
            for TIK/AES_TIK.</li>
            <li>When checkMode=0x03, use this key to do CMAC encryption operation for a block of data, and the first
            5 bytes of the generated ciphertext are KCV. This mode is suitable for TLK/ TMK/ TAK/ TPK/
            TDK/ PPAD_TXK/ AES_TLK/ AES_TMK/ AES_TAK/ AES_TPK/ AES_TDK.</li>
            <li>When checkMode=0x04, use this key to do SM4 encryption operation for a block of data, and the first
            4 bytes of the generated ciphertext are KCV. This mode is suitable for SM4_TMK/ SM4_TAK/ SM4_TPK/ SM4_TDK.</li>
            </ul>
            </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
            <ul>
            <li>当checkMode =0x00/0x04时, 指向需运算的数据,进行运算的数据必须是8/16的倍数</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When checkMode=0x00/0x04, The data needing to compute must be a multiple of 8/16.</li>
            </ul>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">Kcv 信息(4 字节) </div> <div class="en">Kcv information (4 bytes)</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="getDUKPTKsn-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDUKPTKsn</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.983">getDUKPTKsn</a>(byte&nbsp;groupIndex)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 读取下一次计算的KSN。</div>
 <div class="en"> KSN Reading the KSN which will be computed at next time.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100] DUKPT group index ID </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 当前的KSN </div> <div class="en"> KSN currently. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="incDUKPTKsn-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incDUKPTKsn</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.997">incDUKPTKsn</a>(byte&nbsp;groupIndex)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 每个KSN对应的DUKPT密钥，最多只能使用256次，当单个密钥使用 256次后，将返回<a href="../../../com/pax/dal/exceptions/EPedDevException.html#PED_ERR_DUKPT_NEED_INC_KSN"><code>EPedDevException.PED_ERR_DUKPT_NEED_INC_KSN</code></a>异常，
 需要调用该接口，给 KSN加1。 </div>
 <div class="en"> The DUKPT key corresponding to each KSN can only be used up to 256 times. When a single key is used 256 times, it will return <a href="../../../com/pax/dal/exceptions/EPedDevException.html#PED_ERR_DUKPT_NEED_INC_KSN"><code>EPedDevException.PED_ERR_DUKPT_NEED_INC_KSN</code></a> exception,
 To call this interface, increment KSN by 1.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100] DUKPT group ID </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="readRSAKey-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readRSAKey</h4>
<pre><a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity">RSAKeyInfo</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1008">readRSAKey</a>(byte&nbsp;rsaKeyIndex)
               throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 读取RSA公钥密钥。</div> <div class="en"> Read rsa public key.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rsaKeyIndex</code> - <div class="zh"> RSA密钥索引[1-10] </div> <div class="en"> RSA key index [1-10] </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity"><code>RSAKeyInfo</code></a> </div> <div class="en"> <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity"><code>RSAKeyInfo</code></a></div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="RSARecover-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RSARecover</h4>
<pre><a href="../../../com/pax/dal/entity/RSARecoverInfo.html" title="class in com.pax.dal.entity">RSARecoverInfo</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1034">RSARecover</a>(byte&nbsp;rsaKeyIndex,
                          byte[]&nbsp;dataIn)
                   throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 用存储在PED的RSA密钥进行数据RSA数据运算。
 <br>注意: 1.该函数对dataIn进行RSA加解密运算，运算结果输出到RSARecoverInfo
 <br>2.当rsaKeyIndex指定的密钥为私钥时，如果dataIn是对应公钥的加密密文，则RSARecoverInfo为dataIn的明文，否则RSARecoverInfo为dataIn的RSA密文；
 <br>3.当rsaKeyIndex指定的密钥为公钥时，如果dataIn是对应私钥的加密密文，则RSARecoverInfo为dataIn的明文，否则RSARecoverInfo为dataIn的RSA密文；
 <br>4.该方法可实现长度不超过4096bits的RSA运算。</div>
 <div class="en"> Using the RSA key stored in PED to do the RSA data operation.
 <br>Note: 1. This function performs RSA encryption and decryption operation on dataIn, and the operation result is output to RSARecoverInfo
 <br>2. When the key specified by rsaKeyIndex is a private key, if dataIn is the encrypted ciphertext corresponding to the public key, then RSARecoverInfo is the plaintext of dataIn, otherwise RSARecoverInfo is the RSA ciphertext of dataIn;
 <br>3. When the key specified by rsaKeyIndex is a public key, if dataIn is the encrypted ciphertext corresponding to the private key, then RSARecoverInfo is the plaintext of dataIn, otherwise RSARecoverInfo is the RSA ciphertext of dataIn;
 <br>4. This method can realize the RSA operation whose length does not exceed 4096bits.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rsaKeyIndex</code> - <div class="zh"> 密钥索引[1~10] </div> <div class="en"> Key Index [1~10] </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 被加解密的数据，和模等长 </div> <div class="en"> The encrypted/decrypted data, which has the same
            length as the modulus. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/RSARecoverInfo.html" title="class in com.pax.dal.entity"><code>RSARecoverInfo</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="writeKey-byte-byte-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1230">writeKey</a>(byte&nbsp;srcKeyType,
              byte&nbsp;srcKeyIndex,
              byte&nbsp;dstKeyType,
              byte&nbsp;dstKeyIndex,
              byte[]&nbsp;destKeyValue,
              <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
              byte[]&nbsp;checkBuf)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 写入一个密钥，包括TLK，TMK和TWK的写入、发散，并可以选择使用KCV验证密钥正确性。
 <p>
 当写入PED_TLK时，PED首先格式化，清除所有已经下载的密钥，再写入PED_TLK。 当明文写入密钥时，srcKeyIndex=0。
 </p>
 </div>
 <div class="en"> Write in one key includes write in and divergent of TLK, TMK and TWK. And use KCV to check the
 key correction.
 <p>
 When write PED_TLK,PED will format ,clear all the key has been downloaded,then write in PED_TLK.
 When srckeyindex = 0, the plaintext key is written.
 </p>
 </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <div class="zh">
            <p>
            源密钥类型,它的级别不能低于destKeyType, SM4类型秘钥只能用TLK和SM4_TMK发散。
            </p>
            <ul>
                <li>0x01:TLK</li>
                <li>0x02:TMK</li>
                <li>0x03:TPK</li>
                <li>0x04:TAK</li>
                <li>0x05:TDK</li>
                <li>0x11:FACE_TDK</li>
                <li>0x32:SM4_TMK</li>
            </ul>
            </div> <div class="en">
            <p>
            Source Key Type，its level cannot be lower than destKeyType, SM4 type keys can only be diverged with TLK and SM4_TMK.
            </p>
            <ul>
                <li>0x01:TLK</li>
                <li>0x02:TMK</li>
                <li>0x03:TPK</li>
                <li>0x04:TAK</li>
                <li>0x05:TDK</li>
                <li>0x11:FACE_TDK</li>
                <li>0x32:SM4_TMK</li>
            </ul>
            </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">
            <p>
            源密钥索引
            </p>
            </div> <div class="en">
            <p>
            Source Key Index
            </p>
            </div></dd>
<dd><code>dstKeyType</code> - <div class="zh">
            <p>
            目的密钥类型
            </p>
            <ul>
                <li>0x01:TLK</li>
                <li>0x02:TMK</li>
                <li>0x03:TPK</li>
                <li>0x04:TAK</li>
                <li>0x05:TDK</li>
                <li>0x11:FACE_TDK</li>
                <li>0x32:SM4_TMK</li>
                <li>0x33:SM4_TPK</li>
                <li>0x34:SM4_TAK</li>
                <li>0x35:SM4_TDK</li>
                <li>0x36:SM4_TCHDK</li>
                <li>0x37:SM4_FACE_TDK</li>
            </ul>
            </div> <div class="en">
            <p>
            Destination Key Type
            </p>
            <ul>
                <li>0x01:TLK</li>
                <li>0x02:TMK</li>
                <li>0x03:TPK</li>
                <li>0x04:TAK</li>
                <li>0x05:TDK</li>
                <li>0x11:FACE_TDK</li>
                <li>0x32:SM4_TMK</li>
                <li>0x33:SM4_TPK</li>
                <li>0x34:SM4_TAK</li>
                <li>0x35:SM4_TDK</li>
                <li>0x36:SM4_TCHDK</li>
                <li>0x37:SM4_FACE_TDK</li>
            </ul>
            </div></dd>
<dd><code>dstKeyIndex</code> - <div class="zh">
            <p>
            目的密钥索引
            </p>
            </div> <div class="en">
            <p>
            Destination Key Index
            </p>
            </div></dd>
<dd><code>destKeyValue</code> - <div class="zh">
            <p>
            密钥明文或密文,长度可为8,16,24
            </p>
            </div> <div class="en">
            <p>
            Plaintext or ciphertext key, the length can be 8, 16, 24
            </p>
            </div></dd>
<dd><code>checkMode</code> - <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity"><code>ECheckMode</code></a> <div class="zh">
            <p>
            校验模式
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_SM4_ENCRYPT_0"><code>ECheckMode.KCV_SM4_ENCRYPT_0</code></a></li>
            </ul>
            </div> <div class="en">
            <p>
            Check Mode
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -No Check</li>
            <li>When checkMode=KCV_ENCRYPT_0 -Perform DES/TDES encryption on 8 bytes 0x00, and use first 4 bytes
            as KCV.</li>

            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -Perform parity check first, then perform DES/TDES encryption
            on 8 bytes―\x12\x34\x56\x78\x90\x12\x34\x56, and use first 4 bytes as KCV.</li>

            <li>When iCheckMode=KCV_MAC_INPUT_DATA -Send in data KcvData, use source key to perform specified mode
            of MAC on [aucDesKeyValue +KcvData], and use the 8 bytes result as KCV.</li>

            <li>When iCheckMode=KCV_SM4_ENCRYPT_0 -Perform TDES encryption on 16 bytes 0x00 by SM4, and use first
            4 bytes as KCV.</li> </ul> </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
            <p>
            校验数据缓冲区
            </p>
            <ul>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a>时 checkBuf的值无效,系统认为不验证KCV,可以为null</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a>,4字节的kcv</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a>,4字节的kcv</li>
            <li>当iCheckMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a>时按以下规则提供checkBuf:
            <p>
            checkBuf[0]= KcvData长度(KcvDataLen)
            </p>
            <p>
            checkBuf+1: KcvData
            </p>
            <p>
            checkBuf[1+KcvDataLen]=MAC运算模式,参考<a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getMac-byte-byte:A-byte-"><code>getMac(byte, byte[], byte)</code></a>中的mode参数
            </p>
            <p>
            checkBuf[2+KcvDataLen]=KCV长度
            </p>
            <p>
            checkBuf[3+KcvDataLen]是KCV的值
            </p>
            </li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_SM4_ENCRYPT_0"><code>ECheckMode.KCV_SM4_ENCRYPT_0</code></a>,4字节的kcv</li>
            </ul>
            </div> <div class="en">
            <p>
            Check Data Buffer
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -PED wont check KCV, this data is no meaning.</li>
            <li>When checkMode=KCV_ENCRYPT_0 -4 bytes key check value</li>
            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -4 bytes key check value</li>
            <li>When iCheckMode=KCV_MAC_INPUT_DATA - checkBuf as follows: checkBuf[0] = length of KcvData
            checkBuf+1: kcvData checkBuf[1+kcvDataLen]: MAC computation mode
            <a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getMac-byte-byte:A-byte-"><code>getMac(byte, byte[], byte)</code></a> checkBuf[2+kcvDataLen]:KCV length
            checkBuf[3+kcvDataLen]:KCV Value</li>
            <li>When checkMode=KCV_SM4_ENCRYPT_0 -4 bytes key check value</li>
            </ul>
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="writeAesKey-byte-byte-byte-byte-byte:A-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAesKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1392">writeAesKey</a>(byte&nbsp;srcKeyType,
                 byte&nbsp;srcKeyIndex,
                 byte&nbsp;destKeyType,
                 byte&nbsp;destKeyIndex,
                 byte[]&nbsp;destKeyValue,
                 byte&nbsp;checkMode,
                 byte[]&nbsp;checkBuf)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">写入一个AES密钥，并可以选择使用KCV验证密钥正确性。</div> <div class="en"> To write Aes key to PED, and use KCV to check the
 key correction.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <div class="zh">
            <p>
            源密钥类型。不得低于destKeyType所在的密钥级别。
            </p>
            <ul>
            <li>0x01:TLK</li>
            <li>0x02:TMK</li>
            <li>0x03:TPK</li>
            <li>0x04:TAK</li>
            <li>0x05:TDK</li>
            <li>0x20:TAESK</li>
            </ul>
            </div> <div class="en">
            <p>
            Source Key Type. Must not be lower than the key level of destKeyType.
            </p>
            <ul>
            <li>0x01:TLK</li>
            <li>0x02:TMK</li>
            <li>0x03:TPK</li>
            <li>0x04:TAK</li>
            <li>0x05:TDK</li>
            <li>0x20:TAESK</li>
            </ul>
            </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">
            <p>
            原密钥索引。
            </p>
            当srcKeyIndex = 0，密钥将以明文形式写入PED。 </div> <div class="en">
            <p>
            Source Key Index.
            </p>
            when srcKeyIndex = 0，The key will be written to PED in clear text. </div></dd>
<dd><code>destKeyType</code> - <div class="zh">
            <p>
            目的密钥类型。
            </p>
            <ul>
            <li>0x20:TAESK(AES_TDK).</li>
            <li>0x23:AES_TPK.</li>
            </ul>
            </div> <div class="en">
            <p>
            Destination Key Type.
            </p>
            <ul>
            <li>0x20:TAESK(AES_TDK).</li>
            <li>0x23:AES_TPK.</li>
            </ul> </div></dd>
<dd><code>destKeyIndex</code> - <div class="zh">
            <p>
            目的密钥索引
            </p>
            </div> <div class="en">
            <p>
            Destination Key Index
            </p>
            </div></dd>
<dd><code>destKeyValue</code> - <div class="zh">
            <p>
            密钥明文或密文,16/24/32 bytes
            </p>
            </div> <div class="en">
            <p>
            Plaintext or ciphertext key, the length can be 16/24/32bytes
            </p>
            </div></dd>
<dd><code>checkMode</code> - <div class="zh">
            <p>
            校验模式
            </p>
            <ul>
            <li>checkMode=0x00 -无验证.</li>
            <li>checkMode=0x01 -对16个字节的0x00进行AES ECB模式加密运算，得到的密文的前4个字节即为KCV值。</li>
            <li>checkMode=0x02 -对16字节长度
            ―\x12\x34\x56\x78\x90\x12\x34\x56\x12\x34\x56\x78\x90\x12\x34\x56 进行AES ECB模式的加密运算，得到的密文的前4个字节即为KCV值。</li>
            <li>checkMode=0x03 -传入一串数据KcvData，使用源密钥对[destKeyValue(密文)+
            KcvData]进行指定模式的MAC运算，得到的8个字节的MAC值即为KCV值。</li>
            </ul>
            </div> <div class="en">
            <p>
            Check Mode
            </p>
            <ul>
            <li>When checkMode=0x00 -No Check</li>
            <li>When checkMode=0x01 -Perform AES ECB mode encryption on 16 bytes 0x00, and use first 4
            bytes as KCV.</li>

            <li>When checkMode=0x02 -Perform AES ECB mode
            encryption on 16 bytes―\x12\x34\x56\x78\x90\x12\x34\x56\x12\x34\x56\x78\x90\x12\x34\x56, and use
            first 4 bytes as KCV.</li>

            <li>When checkMode=0x03 -Send in data KcvData, use source key to perform specified mode
            of MAC on [destKeyValue(ciphertext) +KcvData], and use the 8 bytes result as KCV.</li>
            </ul>
            </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
            <p>
            校验数据缓冲区
            </p>
            <ul>
            <li>当checkMode=0x00时，checkBuf的值无效,系统认为不验证KCV</li>
            <li>当checkMode=0x01时，checkBuf[0]= KCV的长度(4)，checkBuf + 1指向KCV的值。/li>
            <li>当checkMode=0x02时，checkBuf[0]= KCV的长度(4)，checkBuf + 1指向KCV的值。</li>
            <li>当checkMode=0x03时按以下规则提供checkBuf:
            <p>
            checkBuf[0]= KcvData长度(KcvDataLen)
            </p>
            <p>
            checkBuf+1: KcvData
            </p>
            <p>
            checkBuf[1+KcvDataLen]=MAC运算模式,参考<a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getMacAes-byte-byte:A-byte-"><code>getMacAes(byte, byte[], byte)</code></a>中的mode参数
            </p>
            <p>
            checkBuf[2+KcvDataLen]=KCV长度
            </p>
            <p>
            checkBuf[3+KcvDataLen]是KCV的值
            </p>
            </li>
            </ul>
            </div> <div class="en">
            <p>
            Check Data Buffer
            </p>
            <ul>
            <li>When checkMode=0x00 -PED won't check KCV, this data is no meaning.</li>
            <li>When checkMode=0x01 -checkBuf[0] = length of KCV (4), checkBuf + 1 points to the value of KCV.</li>
            <li>When checkMode=0x02 -checkBuf[0] = length of KCV (4), checkBuf + 1 points to the value of KCV.</li>
            <li>When checkMode=0x03 - checkBuf as follows: checkBuf[0] = length of KcvData
            checkBuf+1: kcvData checkBuf[1+kcvDataLen]: MAC computation mode
            <a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getMacAes-byte-byte:A-byte-"><code>getMacAes(byte, byte[], byte)</code></a> checkBuf[2+kcvDataLen]:KCV length
            checkBuf[3+kcvDataLen]:KCV Value</li>
            </ul>
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="writeRSAKey-byte-com.pax.dal.entity.RSAKeyInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeRSAKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1433">writeRSAKey</a>(byte&nbsp;rsaKeyIndex,
                 <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity">RSAKeyInfo</a>&nbsp;info)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 1.注入RSA密钥到PED <br/>
 2.PED最多支持10组RSA密钥,目前最长只支持256字节长的RSA密钥。 <br/>
 3.存储的RSA密钥是公钥还是私钥由密钥的指数长度决定,当密钥指数和模等长时,是私钥。 <br/>
 4.PED通过writeRSAKey注入RSA密钥。 <br/>
 5.通过RSARecover使用已注入的密钥进行RSA运算。 <br/>
 6.任何时候,RSA密钥可以进行重写。 <br/>
 </div> <div class="en">
 <p>
 1. Import RSA to the PED
 </p>
 <p>
 2. PED can support 10 sets of RSA Key at most, current can supports a maximum length of 256 bytes RSA key.
 </p>
 <p>
 3. Whether the stored RSA is the public key or private key will be determined by the exponent length. If the
 length of key exponent is equal to modulus, it is a private key.
 </p>
 <p>
 4. PED uses writeRsaKey to Import RSA key.
 </p>
 <p>
 5. Use the imported key to do the RSA operation by calling PedRsaRecover.
 </p>
 <p>
 6. RSA key can be rewritten at any time
 </p>
 </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rsaKeyIndex</code> - <div class="zh"> RSA密钥索引[1~10] </div> <div class="en"> RSA Key Index [1~10] </div></dd>
<dd><code>info</code> - <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity"><code>RSAKeyInfo</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="writeTIK-byte-byte-byte:A-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeTIK</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1463">writeTIK</a>(byte&nbsp;groupIndex,
              byte&nbsp;srcKeyIndex,
              byte[]&nbsp;keyValue,
              byte[]&nbsp;ksn,
              <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
              byte[]&nbsp;checkBuf)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 写入TIK，并可以选择使用KCV验证密钥正确性。</div>
 <div class="en"> Write in TIK, and can check the key correction by using KCV.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100]DUKPT key group id </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh"> [1] 用于分散的密钥的密钥索引 </div> <div class="en"> [1] The key index for diversified key.
            </div></dd>
<dd><code>keyValue</code> - <div class="zh"> 指向TIK的密文,现 DUKPT 算法支持 8/16 字节长度的密钥 </div> <div class="en"> Point to TIK cipher text. Now the DUKPT algorithm supports keys with a length of 8/16 bytes </div></dd>
<dd><code>ksn</code> - <div class="zh"> 指向初始化KSN </div> <div class="en"> Point to KSN initialization. </div></dd>
<dd><code>checkMode</code> - <div class="zh"> <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity"><code>ECheckMode</code></a> </div> <div class="en"> reference <a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#writeKey-byte-byte-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(byte, byte, byte, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> checkMode
            </div></dd>
<dd><code>checkBuf</code> - <div class="zh"> 参考<a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#writeKey-byte-byte-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(byte, byte, byte, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> writeKey}关于checkBuf说明 </div> <div class="en"> reference
            <a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#writeKey-byte-byte-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(byte, byte, byte, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> the information about checkBuf </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="deriveKeyBySecureData-byte-byte-byte-byte-byte-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deriveKeyBySecureData</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1494">deriveKeyBySecureData</a>(byte&nbsp;srcKeyType,
                           byte&nbsp;srcKeyIdx,
                           byte&nbsp;dstKeyType,
                           byte&nbsp;dstKeyIdx,
                           byte&nbsp;secureDataIndex,
                           byte[]&nbsp;additionalDataIn,
                           byte&nbsp;derivationMode)
                    throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用SecureData作为datain发散目的密钥。</div>
 <div class="en"> Use SecureData as the datain divergence key.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <div> source key type, must be TMK(0x02) in DerivationMode 0  </div></dd>
<dd><code>srcKeyIdx</code> - <div> source key index, 1-100 in TMK area  </div></dd>
<dd><code>dstKeyType</code> - <div>  destination key type, must be TMK(0x02) in DerivationMode 0  </div></dd>
<dd><code>dstKeyIdx</code> - <div> destination key, 1-100 in TMK area </div></dd>
<dd><code>secureDataIndex</code> - <div>SecureData Index in working key area, 1-100  </div></dd>
<dd><code>additionalDataIn</code> - <div> 64 bytes Additional Data, can be null if not used. DerivationMode 0: not used, can be null. </div></dd>
<dd><code>derivationMode</code> - <div> only support 0, GOWF algorithm </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="eraseAppKeys-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eraseAppKeys</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1511">eraseAppKeys</a>(int&nbsp;mode)
           throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 删除应用密钥。</div>
 <div class="en"> delete app key.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - <div class="zh"> 模式 0:表示删除密钥 ,目前仅支持0 </div>
            <div class="en"> Mode 0: means to delete the key, currently only supports 0</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="eraseKey-byte-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eraseKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1564">eraseKey</a>(byte&nbsp;keyType,
              byte&nbsp;keyIndex)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">擦除指定的密钥。</div>
 <div class="en">Erases the specified key. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - <div class="zh">密钥类型。
                 <ul>
                 <li>0x02: TMK</li>
                 <li>0x0A: TWK</li>
                 <li>0x07: TIK</li>
                 <li>0x51: AES_TIK</li>
                 <li>0x61: ECC</li>
                 <li>0x0B: RSA</li>
                 <li>0x30: SM2_PVT_KEY</li>
                 <li>0x31: SM2_PUB_KEY</li>
                 </ul>
                 </div>
                 <div class="en">Key type.
                 <ul>
                 <li>0x02: TMK</li>
                 <li>0x0A: TWK</li>
                 <li>0x07: TIK</li>
                 <li>0x51: AES_TIK</li>
                 <li>0x61: ECC</li>
                 <li>0x0B: RSA</li>
                 <li>0x30: SM2_PVT_KEY</li>
                 <li>0x31: SM2_PUB_KEY</li>
                 </ul></div></dd>
<dd><code>keyIndex</code> - <div class="zh">密钥索引。
                 <ul>
                 <li>TMK [1~100]</li>
                 <li>TWK [1~100]</li>
                 <li>TIK [1~100]</li>
                 <li>RSA [1~10]</li>
                 <li>ECC [1~20]</li>
                 <li>SM2_PVT_KEY [1~20]</li>
                 <li>SM2_PUB_KEY [1~20]</li>
                 </ul></div>
                 <div class="en">Key index.
                 <ul>
                 <li>TMK [1~100]</li>
                 <li>TWK [1~100]</li>
                 <li>TIK [1~100]</li>
                 <li>RSA [1~10]</li>
                 <li>ECC [1~20]</li>
                 <li>SM2_PVT_KEY [1~20]</li>
                 <li>SM2_PUB_KEY [1~20]</li>
                 </ul></div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="genRsaKey-byte-byte-byte-short-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>genRsaKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1622">genRsaKey</a>(byte&nbsp;mode,
               byte&nbsp;prvKeyIdx,
               byte&nbsp;pubKeyIdx,
               short&nbsp;modLenBit,
               byte&nbsp;pubExpType)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 生成RSA密钥对然后注入PED。</div>
 <div class="en"> Generate RSA key pair and inject into PED.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - <div class="zh">
              <ul>
              <li>mode = 0, 等同于<a href="../../../com/pax/dal/IPed.html#genRSAKey-byte-byte-short-byte-"><code>IPed.genRSAKey(byte, byte, short, byte)</code></a></li>
              <li>mode = 1, 等同于<a href="../../../com/pax/dal/IPedTrSys.html#genRsaKey-byte-byte-byte-short-byte-"><code>IPedTrSys.genRsaKey(byte, byte, byte, short, byte)</code></a></li>
              <li>mode = 2, 跟模式0一样，唯一区别是，私钥注入的是TYPE_AS2805_TCU_RSA类型的RSA。</li>
              </ul></div>
              <div class="en">
              <ul>
              <li>mode = 0, same as <a href="../../../com/pax/dal/IPed.html#genRSAKey-byte-byte-short-byte-"><code>IPed.genRSAKey(byte, byte, short, byte)</code></a></li>
              <li>mode = 1, same as <a href="../../../com/pax/dal/IPedTrSys.html#genRsaKey-byte-byte-byte-short-byte-"><code>IPedTrSys.genRsaKey(byte, byte, byte, short, byte)</code></a></li>
              <li>mode = 2, same as mode 0, the only difference is that the private key is injected into RSA of type TYPE_AS2805_TCU_RSA.</li>
              </ul></div></dd>
<dd><code>prvKeyIdx</code> - <div class="zh">
                  <ul>
                  <li>mode = 0, 私钥索引为 1-10 </li>
                  <li>mode = 1, 私钥索引只支持 1</li>
                  <li>mode = 2, 私钥索引为 1-10 </li>
                  </ul></div>
                  <div class="en">
                  <ul>
                  <li>mode = 0, the private key index is 1-10</li>
                  <li>mode = 1, the private key index only supports 1</li>
                  <li>mode = 2, the private key index is 1-10</li>
                  </ul></div></dd>
<dd><code>pubKeyIdx</code> - <div class="zh">
                  <ul>
                  <li>mode = 0, 公钥索引为 1-10 </li>
                  <li>mode = 1, 公钥索引只支持 2</li>
                  <li>mode = 2, 公钥索引为 1-10 </li>
                  </ul></div>
                  <div class="en">
                  <ul>
                  <li>mode = 0, the public key index is 1-10</li>
                  <li>mode = 1, the public key index only supports 2</li>
                  <li>mode = 2, the public key index is 1-10</li>
                  </ul></div></dd>
<dd><code>modLenBit</code> - <div class="zh">Modulus 长度,支持 512,1024,2048. </div> <div class="en">Modulus length, support 512,1024,2048.</div></dd>
<dd><code>pubExpType</code> - <div class="zh">公共指数类型 0x00:3 , 0x01:65537 </div><div class="en">public exponent type 0x00:3 , 0x01:65537</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="writeKeyEx-byte-byte-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeKeyEx</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1863">writeKeyEx</a>(byte&nbsp;srcKeyType,
                byte&nbsp;srcKeyIndex,
                byte&nbsp;dstKeyType,
                byte&nbsp;dstKeyIndex,
                byte[]&nbsp;dstKeyValue,
                <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
                byte[]&nbsp;checkBuf,
                byte[]&nbsp;keyVarIn,
                byte&nbsp;keyVarMode)
         throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 写入一个密钥，包括TLK，TMK和TWK的写入、发散，并可以选择使用KCV验证密钥正确性。
 <p>
 当写入PED_TLK时，PED首先格式化，清除所有已经下载的密钥，再写入PED_TLK。 明文写入密钥时，srcKeyIndex=0。
 </p>
 </div>
 <div class="en"> Write in one key includes write in and divergent of TLK, TMK and TWK. And use KCV to check the
 key correction.
 <p>
 When write PED_TLK,PED will format ,clear all the key has been downloaded,then write in PED_TLK. Writing the
 plaintext into a key, when scrKeyIndex=0.
 </p>
 </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <div class="zh">
            <p>
            源密钥类型,它的级别不能低于destKeyType, SM4类型秘钥只能用TLK和SM4_TMK发散。
            </p>
            <ul>
                <li>0x01:TLK</li>
                <li>0x02:TMK</li>
                <li>0x03:TPK</li>
                <li>0x04:TAK</li>
                <li>0x05:TDK</li>
                <li>0x11:FACE_TDK</li>
                <li>0x32:SM4_TMK</li>
            </ul>
            </div> <div class="en">
            <p>
            Source Key Type，its level cannot be lower than destKeyType, SM4 type keys can only be diverged with TLK and SM4_TMK.
            </p>
            <ul>
                <li>0x01:TLK</li>
                <li>0x02:TMK</li>
                <li>0x03:TPK</li>
                <li>0x04:TAK</li>
                <li>0x05:TDK</li>
                <li>0x11:FACE_TDK</li>
                <li>0x32:SM4_TMK</li>
            </ul>
            </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">
            <p>
            源密钥索引
            </p>
            </div> <div class="en">
            <p>
            Source Key Index
            </p>
            </div></dd>
<dd><code>dstKeyType</code> - <div class="zh">
            <p>
            目的密钥类型
            </p>
            <ul>
                <li>0x01:TLK</li>
                <li>0x02:TMK</li>
                <li>0x03:TPK</li>
                <li>0x04:TAK</li>
                <li>0x05:TDK</li>
                <li>0x11:FACE_TDK</li>
                <li>0x32:SM4_TMK</li>
                <li>0x33:SM4_TPK</li>
                <li>0x34:SM4_TAK</li>
                <li>0x35:SM4_TDK</li>
                <li>0x36:SM4_TCHDK</li>
                <li>0x37:SM4_FACE_TDK</li>
            </ul>
            </div> <div class="en">
            <p>
            Destination Key Type
            </p>
            <ul>
                <li>0x01:TLK</li>
                <li>0x02:TMK</li>
                <li>0x03:TPK</li>
                <li>0x04:TAK</li>
                <li>0x05:TDK</li>
                <li>0x11:FACE_TDK</li>
                <li>0x32:SM4_TMK</li>
                <li>0x33:SM4_TPK</li>
                <li>0x34:SM4_TAK</li>
                <li>0x35:SM4_TDK</li>
                <li>0x36:SM4_TCHDK</li>
                <li>0x37:SM4_FACE_TDK</li>
            </ul>
            </div></dd>
<dd><code>dstKeyIndex</code> - <div class="zh">
            <p>
            目的密钥索引
            </p>
            </div> <div class="en">
            <p>
            Destination Key Index
            </p>
            </div></dd>
<dd><code>dstKeyValue</code> - <div class="zh">
            <p>
            密钥明文或密文,长度可为8,16,24
            </p>
            </div> <div class="en">
            <p>
            Plaintext or ciphertext key, the length can be 8, 16, 24
            </p>
            </div></dd>
<dd><code>checkMode</code> - <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity"><code>ECheckMode</code></a> <div class="zh">
            <p>
            校验模式
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_SM4_ENCRYPT_0"><code>ECheckMode.KCV_SM4_ENCRYPT_0</code></a></li>
            </ul>
            </div> <div class="en">
            <p>
            Check Mode
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -No Check</li>
            <li>When checkMode=KCV_ENCRYPT_0 -Perform DES/TDES encryption on 8 bytes 0x00, and use first 4 bytes
            as KCV.</li>

            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -Perform parity check first, then perform DES/TDES encryption
            on 8 bytes―\x12\x34\x56\x78\x90\x12\x34\x56, and use first 4 bytes as KCV.</li>

            <li>When iCheckMode=KCV_MAC_INPUT_DATA -Send in data KcvData, use source key to perform specified mode
            of MAC on [aucDesKeyValue +KcvData], and use the 8 bytes result as KCV.</li>

            <li>When iCheckMode=KCV_SM4_ENCRYPT_0 -Perform TDES encryption on 16 bytes 0x00 by SM4, and use first
            4 bytes as KCV.</li> </ul> </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
            <p>
            校验数据缓冲区
            </p>
            <ul>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a>时 checkBuf的值无效,系统认为不验证KCV,可以为null</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a>,4字节的kcv</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a>,4字节的kcv</li>
            <li>当iCheckMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a>时按以下规则提供checkBuf:
            <p>
            checkBuf[0]= KcvData长度(KcvDataLen)
            </p>
            <p>
            checkBuf+1: KcvData
            </p>
            <p>
            checkBuf[1+KcvDataLen]=MAC运算模式,参考<a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getMac-byte-byte:A-byte-"><code>getMac(byte, byte[], byte)</code></a>中的mode参数
            </p>
            <p>
            checkBuf[2+KcvDataLen]=KCV长度
            </p>
            <p>
            checkBuf[3+KcvDataLen]是KCV的值
            </p>
            </li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_SM4_ENCRYPT_0"><code>ECheckMode.KCV_SM4_ENCRYPT_0</code></a>,4字节的kcv</li>
            </ul>
            </div> <div class="en">
            <p>
            Check Data Buffer
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -PED wont check KCV, this data is no meaning.</li>
            <li>When checkMode=KCV_ENCRYPT_0 -4 bytes key check value</li>
            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -4 bytes key check value</li>
            <li>When iCheckMode=KCV_MAC_INPUT_DATA - checkBuf as follows: checkBuf[0] = length of KcvData
            checkBuf+1: kcvData checkBuf[1+kcvDataLen]: MAC computation mode
            <a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#getMac-byte-byte:A-byte-"><code>getMac(byte, byte[], byte)</code></a> checkBuf[2+kcvDataLen]:KCV length
            checkBuf[3+kcvDataLen]:KCV Value</li>
            <li>When checkMode=KCV_SM4_ENCRYPT_0 -4 bytes key check value</li>
            </ul>
            </div></dd>
<dd><code>keyVarIn</code> - <div class="zh">由keyVarIn生成dstKeyValue。</div> <div class="en">dstKeyValue is generated by keyVarIn.</div></dd>
<dd><code>keyVarMode</code> - <div class="zh">
             <ul>
             <li>0x00:同<a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#writeKey-byte-byte-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(byte, byte, byte, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a>；</li>
             <li>0x01:srcKeyIndex密钥和dstKeyIndex密钥的长度都必须是16字节。
             srcKeyIndex对应密钥表示SrcKey，
             SrcKey的左8个字节表示为SrcKey-L。SrcKey的右边8个字节表示为SrcKey-R。
             keyVarIn的左8个字节表示为keyVarIn-L。右8字节的keyVarIn表示为keyVarIn-R。
             K1 = SrcKey-L XOR keyVarIn-L
             K2 = SrcKey-R XOR keyVarIn-L
             K3 = SrcKey-L XOR keyVarIn-R
             K4 = SrcKey-R XOR keyVarIn-R
             使用K1K2解密dstKeyValue的左8字节，然后使用K3K4解密dstKeyValue的右8字节；</li>
             <li>0x02:使用OWF2算法对源密钥进行解密，解密结果存储为目标密钥； </li>
             <li>0x03:dstKeyValue将由源密钥用CBC TDES算法解密并存储为目标密钥；</li>
             <li>0x04:dstKeyValue将由指定的源密钥用CBC TDES算法加密并存储为目标密钥；</li>
             <li>0x05:使用3DES ECB加密模式从destKeyValue生成普通目的密钥； </li>
             <li>0x06:源密钥通过OWF2解密dstKeyValue后再异或dstKeyValue得到目的密钥；</li>
             <li>0x07:源密钥通过GOWF(OWF3)模式解密dstKeyValue得到目的密钥；</li>
             </ul>
             </div> <div class="en">
             <ul>
             <li>0x00:like <a href="../../../com/pax/dal/IPedKeyIsolationMixedManager.html#writeKey-byte-byte-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(byte, byte, byte, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a>;</li>
             <li>0x01:Both the srcKeyIndex key and dstKeyIndex key must be 16 bytes in length.
             SrcKeyIndex corresponds to the key SrcKey, and the left 8 bytes of the SrcKey are represented as Srckey-L.
             The 8 bytes to the right of the SrcKey are represented as Srckey-R.
             The left 8 bytes of keyVarIn are represented as keyvarin-L.The right 8-byte keyVarIn is represented as keyvarin-R.
             K1 = SrcKey-L XOR keyVarIn-L
             K2 = SrcKey-R XOR keyVarIn-L
             K3 = SrcKey-L XOR keyVarIn-R
             K4 = SrcKey-R XOR keyVarIn-R
             Decrypt the left 8 bytes of dstKeyValue with K1K2, and then decrypt the right 8 bytes of dstKeyValue with K3K4;</li>
             <li>0x02:The source key is decrypted using the OWF2 algorithm, and the decryption result is stored as the target key;</li>
             <li>0x03:The dstKeyValue will be decrypted by the source key using the CBC TDES algorithm and stored as the target key;</li>
             <li>0x04:The dstKeyValue will be encrypted by the specified source key with the CBC TDES algorithm and stored as the target key;</li>
             <li>0x05:Generate the general purpose key from dstKeyValue using 3DES ECB encryption mode;</li>
             <li>0x06:The source key uses OWF2 to decrypt the dstKeyValue and then xOR dstKeyValue to obtain the target key;</li>
             <li>0x07:The source key uses GOWF(OWF3) mode to decrypt the dstKeyValue to obtain the target key</li>
             </ul>
             </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="getMacAes-byte-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMacAes</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1904">getMacAes</a>(byte&nbsp;keyIdx,
                 byte[]&nbsp;dataIn,
                 byte&nbsp;mode)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">使用AES_TAK对DataIn用Mode指定的算法进行MAC运算，将16字节的MAC结果输出， MAC运算密钥是主密钥/工作密钥体系或固定密钥体系密钥或DUKPT密钥体系。
                  <br/>用法：
                  <br/>1.敏感服务授权：在此接口内部，先进行认证以获取敏感服务授权，若授权失败则退出。
                  <br/>2.补零规则：将报文数据分割成若干16个字节的BLOCK，最后一个BLOCK不满16个字节则后补0x00。</div>
 <div class="en">Use AES_TAK to perform MAC operation on dataIn with the algorithm specified by Mode, and output the 16-byte MAC result.
 The MAC operation key is the master key/working key system or fixed key system key or DUKPT key system.
                  <br/>usage:
                  <br/>1.Sensitive service authorization: In this interface, first perform authentication to obtain sensitive service authorization,
                  and exit if authorization fails.
                  <br/>2.Zero-filling rule: divide the message data into 16-byte BLOCKs, and add 0x00 after the last BLOCK is less than 16 bytes.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh">AES_TAK 1~100索引</div>
                 <div class="en">AES_TAK 1~100 index</div></dd>
<dd><code>dataIn</code> - <div class="zh">需进行 MAC 运算的数据包. 长度InLen<=2048，长度不能被16整除时，则自动补0x00</div>
                <div class="en">Data packet that needs MAC operation. Length<=2048, when the length is not divisible by 16, it will automatically add 0x00</div></dd>
<dd><code>mode</code> - <div class="zh">
             <ul>
             <li>0x00: 将BLOCK1用MAC密钥做AES加密，加密结果与BLOCK2进行逐位异或后再用MAC密钥做AES加密，依次进行得到16字节的加密结果， KSN不自动加1。</li>
             <li>0x01: Hypercom Fast Mode，将BLOCK1和BLOCK2进行逐位异或，异或结果与BLOCK3进行逐位异或，依次进行，最后得到16字节的异或结果，将该结果用MAC密钥进行AES加密运算，KSN不自动加1。</li>
             <li>0x03: CMAC算法，KSN不自动加1。</li>
             <li>0x05: HMAC-SHA256算法，KSN不自动加1。</li>
             </ul></div>
             <div class="en">
             <ul>
             <li>0x00: Use MAC key for AES encryption of BLOCK1, and perform bitwise XOR between the encrypted result and BLOCK2 and then use MAC key for AES encryption.
             The 16-byte encryption result is obtained in sequence, and KSN does not automatically add 1.</li>
             <li>0x01: Hypercom Fast Mode, XOR BLOCK1 and BLOCK2 bit by bit, XOR result and BLOCK3 bit by bit XOR, in turn, finally get a 16-byte XOR result, the result is encrypted with MAC key AES Operation,
             KSN does not automatically increase by 1.</li>
             <li>0x03: CMAC algorithm, KSN does not automatically increase by 1.</li>
             <li>0x05: HMAC-SHA256 algorithm, KSN does not automatically increase by 1.</li>
             </ul></div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">MAC输出，模式5的时候是32字节输出，其他模式16字节输出</div>
         <div class="en">MAC output, 32-byte output in mode 5, 16-byte output in other modes</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
<a name="injectKeyBlock-byte-byte-byte-byte-byte:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>injectKeyBlock</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPedKeyIsolationMixedManager.html#line.1997">injectKeyBlock</a>(byte&nbsp;format,
                    byte&nbsp;srcKeyType,
                    byte&nbsp;srcKeyIdx,
                    byte&nbsp;dstKeyIdx,
                    byte[]&nbsp;keyBlock)
             throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">往PED中注入一个密钥</div>
 <div class="en">Inject a key into the PED.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>format</code> - <div class="zh">固定式:0x08</div>
                 <div class="en">Fixed: 0x08</div></dd>
<dd><code>srcKeyType</code> - <div class="zh">源密钥类型:
                    <ul>
                    <li>0x01: TLK</li>
                    <li>0x02: TMK</li>
                    <li>0x21: AES_TLK</li>
                    <li>0x22: AES_TMK</li>
                    </ul></div>
                <div class="en">source key type:
                    <ul>
                    <li>0x01: TLK</li>
                    <li>0x02: TMK</li>
                    <li>0x21: AES_TLK</li>
                    <li>0x22: AES_TMK</li>
                    </ul></div></dd>
<dd><code>srcKeyIdx</code> - <div class="zh">源密钥索引.源密钥是TLK/PED_AES_TLK时，索引为1.源密钥是TMK/PED_AES_TMK时，索引为1-100</div>
                  <div class="en">Source key index. When the source key is TLK/PED_AES_TLK, the index is 1. When the source key is TMK/PED_AES_TMK, the index is 1-100</div></dd>
<dd><code>dstKeyIdx</code> - <div class="zh">目的密钥索引
                  <ul>
                  <li>TMK [1~100]</li>
                  <li>TPK [1~100]</li>
                  <li>TAK [1~100]</li>
                  <li>TDK [1~100]</li>
                  <li>TCHDK [1~100]</li>
                  <li>TIK [1~100]</li>
                  <li>AES_TMK [1~100]</li>
                  <li>AES_TPK [1~100]</li>
                  <li>AES_TAK [1~100]</li>
                  <li>AES_TDK [1~100]</li>
                  <li>AES_TCHDK [1~100]</li>
                  <li>AES_TIK [1~100]</li>
                  </ul></div>
                  <div class="en">destination key index
                  <ul>
                  <li>TMK [1~100]</li>
                  <li>TPK [1~100]</li>
                  <li>TAK [1~100]</li>
                  <li>TDK [1~100]</li>
                  <li>TCHDK [1~100]</li>
                  <li>TIK [1~100]</li>
                  <li>AES_TMK [1~100]</li>
                  <li>AES_TPK [1~100]</li>
                  <li>AES_TAK [1~100]</li>
                  <li>AES_TDK [1~100]</li>
                  <li>AES_TCHDK [1~100]</li>
                  <li>AES_TIK [1~100]</li>
                  </ul></div></dd>
<dd><code>keyBlock</code> - <div class="zh">长度16-256,格式如下:<br>
                 VersionID+Length+Usage+Algorithm+Mode+VersionNumber+Exportability+Number of Optional Blocks+ Reserved+Optional Blocks+Encryption body+MAC
                 <ul>
                 <li>VersionID:密钥块版本标识,1byte,'B'-TDEA,'D'-AES</li>
                 <li>Length:密钥块长度,4byte,十进制ASCII表示</li>
                 <li>Usage:密钥类型，2byte,'P0'-PIN encryption,'B1'-DUKPT TIK,'K0'-TMK,'D0'-TDK,'Mx'-TAK,'C1'-TCHDK,'99'-TSK</li>
                 <li>Algorithm:密钥算法,1byte,'T'-TDEA,'A'-AES</li>
                 <li>Mode:密钥使用方式,1byte,忽略</li>
                 <li>VersionNumber:密钥版本,2byte,忽略</li>
                 <li>Exportability:输出,1byte,忽略</li>
                 <li>Number of Optional Blocks:可选块个数,2byte,00/01/02</li>
                 <li>Reserved:保留域.2byte,忽略</li>
                 <li>Optional Blocks:可选块，长度是8('B'/TDES)或者16('D'/AES)的倍数，不足时需补充填充块以满足要求</li>
                 <li>Encryption body:密文块，2byte+key+padding</li>
                 <li>MAC:TDES是16byte， AES是32byte</li>
                 </ul></div>
             <div class="en">Length 16-256, the format is as follows:<br>
                 VersionID+Length+Usage+Algorithm+Mode+VersionNumber+Exportability+Number of Optional Blocks+ Reserved+Optional Blocks+Encryption body+MAC
                 <ul>
                 <li>VersionID: key block version identifier,1byte, 'B'-TDEA,'D'-AES</li>
                 <li>Length: key block length, 4byte,十进制ASCII表示</li>
                 <li>Usage: key type，2byte,'P0'-PIN encryption,'B1'-DUKPT TIK,'K0'-TMK,'D0'-TDK,'Mx'-TAK,'C1'-TCHDK,'99'-TSK</li>
                 <li>Algorithm: key algorithm, 1byte,'T'-TDEA,'A'-AES</li>
                 <li>Mode: key Usage, 1byte, ignorable</li>
                 <li>VersionNumber: key version,2byte, ignorable</li>
                 <li>Exportability: output, 1byte, ignorable</li>
                 <li>Number of Optional Blocks: number of optional blocks, 2byte,00/01/02</li>
                 <li>Reserved: reserved domain. 2byte, ignorable</li>
                 <li>Optional Blocks:Optional blocks, the length is a multiple of 8('B'/TDES) or 16('D'/AES), if insufficient, fill blocks are required to meet the requirements</li>
                 <li>Encryption body: ciphertext block，2byte+key+padding</li>
                 <li>MAC: TDES is 16byte, AES is 32byte</li>
                 </ul></div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.00.00</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/pax/dal/IPedKeyIsolationManager.html" title="interface in com.pax.dal"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/pax/dal/IPedNp.html" title="interface in com.pax.dal"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/pax/dal/IPedKeyIsolationMixedManager.html" target="_top">Frames</a></li>
<li><a href="IPedKeyIsolationMixedManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
