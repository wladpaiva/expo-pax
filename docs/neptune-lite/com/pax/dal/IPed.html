<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_311) on Fri Dec 29 07:07:58 UTC 2023 -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>IPed</title>
<meta name="date" content="2023-12-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet_en.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IPed";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":6,"i25":6,"i26":6,"i27":6,"i28":6,"i29":6,"i30":6,"i31":6,"i32":6,"i33":6,"i34":6,"i35":6,"i36":6,"i37":6,"i38":6,"i39":6,"i40":6,"i41":6,"i42":6,"i43":6,"i44":6,"i45":6,"i46":6,"i47":6,"i48":6,"i49":6,"i50":6,"i51":6,"i52":6,"i53":6,"i54":6,"i55":6,"i56":6,"i57":6,"i58":6,"i59":6,"i60":6,"i61":6,"i62":6,"i63":6,"i64":6,"i65":6,"i66":6,"i67":6,"i68":6,"i69":6,"i70":6,"i71":6,"i72":6,"i73":6,"i74":6,"i75":6,"i76":6,"i77":6,"i78":6,"i79":6,"i80":6,"i81":6,"i82":6,"i83":6,"i84":6,"i85":6,"i86":6,"i87":6,"i88":6,"i89":6,"i90":6,"i91":6,"i92":6,"i93":6,"i94":6,"i95":6,"i96":6,"i97":6,"i98":6,"i99":6,"i100":6,"i101":6,"i102":6,"i103":6,"i104":6,"i105":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/pax/dal/IPaymentDevice.html" title="interface in com.pax.dal"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/pax/dal/IPed.html" target="_top">Frames</a></li>
<li><a href="IPed.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.pax.dal</div>
<h2 title="Interface IPed" class="title">Interface IPed</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../com/pax/dal/pedkeyisolation/IPedKeyIsolation.html" title="interface in com.pax.dal.pedkeyisolation">IPedKeyIsolation</a>, <a href="../../../com/pax/dal/IPedKeyIsolationManager.html" title="interface in com.pax.dal">IPedKeyIsolationManager</a></dd>
</dl>
<hr>
<br>
<pre>public interface <a href="../../../src-html/com/pax/dal/IPed.html#line.53">IPed</a></pre>
<div class="block"><div class="zh">关于 PED的API。 如果开启权限检查，需在AndroidManifest下添加权限:"com.pax.permission.PED"</div>
  <div class="en">API for PED. If permission check is enabled, you need to add permission under AndroidManifest: "com.pax.permission.PED".</div></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal">IPed.IPedInputPinListener</a></span></code>
<div class="block"><div class="zh"> PED 輸入PIN监听器,仅对内置PED有效  <div class="en"> PED input PIN listener,only effective on internal
 PED </div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcAes-byte-byte:A-byte:A-com.pax.dal.entity.ECryptOperate-com.pax.dal.entity.ECryptOpt-">calcAes</a></span>(byte&nbsp;keyIdx,
       byte[]&nbsp;initvector,
       byte[]&nbsp;dataIn,
       <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity">ECryptOperate</a>&nbsp;operation,
       <a href="../../../com/pax/dal/entity/ECryptOpt.html" title="enum in com.pax.dal.entity">ECryptOpt</a>&nbsp;option)</code>
<div class="block"><div class="zh"> 用AES算法进行加密或者解密 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en"> Use AES algorithm to encrypt or decrypt.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcAesDUKPTData-byte-byte-byte:A-byte:A-com.pax.dal.entity.EAlgorithmType-byte-">calcAesDUKPTData</a></span>(byte&nbsp;groupIndex,
                byte&nbsp;keyVarType,
                byte[]&nbsp;iv,
                byte[]&nbsp;dataIn,
                <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;algorithmType,
                byte&nbsp;mode)</code>
<div class="block"><div class="zh">使用 AES DUKPT 的数据加解密密钥，对输入缓存内数据进行加密或解密。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Use the AES DUKPT data encryption and decryption key to encrypt or decrypt the data in the input buffer.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcDes-byte-byte:A-byte:A-byte-">calcDes</a></span>(byte&nbsp;keyIndex,
       byte[]&nbsp;initvector,
       byte[]&nbsp;dataIn,
       byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用TDK对DataInLen长度的数据进行DES/TDES运算，使用DES或TDES根据密钥的长度而定。
 外置A类PED需要调用setExMode <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode exMode默认为-1,表示TDK长度为16字节,如果TDK长度为16字节则可以使用该默认值 。
 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。
 <div class="en"> To use TDK encrypt or decrypt data by DES/TDES.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcDes-byte-byte:A-com.pax.dal.entity.EPedDesMode-">calcDes</a></span>(byte&nbsp;keyIndex,
       byte[]&nbsp;datain,
       <a href="../../../com/pax/dal/entity/EPedDesMode.html" title="enum in com.pax.dal.entity">EPedDesMode</a>&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用TDK对DataInLen长度的数据进行DES/TDES运算，使用DES或TDES根据密钥的长度而定。
 外置A类PED需要调用setExMode <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode exMode默认为-1,表示TDK长度为16字节,如果TDK长度为16字节则可以使用该默认值。
 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> To use TDK encrypt or decrypt data by DES/TDES.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcDesfireAuth-byte-byte-byte:A-byte:A-byte:A-byte-">calcDesfireAuth</a></span>(byte&nbsp;keyIndex1,
               byte&nbsp;keyIndex2,
               byte[]&nbsp;csn,
               byte[]&nbsp;dataIn,
               byte[]&nbsp;initVector,
               byte&nbsp;mode)</code>
<div class="block"><div class="zh">使用DesfireMasterKey和DiversificationKey来计算认证数据。
 <div class="en">Use DesfireMasterKey and DiversificationKey to calculate authentication data.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcDUKPTData-byte-byte-byte:A-byte:A-byte-">calcDUKPTData</a></span>(byte&nbsp;groupIndex,
             byte&nbsp;keyVarType,
             byte[]&nbsp;iv,
             byte[]&nbsp;dataIn,
             byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥或DES密钥，对输入缓存内数据进行加密或解密。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en"> Use MAC key or DES key of DUKPT to encrypt or decrypt the data in the input buffer.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcDUKPTDes-byte-byte-byte:A-byte:A-com.pax.dal.entity.EDUKPTDesMode-">calcDUKPTDes</a></span>(byte&nbsp;groupIndex,
            byte&nbsp;keyVarType,
            byte[]&nbsp;iv,
            byte[]&nbsp;dataIn,
            <a href="../../../com/pax/dal/entity/EDUKPTDesMode.html" title="enum in com.pax.dal.entity">EDUKPTDesMode</a>&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥或DES密钥，对输入缓存内数据进行加密或解密。 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en"> Use MAC key or DES key of DUKPT to encrypt or decrypt the data in the input buffer.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcHMAC-int-byte:A-int-">calcHMAC</a></span>(int&nbsp;keyIndex,
        byte[]&nbsp;dataIn,
        int&nbsp;mode)</code>
<div class="block"><div class="zh">用keyIndex指定的Salt密钥以及dataIn，依照指定mode做HMAC运算。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en">Do the HMAC operation in the specified mode with the Salt key specified in keyIndex and dataIn.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#calcStackUKPT-byte-byte-byte:A-byte:A-byte-">calcStackUKPT</a></span>(byte&nbsp;groupIdx,
             byte&nbsp;keyVarType,
             byte[]&nbsp;iv,
             byte[]&nbsp;data,
             byte&nbsp;mode)</code>
<div class="block"><div class="zh">使用Stack UKPT Key进行数据加解密。
 <div class="en">Use Stack UKPT Key to encrypt and decrypt data.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#cancelInput--">cancelInput</a></span>()</code>
<div class="block"><div class="zh"> PedGetPinBlock 时取消输入。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> 类型。 
 <div class="en"> Cancel input when PedGetPinBlock.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#challengeWICKey-byte-byte-byte:A-byte:A-">challengeWICKey</a></span>(byte&nbsp;srcKeyIndex,
               byte&nbsp;mode,
               byte[]&nbsp;cardSN,
               byte[]&nbsp;dataIn)</code>
<div class="block"><div class="zh">WIC卡的密钥验证步骤，根据WIC密钥计算出challenge数据。接口不进行与卡片交互的步骤，仅计算出challenge数据。后续流程需要由应用处理。需要设备中存在WIC密钥（以TDK的方式保存）。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en">WIC card key verification steps, based on the WIC key to calculate the challenge data.The interface does not perform the steps of interacting with the card,
 only calculating the challenge data.Subsequent processes need to be handled by the application.The WIC key (stored as TDK) is required to be present in the device.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#clearScreen--">clearScreen</a></span>()</code>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘

 清屏  <div class="en"> This interface only be used for external PIN pad Clear screen </div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#deriveKeyBySecureData-byte-byte-byte-byte-byte-byte:A-byte-">deriveKeyBySecureData</a></span>(byte&nbsp;srcKeyType,
                     byte&nbsp;srcKeyIdx,
                     byte&nbsp;dstKeyType,
                     byte&nbsp;dstKeyIdx,
                     byte&nbsp;secureDataIndex,
                     byte[]&nbsp;additionalDataIn,
                     byte&nbsp;derivationMode)</code>
<div class="block"><div class="zh">使用SecureData作为datain发散目的密钥。
 <div class="en">Use SecureData as the datain diverges the destination key.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#erase--">erase</a></span>()</code>
<div class="block"><div class="zh"> 清空TDES MK/SK DUKPT, AES MK/SK DUKPT, SM2等密钥。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。<br/>
              注：定制密钥不清除;因兼容性问题,不清除RSA密钥
 <div class="en">Clear TDES MK/SK DUKPT, AES MK/SK DUKPT, SM2 keys.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#eraseKey-byte-byte-">eraseKey</a></span>(byte&nbsp;keyType,
        byte&nbsp;keyIndex)</code>
<div class="block"><div class="zh">擦除指定的密钥。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en">Erases the specified key.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#eraseKeyEx-byte-">eraseKeyEx</a></span>(byte&nbsp;mode)</code>
<div class="block"><div class="zh">擦除指定类型的密钥。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en">Erases the key of the specified type.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#evolveStackUKPT-byte-">evolveStackUKPT</a></span>(byte&nbsp;groupIdx)</code>
<div class="block"><div class="zh">Stack UKPT Key演算。
 <div class="en">Stack UKPT Key evolution.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#genCSR-byte-byte-java.lang.String-">genCSR</a></span>(byte&nbsp;pubKeyIndex,
      byte&nbsp;pvkKeyIndex,
      java.lang.String&nbsp;dn)</code>
<div class="block"><div class="zh">生成证书签名请求。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en">Generate the Certificate Signing Request.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#genRSAKey-byte-byte-short-byte-">genRSAKey</a></span>(byte&nbsp;pvtKeyIdx,
         byte&nbsp;pubKeyIdx,
         short&nbsp;modLenBit,
         byte&nbsp;pubExpType)</code>
<div class="block"><div class="zh"> 生成RSA密钥对并注入PED。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en"> Generate RSA key pairs then inject into PED.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/SM2KeyPair.html" title="class in com.pax.dal.entity">SM2KeyPair</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#genSM2KeyPair-int-">genSM2KeyPair</a></span>(int&nbsp;keyLenBit)</code>
<div class="block"><div class="zh"> 生成一组 SM2 密钥对。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> Generate one SM2 key-pair.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getAesDUKPTKsn-byte-">getAesDUKPTKsn</a></span>(byte&nbsp;groupIndex)</code>
<div class="block"><div class="zh">读取当前的 KSN，将在下一次计算使用。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Read the current KSN, which will be used in the next calculation.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getAesDUKPTMac-byte-byte:A-com.pax.dal.entity.EAlgorithmType-byte-">getAesDUKPTMac</a></span>(byte&nbsp;groupIndex,
              byte[]&nbsp;dataIn,
              <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;algorithmType,
              byte&nbsp;mode)</code>
<div class="block"><div class="zh">使用 AES DUKPT 的 MAC 密钥计算 MAC。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Use AES DUKPT's MAC key to calculate MAC.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getAesDUKPTPin-byte-java.lang.String-byte:A-com.pax.dal.entity.EAlgorithmType-byte-long-">getAesDUKPTPin</a></span>(byte&nbsp;groupIndex,
              java.lang.String&nbsp;exPinLen,
              byte[]&nbsp;dataIn,
              <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;algorithmType,
              byte&nbsp;mode,
              long&nbsp;timeoutMs)</code>
<div class="block"><div class="zh">在 PED 上输入 PIN,并使 AES DUKPT 的 PIN 密钥计算 PINBlock。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Enter the PIN on the PED, and use the PIN key of AES DUKPT to calculate the PINBlock.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getDUKPTKsn-byte-">getDUKPTKsn</a></span>(byte&nbsp;groupIndex)</code>
<div class="block"><div class="zh"> 获取当前的KSN。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en"> Get the current KSN.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getDUKPTMac-byte-byte:A-byte-">getDUKPTMac</a></span>(byte&nbsp;groupIndex,
           byte[]&nbsp;dataIn,
           byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥计算MAC。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 韩国Smartro定制。
 <div class="en"> Use MAC Key to calculate MAC.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getDUKPTMac-byte-byte:A-com.pax.dal.entity.EDUKPTMacMode-">getDUKPTMac</a></span>(byte&nbsp;groupIndex,
           byte[]&nbsp;dataIn,
           <a href="../../../com/pax/dal/entity/EDUKPTMacMode.html" title="enum in com.pax.dal.entity">EDUKPTMacMode</a>&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥计算MAC。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> Use MAC Key to calculate MAC.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getDUKPTPin-byte-java.lang.String-byte:A-java.lang.Boolean-java.lang.String-java.lang.String-int-">getDUKPTPin</a></span>(byte&nbsp;groupIndex,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           java.lang.Boolean&nbsp;isByPass,
           java.lang.String&nbsp;msg1,
           java.lang.String&nbsp;msg2,
           int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 在PED上输入PIN，并使DUKPT的PIN密钥计算PINBlock，仅适用于type-c类外置密码键盘。 <div class="en"> PINBlock Input the PIN on PED,and use
 the PINkey of DUKPT to calculate the PINBlock.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getDUKPTPin-byte-java.lang.String-byte:A-com.pax.dal.entity.EDUKPTPinMode-int-">getDUKPTPin</a></span>(byte&nbsp;groupIndex,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           <a href="../../../com/pax/dal/entity/EDUKPTPinMode.html" title="enum in com.pax.dal.entity">EDUKPTPinMode</a>&nbsp;mode,
           int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 在PED上输入PIN，并使DUKPT的PIN密钥计算PINBlock。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。
 <div class="en"> PINBlock Input the PIN on PED,and use the PINkey of DUKPT to calculate the PINBlock.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getInfoStackUKPT-byte-byte-">getInfoStackUKPT</a></span>(byte&nbsp;groupIdx,
                byte&nbsp;mode)</code>
<div class="block"><div class="zh">获取Stack UKPT Key信息。
 <div class="en">Get Stack UKPT Key information.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getKCV-com.pax.dal.entity.EPedKeyType-byte-byte-byte:A-">getKCV</a></span>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;type,
      byte&nbsp;keyIndex,
      byte&nbsp;checkMode,
      byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh"> 获取密钥的KCV值，以供对话双方进行密钥验证，用指定的密钥及算法对一段数据进行加密，并返回部分数据密文。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型 。
 <div class="en"> Getting value of KCV for key verification of to side, using specific key and algorithm to encrypt data, and then return part of cryptograph.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getKeyBoardType--">getKeyBoardType</a></span>()</code>
<div class="block"><div class="zh"> 获取PIN输入的密码键盘类型 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en"> get keyboard type for PIN entry.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-">getMac</a></span>(byte&nbsp;keyIndex,
      byte[]&nbsp;dataIn,
      <a href="../../../com/pax/dal/entity/EPedMacMode.html" title="enum in com.pax.dal.entity">EPedMacMode</a>&nbsp;mode)</code>
<div class="block"><div class="zh"> 用KeyIdx指定的MAC密钥对DataIn进行mode指定的算法进行MAC运算，将8字节的MAC结果返回 外置A类PED需要除了设置PinBlockMode外还需要调用setExMode
 <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode exMode默认为-1,表示TAK长度为16字节,如果TAK长度为16字节则可以使用该默认值 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。
 <div class="en"> To use KeyIdx MAC key calculate the DataIn following the specified Mode algorithm, return the 8 bytes MAC result.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getMacAes-byte-byte:A-byte-">getMacAes</a></span>(byte&nbsp;keyIdx,
         byte[]&nbsp;dataIn,
         byte&nbsp;mode)</code>
<div class="block"><div class="zh">使用AES_TAK对DataIn用Mode指定的算法进行MAC运算，将16字节的MAC结果输出到MacOut MAC运算密钥是主密钥/工作密钥体系或固定密钥体系密钥或DUKPT密钥体系。
                  <br/>用法：
                  <br/>1.敏感服务授权：在此接口内部，先进行认证以获取敏感服务授权，若授权失败则退出。
                  <br/>2.补零规则：将报文数据分割成若干16个字节的BLOCK，最后一个BLOCK不满16个字节则后补0x00。
 <div class="en">Use AES_TAK to perform MAC operation on dataIn with the algorithm specified by Mode, and output the 16-byte MAC result to MacOut.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getMacSM-byte-byte:A-byte:A-byte-">getMacSM</a></span>(byte&nbsp;keyIdx,
        byte[]&nbsp;initVector,
        byte[]&nbsp;input,
        byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用 SM4 算法计算 MAC。 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。
 <div class="en"> Use SM4 algorithm to calculate MAC.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getMacStackUKPT-byte-byte-byte:A-byte-">getMacStackUKPT</a></span>(byte&nbsp;groupIdx,
               byte&nbsp;keyVarType,
               byte[]&nbsp;data,
               byte&nbsp;mode)</code>
<div class="block"><div class="zh">使用Stack UKPT Key进行MAC加密运算。
 <div class="en">Use Stack UKPT Key for MAC encryption operation.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getPinBlock-byte-int-byte-byte-int-int-byte:A-int-">getPinBlock</a></span>(byte&nbsp;keyIndex,
           int&nbsp;keyLen,
           byte&nbsp;mode,
           byte&nbsp;inputMode,
           int&nbsp;inputMin,
           int&nbsp;inputMax,
           byte[]&nbsp;dataIn,
           int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> Scan the keyboard PIN entry and output the PIN BLOCK encrypted data block in a specific time.<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getPinBlock-byte-java.lang.String-byte:A-byte-int-">getPinBlock</a></span>(byte&nbsp;keyIndex,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           byte&nbsp;mode,
           int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div class="en"> Scan the keyboard PIN entry and
 output the PIN BLOCK encrypted data block in a specific time.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getPinBlock-byte-java.lang.String-byte:A-byte-int-int-">getPinBlock</a></span>(byte&nbsp;keyIdx,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           byte&nbsp;mode,
           int&nbsp;timeoutMs,
           int&nbsp;controlTime)</code>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div class="en"> Scan the keyboard PIN entry and
 output the PIN BLOCK encrypted data block in a specific time.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getPinBlock-byte-java.lang.String-byte:A-com.pax.dal.entity.EPinBlockMode-int-">getPinBlock</a></span>(byte&nbsp;keyIndex,
           java.lang.String&nbsp;expPinLen,
           byte[]&nbsp;dataIn,
           <a href="../../../com/pax/dal/entity/EPinBlockMode.html" title="enum in com.pax.dal.entity">EPinBlockMode</a>&nbsp;mode,
           int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> Scan the keyboard PIN entry and output the PIN BLOCK encrypted data block in a specific time.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getPinBlockSM4-byte-java.lang.String-byte:A-com.pax.dal.entity.EPinBlockMode-int-">getPinBlockSM4</a></span>(byte&nbsp;keyIndex,
              java.lang.String&nbsp;expPinLen,
              byte[]&nbsp;dataIn,
              <a href="../../../com/pax/dal/entity/EPinBlockMode.html" title="enum in com.pax.dal.entity">EPinBlockMode</a>&nbsp;mode,
              int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 指定的时限内,扫描键盘上输入的 PIN 并输出采用 SM4 算法生成的 PIN BLOCK 加密数据块。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  <div class="en"> Scan the keyboard
 PIN entry and output the PIN BLOCK using SM4_TPK.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getPinBlockStackUKPT-byte-java.lang.String-byte:A-byte-int-">getPinBlockStackUKPT</a></span>(byte&nbsp;groupIdx,
                    java.lang.String&nbsp;expPinLen,
                    byte[]&nbsp;data,
                    byte&nbsp;mode,
                    int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh">扫描键盘上输入的PIN并输出由 Mode指定算法加密的 PIN BLOCK，用于Stack UKPT Key。
 <div class="en">Scan the PIN entered on the keyboard and output the PIN BLOCK encrypted by the algorithm specified by Mode for Stack UKPT Key.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getSN--">getSN</a></span>()</code>
<div class="block"><div class="zh"> 获取外置密码键盘的SN。支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> 类型。
 <div class="en"> get External Ped Serial Number.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#getVersion--">getVersion</a></span>()</code>
<div class="block"><div class="zh"> 获取PED的版本。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> Get the PED version information.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#idKeyCalc-byte-byte:A-byte:A-com.pax.dal.entity.EIdKeycCalcMode-">idKeyCalc</a></span>(byte&nbsp;keyId,
         byte[]&nbsp;initvector,
         byte[]&nbsp;dataIn,
         <a href="../../../com/pax/dal/entity/EIdKeycCalcMode.html" title="enum in com.pax.dal.entity">EIdKeycCalcMode</a>&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用Idkey对机器序列号等身份信息进行加密运算 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en"> Use IdKey encrypt Identity information.</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#incAesDUKPTKsn-byte-">incAesDUKPTKsn</a></span>(byte&nbsp;groupIndex)</code>
<div class="block"><div class="zh">KSN 加 1。对应于KSN的单个DUKPT密钥最多只能使用256次，在达到最大次数后，进一步使用该密钥将返回<a href="../../../com/pax/dal/exceptions/EPedDevException.html#PED_ERR_DUKPT_NEED_INC_KSN"><code>EPedDevException.PED_ERR_DUKPT_NEED_INC_KSN</code></a>异常，
      所以请在使用钥匙次数超过最大次数之前增加KSN。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Add 1 to KSN.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#incDUKPTKsn-byte-">incDUKPTKsn</a></span>(byte&nbsp;groupIndex)</code>
<div class="block"><div class="zh"> 对应于KSN的单个DUKPT密钥最多只能使用256次，在达到最大次数后，进一步使用该密钥将返回<a href="../../../com/pax/dal/exceptions/EPedDevException.html#PED_ERR_DUKPT_NEED_INC_KSN"><code>EPedDevException.PED_ERR_DUKPT_NEED_INC_KSN</code></a>异常，
 所以请在使用钥匙次数超过最大次数之前增加KSN。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en"> A single DUKPT key corresponding to a KSN can only be used at most 256 times, further use of that key will result in
 <a href="../../../com/pax/dal/exceptions/EPedDevException.html#PED_ERR_DUKPT_NEED_INC_KSN"><code>EPedDevException.PED_ERR_DUKPT_NEED_INC_KSN</code></a> after reaching the maxium times.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-">inputPin</a></span>(java.lang.String&nbsp;expPinLen,
        long&nbsp;timeoutMs,
        byte&nbsp;mode)</code>
<div class="block"><div class="zh">输入PIN的过程，并将PIN保存在PED内部。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en">The process of entering the PIN and saving the PIN inside the PED.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#inputStr-byte-byte-byte-int-">inputStr</a></span>(byte&nbsp;mode,
        byte&nbsp;min,
        byte&nbsp;max,
        int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘

 超时时间内输入指定长度范围内的字符串。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  <div class="en"> This interface only be used for external PIN pad Type string with
 specified length within timeout.</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#keyCalcMac-byte-byte-byte:A-byte-">keyCalcMac</a></span>(byte&nbsp;keyType,
          byte&nbsp;keyIdx,
          byte[]&nbsp;dataIn,
          byte&nbsp;mode)</code>
<div class="block"><div class="zh">使用MAC密钥进行MAC运算。
 <div class="en">Use MAC keys for MAC operations.</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#m1AuthorityDiversified-byte-byte-byte-byte-byte:A-">m1AuthorityDiversified</a></span>(byte&nbsp;type,
                      byte&nbsp;m1KeyIdx,
                      byte&nbsp;m1MasterKeyIdx,
                      byte&nbsp;blkNo,
                      byte[]&nbsp;serialNo)</code>
<div class="block"><div class="zh">通过M1MasterKey去发散M1key，给非接驱动提供秘钥实现M1的认证。
 <div class="en">Distribute M1key through M1MasterKey, and provide secret key to contactless driver to realize M1 authentication.</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#paxCARecover-byte-byte-byte:A-">paxCARecover</a></span>(byte&nbsp;keyIdx,
            byte&nbsp;pvkPukSelect,
            byte[]&nbsp;dataIn)</code>
<div class="block"><div class="zh">使用预装PAX CA公钥或者私钥进行签名、加密、解密。
 <div class="en">Use the pre-installed Pax CA for signature, encryption and decryption.</div>
</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#pinEndGetAesDukptPin-byte-byte:A-com.pax.dal.entity.EAlgorithmType-byte-">pinEndGetAesDukptPin</a></span>(byte&nbsp;groupIndex,
                    byte[]&nbsp;dataIn,
                    <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;eAlgorithmType,
                    byte&nbsp;mode)</code>
<div class="block"><div class="zh">在<a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a>输入完毕后，使用AES DUKPT的PIN密钥计算PinBlock。PIN将被清空。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en">After <a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a> is entered, calculate the PinBlock using AES DUKPT's Pin key.</div>
</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#pinEndGetDukptPin-byte-byte:A-byte-">pinEndGetDukptPin</a></span>(byte&nbsp;groupIndex,
                 byte[]&nbsp;dataIn,
                 byte&nbsp;mode)</code>
<div class="block"><div class="zh">在<a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a>输入完毕后，使用DUKPT的PIN密钥计算PinBlock。PIN将被清空。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en">After <a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a> is entered, calculate the PinBlock using DUKPT's Pin key.</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#pinEndGetPinBlock-byte-byte:A-byte-">pinEndGetPinBlock</a></span>(byte&nbsp;keyIndex,
                 byte[]&nbsp;dataIn,
                 byte&nbsp;mode)</code>
<div class="block"><div class="zh">将<a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a>的输入PIN加密为密文PinBlock。PIN将被清空。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en">Encrypt the inputPin of <a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a> as ciphertext PinBlock.The PIN will be cleared.</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#pinEndVerifyCipherPin-byte-com.pax.dal.entity.RSAPinKey-byte-">pinEndVerifyCipherPin</a></span>(byte&nbsp;slot,
                     <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity">RSAPinKey</a>&nbsp;rsaPinKey,
                     byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 在<a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a>输入完毕后，进行脱机密文PIN校验功能。先获取明文PIN，再用应用提供的RsaPinKey
 对明文PIN按照EMV规范进行加密，然后用应用提供的卡片命令与卡片通道号，将密文PIN直接发送给卡片 。PIN将被清空。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en">After <a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a> is entered, verify enciphered PIN offline is performed.</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#pinEndVerifyPlainPin-byte-byte-">pinEndVerifyPlainPin</a></span>(byte&nbsp;slot,
                    byte&nbsp;mode)</code>
<div class="block"><div class="zh">在<a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a>输入完毕后，进行脱机明文PIN校验功能。
 按照应用提供的卡片命令与卡片通道号，将明文PinBlock直接发送给卡片。PIN将被清空。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en">After <a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a> is entered, offline plaintext PIN validation is performed.</div>
</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/KeyInfo.html" title="class in com.pax.dal.entity">KeyInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#queryKeyInfo-byte-byte-">queryKeyInfo</a></span>(byte&nbsp;keyType,
            byte&nbsp;keyIndex)</code>
<div class="block"><div class="zh">查询密钥信息。
 <div class="en">Query key information.</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#readKeyInfo-byte-byte-byte-">readKeyInfo</a></span>(byte&nbsp;keyType,
           byte&nbsp;keyIndex,
           byte&nbsp;infoType)</code>
<div class="block"><div class="zh">读取客户定制TCUSTK密钥信息。
 <div class="en">Read customer customized TCUTK key information.</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#readPaxCA-byte-">readPaxCA</a></span>(byte&nbsp;index)</code>
<div class="block"><div class="zh">读取PAX CA证书。 <div class="en">Read the PAX CA certificate.</div>
</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#readRkiInfo-byte-">readRkiInfo</a></span>(byte&nbsp;item)</code>
<div class="block"><div class="zh">读取RKI信息。
 <div class="en">Read RKI information.</div>
</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity">RSAKeyInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#readRSAKey-byte-">readRSAKey</a></span>(byte&nbsp;rsaKeyIndex)</code>
<div class="block"><div class="zh"> 读取RSA公钥密钥 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en"> Read rsa public key.</div>
</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code><a href="../../../com/pax/dal/entity/RSARecoverInfo.html" title="class in com.pax.dal.entity">RSARecoverInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#RSARecover-byte-byte:A-">RSARecover</a></span>(byte&nbsp;rsaKeyIndex,
          byte[]&nbsp;dataIn)</code>
<div class="block"><div class="zh"> 用存储在PED的RSA密钥进行数据RSA数据运算。
 <br>注意: 1.该函数对dataIn进行RSA加解密运算，运算结果输出到RSARecoverInfo
 <br>2.当rsaKeyIndex指定的密钥为私钥时，如果dataIn是对应公钥的加密密文，则RSARecoverInfo为dataIn的明文，否则RSARecoverInfo为dataIn的RSA密文；
 <br>3.当rsaKeyIndex指定的密钥为公钥时，如果dataIn是对应私钥的加密密文，则RSARecoverInfo为dataIn的明文，否则RSARecoverInfo为dataIn的RSA密文；
 <br>4.该方法可实现长度不超过4096bits的RSA运算。
 <div class="en"> Using the RSA key stored in PED to do the RSA data operation.</div>
</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setAmount-java.lang.String-">setAmount</a></span>(java.lang.String&nbsp;amount)</code>
<div class="block"><div class="zh"> 输入Pin时设置总额。 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en"> Set amount Text when Input Pin.</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setDoubleTapKeyboardLanguage-byte-">setDoubleTapKeyboardLanguage</a></span>(byte&nbsp;language)</code>
<div class="block"><div class="zh">设置盲人输入法语音播报的语言。此接口需在<a href="../../../com/pax/dal/IPed.html#getPinBlock-byte-java.lang.String-byte:A-byte-int-"><code>getPinBlock(byte, String, byte[], byte, int)</code></a>之前设置才有效。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en">Set the language for the voice broadcast of the blind input method.</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setExMode-int-">setExMode</a></span>(int&nbsp;exMode)</code>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘，下载密钥，计算pinblock,计算mac,des加解密使用 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 <div class="en"> This interface only be used
 for external PIN pad Use for downloading main key and work key.</div>
</td>
</tr>
<tr id="i65" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setFunctionKey-byte-">setFunctionKey</a></span>(byte&nbsp;ucKey)</code>
<div class="block"><div class="zh"> 设定某些功能键的功能。PED 上电后,CLEAR 键的默认功能为,持卡人输入 PIN 时,按 CLEAR 键, 清除已输入的 PIN。可以通过该函数来设置 CLEAR 键的不同功能。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
  <div class="en">The function of setting some function keys.</div>
</td>
</tr>
<tr id="i66" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setFunctionKey-com.pax.dal.entity.EFuncKeyMode-">setFunctionKey</a></span>(<a href="../../../com/pax/dal/entity/EFuncKeyMode.html" title="enum in com.pax.dal.entity">EFuncKeyMode</a>&nbsp;mode)</code>
<div class="block"><div class="zh"> 设定某些功能键的功能。 PED上电后,CLEAR键的默认功能为,持卡人输入PIN时,按CLEAR键,清除已输入的PIN。 可以通过该函数来设置CLEAR键的不同功能。
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en"> Setting some functions of function key.</div>
</td>
</tr>
<tr id="i67" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setInputPinListener-com.pax.dal.IPed.IPedInputPinListener-">setInputPinListener</a></span>(<a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal">IPed.IPedInputPinListener</a>&nbsp;listener)</code>
<div class="block"><div class="zh"> 设置输入PIN监听器。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型 
 <div class="en"> Set the input PIN listener.</div>
</td>
</tr>
<tr id="i68" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setIntervalTime-int-int-">setIntervalTime</a></span>(int&nbsp;tpkIntervalTimeMs,
               int&nbsp;takIntervalTimeMs)</code>
<div class="block"><div class="zh"> 设置两次计算PINBlock或者计算MAC之间最小间隔时间
 PINBLOCK间隔时间的计算方式：默认为120秒那只能调用4次，即tpkIntervalTimeMs默认值为30秒，调用该函数重新设置后，限制为4*
 tpkIntervalTimeMs时间内只能调用4次。比如传入的tpkIntervalTimeMs为20000(ms)，则80秒内只能调用4次。
 MAC间隔时间的计算方式：限制为两次计算MAC的间隔时间必须大于等于TAKIntervalTimeMs；比如传入的TAKIntervalTimeMs为20000(ms)，则20秒内只能调用1次。
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en"> Set the minimum time interval of calculating the PINBlock or MAC twice.</div>
</td>
</tr>
<tr id="i69" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setKeyboard-byte-">setKeyboard</a></span>(byte&nbsp;type)</code>
<div class="block"><div class="zh">设置PED密码键盘类型。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en">Set the PED keyboard type.</div>
</td>
</tr>
<tr id="i70" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setKeyBoardLayout-boolean-java.util.LinkedHashMap-">setKeyBoardLayout</a></span>(boolean&nbsp;isOnce,
                 java.util.LinkedHashMap&lt;android.view.View,java.lang.String&gt;&nbsp;keyboardInputs)</code>
<div class="block"><div class="zh"> 设置定制的Pin输入键盘布局  ,调用此方法前，需保证传入的View已绘制完成，
  如Activity.onWindowFocusChanged(boolean hasFocus),hasFocus=true时，调用此方法。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en">Set the custom Pin input keyboard layout,This method is called before,
  need to ensure that the incoming View has been mapped, such as Activity.onWindowFocusChanged (Boolean hasFocus),
  when hasFocus equals true, this method is called.</div>
</td>
</tr>
<tr id="i71" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setKeyBoardLayout-boolean-java.lang.String-">setKeyBoardLayout</a></span>(boolean&nbsp;isOnce,
                 java.lang.String&nbsp;layoutInfo)</code>
<div class="block"><div class="zh"> 设置定制的Pin输入键盘布局 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Set the custom Pin input keyboard layout.</div>
</td>
</tr>
<tr id="i72" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setKeyboardLayoutLandscape-boolean-">setKeyboardLayoutLandscape</a></span>(boolean&nbsp;landscape)</code>
<div class="block"><div class="zh"> 设置密码键盘横向显示。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en">Set password keyboard horizontal display.</div>
</td>
</tr>
<tr id="i73" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setKeyboardRandom-boolean-">setKeyboardRandom</a></span>(boolean&nbsp;random)</code>
<div class="block"><div class="zh">设置键盘按键显示模式，固定序列或随机序列(默认)。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Set keyboard display mode, fixed sequence or
 random sequence (default).</div>
</td>
</tr>
<tr id="i74" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setKeyBoardType-int-">setKeyBoardType</a></span>(int&nbsp;type)</code>
<div class="block"><div class="zh"> 设置PIN输入的密码键盘类型。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div class="en"> set keyboard type.</div>
</td>
</tr>
<tr id="i75" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setOfflinePinMode-byte-byte-byte:A-">setOfflinePinMode</a></span>(byte&nbsp;mode,
                 byte&nbsp;tpkIndex,
                 byte[]&nbsp;pinBlock)</code>
<div class="block"><div class="zh">设置脱机PIN模式，并为外部PINPAD提供一些参数。
 <div class="en">Set offline PIN mode and provide some parameters for external PINPAD.</div>
</td>
</tr>
<tr id="i76" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setPinMute-boolean-">setPinMute</a></span>(boolean&nbsp;mute)</code>
<div class="block"><div class="zh">设置输PIN时是否静音。
 <div class="en">Set whether to mute the PIN input.</div>
</td>
</tr>
<tr id="i77" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setPinVolume-int-">setPinVolume</a></span>(int&nbsp;volume)</code>
<div class="block"><div class="zh">设置键盘按键音量值。 <div class="en">Set keyboard key volume value.</div>
</td>
</tr>
<tr id="i78" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#setPort-com.pax.dal.entity.EUartPort-">setPort</a></span>(<a href="../../../com/pax/dal/entity/EUartPort.html" title="enum in com.pax.dal.entity">EUartPort</a>&nbsp;port)</code>
<div class="block"><div class="zh"> 设置外置PED的连接端口。支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> 类型。
 <div class="en"> Set connection port of the external PED.</div>
</td>
</tr>
<tr id="i79" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#showInputBox-boolean-java.lang.String-">showInputBox</a></span>(boolean&nbsp;flag,
            java.lang.String&nbsp;title)</code>
<div class="block"><div class="zh"> 设置输入框密码的显隐 （*） 和提示信息。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div class="en"> Show Password * at Keyboard Page when input Pin and
 Set reminder text when input Pin.</div>
</td>
</tr>
<tr id="i80" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#showStr-byte-byte-java.lang.String-">showStr</a></span>(byte&nbsp;x,
       byte&nbsp;y,
       java.lang.String&nbsp;str)</code>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘 显示英文字符。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。  <div class="en"> This interface only be used for external PIN pad
 show English character.</div>
</td>
</tr>
<tr id="i81" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#SM2Recover-byte-byte:A-com.pax.dal.entity.ECryptOperate-">SM2Recover</a></span>(byte&nbsp;keyIdx,
          byte[]&nbsp;input,
          <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity">ECryptOperate</a>&nbsp;operation)</code>
<div class="block"><div class="zh"> 使用 SM2 公钥加密数据或私钥解密数据 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 <div class="en"> Use SM2 public key to encrypt data, or SM2 private
 key to decrypt data.</div>
</td>
</tr>
<tr id="i82" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#SM2Sign-byte-byte-byte:A-byte:A-">SM2Sign</a></span>(byte&nbsp;pubKeyIdx,
       byte&nbsp;pvtKeyIdx,
       byte[]&nbsp;uid,
       byte[]&nbsp;input)</code>
<div class="block"><div class="zh"> 使用 SM2 算法获得签名信息 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。
 <div class="en"> Use SM2 algorithm to calculate the signature data.</div>
</td>
</tr>
<tr id="i83" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#SM2Verify-byte-byte:A-byte:A-byte:A-">SM2Verify</a></span>(byte&nbsp;pubKeyIdx,
         byte[]&nbsp;uid,
         byte[]&nbsp;input,
         byte[]&nbsp;signature)</code>
<div class="block"><div class="zh"> 使用 SM2 公钥验证签名。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> Use SM2 algorithm to verify the signature data.</div>
</td>
</tr>
<tr id="i84" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#SM3-byte:A-byte-">SM3</a></span>(byte[]&nbsp;input,
   byte&nbsp;mode)</code>
<div class="block"><div class="zh"> 使用 SM3 算法计算哈希值。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> Use SM3 algorithm to calculate Hash.</div>
</td>
</tr>
<tr id="i85" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#SM4-byte-byte:A-byte:A-com.pax.dal.entity.ECryptOperate-com.pax.dal.entity.ECryptOpt-">SM4</a></span>(byte&nbsp;keyIdx,
   byte[]&nbsp;initVector,
   byte[]&nbsp;input,
   <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity">ECryptOperate</a>&nbsp;operation,
   <a href="../../../com/pax/dal/entity/ECryptOpt.html" title="enum in com.pax.dal.entity">ECryptOpt</a>&nbsp;option)</code>
<div class="block"><div class="zh"> 使用 SM4 算法加密或解密数据 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。
 <div class="en"> Use SM4 algorithm to encrypt or decrypt.</div>
</td>
</tr>
<tr id="i86" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#verifyCipherPin-byte-java.lang.String-com.pax.dal.entity.RSAPinKey-byte-int-">verifyCipherPin</a></span>(byte&nbsp;slot,
               java.lang.String&nbsp;expPinLen,
               <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity">RSAPinKey</a>&nbsp;rsaPinKey,
               byte&nbsp;mode,
               int&nbsp;timeout)</code>
<div class="block"><div class="zh"> 实现脱机密文PIN校验功能。先获取明文PIN，再用应用提供的RsaPinKey对明文PIN按照EMV规范进行加密，然后用应用
 提供的卡片命令与卡片通道号，将密文PIN直接发送给卡片 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en"> Verify enciphered PIN offline.</div>
</td>
</tr>
<tr id="i87" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#verifyCipherPin-byte-java.lang.String-com.pax.dal.entity.RSAPinKey-byte-int-int-">verifyCipherPin</a></span>(byte&nbsp;slot,
               java.lang.String&nbsp;expPinLen,
               <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity">RSAPinKey</a>&nbsp;rsaPinKey,
               byte&nbsp;mode,
               int&nbsp;timeoutMs,
               int&nbsp;controlTime)</code>
<div class="block"><div class="zh"> 实现脱机密文PIN校验功能。先获取明文PIN，再用应用提供的RsaPinKey对明文PIN按照EMV规范进行加密，然后用应用提供的卡片命令与卡片通道号，将密文PIN直接发送给卡片 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en"> Verify enciphered PIN offline.</div>
</td>
</tr>
<tr id="i88" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#verifyPlainPin-byte-java.lang.String-byte-int-">verifyPlainPin</a></span>(byte&nbsp;slot,
              java.lang.String&nbsp;expPinLen,
              byte&nbsp;mode,
              int&nbsp;timeoutMs)</code>
<div class="block"><div class="zh"> 实现脱机明文PIN校验功能。获取明文PIN，然后按照应用提供的卡片命令与卡片通道号，将明文PIN BLOCK直接发送给卡片(PIN BLOCK格式在用法部分描述)。
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 
 <div class="en"> Achieve the function of verifying plaintext offline PIN.</div>
</td>
</tr>
<tr id="i89" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#verifyPlainPin-byte-java.lang.String-byte-int-int-">verifyPlainPin</a></span>(byte&nbsp;slot,
              java.lang.String&nbsp;expPinLen,
              byte&nbsp;mode,
              int&nbsp;timeoutMs,
              int&nbsp;controlTime)</code>
<div class="block"><div class="zh"> 实现脱机明文PIN校验功能。获取明文PIN，然后按照应用提供的卡片命令与卡片通道号，将明文PIN BLOCK直接发送给卡片(PIN BLOCK格式在用法部分描述)。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div
 class="en"> Achieve the function of verifying plaintext offline PIN.</div>
</td>
</tr>
<tr id="i90" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeAesDUKPTTIK-byte-byte-byte:A-byte:A-byte-byte:A-">writeAesDUKPTTIK</a></span>(byte&nbsp;groupIndex,
                byte&nbsp;srcKeyIndex,
                byte[]&nbsp;keyValue,
                byte[]&nbsp;ksn,
                byte&nbsp;checkMode,
                byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh">写入 AES DUKPT 初始密钥 AESTIK，并可以选择使用 KCV 验证密钥正确性。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Write the AES DUKPT initial key AESTIK, and you can choose to use KCV to verify the correctness of the key.</div>
</td>
</tr>
<tr id="i91" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeAesKey-byte-byte-byte-byte-byte:A-com.pax.dal.entity.EAesCheckMode-byte:A-">writeAesKey</a></span>(byte&nbsp;srcKeyType,
           byte&nbsp;srcKeyIndex,
           byte&nbsp;destKeyType,
           byte&nbsp;destKeyIndex,
           byte[]&nbsp;destKeyValue,
           <a href="../../../com/pax/dal/entity/EAesCheckMode.html" title="enum in com.pax.dal.entity">EAesCheckMode</a>&nbsp;checkMode,
           byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh">写入一个AES密钥，并可以选择使用KCV验证密钥正确性。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div class="en"> To write Aes key to PED, and use KCV to check the
 key correction.</div>
</td>
</tr>
<tr id="i92" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeAesKey-com.pax.dal.entity.EPedKeyType-byte-byte-byte:A-com.pax.dal.entity.EAesCheckMode-byte:A-">writeAesKey</a></span>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
           byte&nbsp;srcKeyIndex,
           byte&nbsp;destkeyIndex,
           byte[]&nbsp;destKeyValue,
           <a href="../../../com/pax/dal/entity/EAesCheckMode.html" title="enum in com.pax.dal.entity">EAesCheckMode</a>&nbsp;checkMode,
           byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh">写入一个AES密钥，并可以选择使用KCV验证密钥正确性。仅支持TAESK。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。  <div class="en"> To write Aes key to PED, and use KCV to check the
 key correction.only allow TAESK.</div>
</td>
</tr>
<tr id="i93" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeCipherKey-byte-byte-byte:A-byte:A-byte-">writeCipherKey</a></span>(byte&nbsp;srcKeyType,
              byte&nbsp;srcKeyIndex,
              byte[]&nbsp;keyInfo,
              byte[]&nbsp;keyBlock,
              byte&nbsp;mode)</code>
<div class="block"><div class="zh">写入由源密钥加密的特殊要求的密码密钥。
 <div class="en">Write a specially required cryptographic key encrypted by the source key.</div>
</td>
</tr>
<tr id="i94" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">writeKey</a></span>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
        byte&nbsp;srcKeyIndex,
        <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;destKeyType,
        byte&nbsp;destkeyIndex,
        byte[]&nbsp;destKeyValue,
        <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
        byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh"> 写入一个密钥，包括TLK，TMK和TWK的写入、发散，并可以选择使用KCV验证密钥正确性。</div>
</td>
</tr>
<tr id="i95" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeKeyEx-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-byte:A-byte-">writeKeyEx</a></span>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
          byte&nbsp;srcKeyIndex,
          <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;destKeyType,
          byte&nbsp;destkeyIndex,
          byte[]&nbsp;destKeyValue,
          <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
          byte[]&nbsp;checkBuf,
          byte[]&nbsp;keyVarIn,
          byte&nbsp;keyVarMode)</code>
<div class="block"><div class="zh"> 写入一个密钥，包括TLK，TMK和TWK的写入、发散，并可以选择使用KCV验证密钥正确性。Pax Tech Iberia SL客户定制。</div>
</td>
</tr>
<tr id="i96" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeKeyVar-com.pax.dal.entity.EPedKeyType-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">writeKeyVar</a></span>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;type,
           byte&nbsp;srcKeyIndex,
           byte&nbsp;destKeyIndex,
           byte[]&nbsp;xorData,
           <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
           byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh"> 使用指定密钥类型的密钥索引所在的密钥明文与一串数据进行异或，得到密钥写入到同一类型密钥区的指定索引位置 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 <div class="en"> Use the plaintext key specified by the source key index and the key type to do exclusive-or with the input data, and write the
 result to the location specified by the destination key index with the same key type.</div>
</td>
</tr>
<tr id="i97" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeRSAKey-byte-com.pax.dal.entity.RSAKeyInfo-">writeRSAKey</a></span>(byte&nbsp;rsaKeyIndex,
           <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity">RSAKeyInfo</a>&nbsp;info)</code>
<div class="block"><div class="zh"> 1.注入RSA密钥到PED <br/>
 2.PED最多支持10组RSA密钥,目前最长只支持256字节长的RSA密钥。 <br/>
 3.存储的RSA密钥是公钥还是私钥由密钥的指数长度决定,当密钥指数和模等长时,是私钥。 <br/>
 4.PED通过PedWriteRsaKey注入RSA密钥。 <br/>
 5.通过PedRSARecover使用已注入的密钥进行RSA运算。 <br/>
 6.任何时候,RSA密钥可以进行重写。 <br/>
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
  <div class="en"></div>
</td>
</tr>
<tr id="i98" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeSaltKey-byte:A-">writeSaltKey</a></span>(byte[]&nbsp;salt)</code>
<div class="block"><div class="zh">写入salt密钥。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Write salt key.</div>
</td>
</tr>
<tr id="i99" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeSaltKey-byte:A-int-">writeSaltKey</a></span>(byte[]&nbsp;salt,
            int&nbsp;index)</code>
<div class="block"><div class="zh">将salt写入指定索引位置。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Write salt to the specified index.</div>
</td>
</tr>
<tr id="i100" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeSM2CipherKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-">writeSM2CipherKey</a></span>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
                 byte&nbsp;srcKeyIdx,
                 <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;dstKeyType,
                 byte&nbsp;dstKeyIdx,
                 byte[]&nbsp;keyValue)</code>
<div class="block"><div class="zh"> 注入 SM2 密钥 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en"> To write SM2 cipher key to PED.</div>
</td>
</tr>
<tr id="i101" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeSM2Key-byte-com.pax.dal.entity.EPedKeyType-byte:A-">writeSM2Key</a></span>(byte&nbsp;keyIdx,
           <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;keyType,
           byte[]&nbsp;keyValue)</code>
<div class="block"><div class="zh"> 往PED中写入SM2密钥。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> To write SM2 key to PED.</div>
</td>
</tr>
<tr id="i102" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeStackUKPTKey-byte-byte:A-byte:A-byte-byte-">writeStackUKPTKey</a></span>(byte&nbsp;groupIdx,
                 byte[]&nbsp;tscIdentifier,
                 byte[]&nbsp;tscSeedKey,
                 byte&nbsp;tscSeedKeyDepth,
                 byte&nbsp;mode)</code>
<div class="block"><div class="zh">写入Stack UKPT Key。
 <div class="en">Write Stack UKPT Key.</div>
</td>
</tr>
<tr id="i103" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeTIK-byte-byte-byte:A-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">writeTIK</a></span>(byte&nbsp;groupIndex,
        byte&nbsp;srcKeyIndex,
        byte[]&nbsp;keyValue,
        byte[]&nbsp;ksn,
        <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
        byte[]&nbsp;checkBuf)</code>
<div class="block"><div class="zh"> 写入TIK，并可以选择使用KCV验证密钥正确性。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 
 <div class="en"> Write in TIK, and can check the key correction by using KCV.</div>
</td>
</tr>
<tr id="i104" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeTIK-byte-byte-byte-byte:A-">writeTIK</a></span>(byte&nbsp;kbpkType,
        byte&nbsp;kbpkIndex,
        byte&nbsp;groupIndex,
        byte[]&nbsp;TR31keyBlock)</code>
<div class="block"><div class="zh">注入TIK。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 <div class="en">Injection of TIK.</div>
</td>
</tr>
<tr id="i105" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/pax/dal/IPed.html#writeTR31Key-byte-byte-byte-byte:A-">writeTR31Key</a></span>(byte&nbsp;srcKeyType,
            byte&nbsp;srcKeyIndex,
            byte&nbsp;dstKeyIndex,
            byte[]&nbsp;TR31KeyBlock)</code>
<div class="block"><div class="zh">写入TR31格式的密钥到PED。包括TMK、TWK、TIK、AES_TMK、AES_TWK和AES_TIK。<div class="en">To write keys in TR31 format into PED, including TMK,TWK,TIK,AES_TMK,AES_TWK and AES_TIK.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setInputPinListener-com.pax.dal.IPed.IPedInputPinListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInputPinListener</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.62">setInputPinListener</a>(<a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal">IPed.IPedInputPinListener</a>&nbsp;listener)</pre>
<div class="block"><div class="zh"> 设置输入PIN监听器。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型 </div>
 <div class="en"> Set the input PIN listener. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - <a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal"><code>IPed.IPedInputPinListener</code></a></dd>
</dl>
</li>
</ul>
<a name="writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.257">writeKey</a>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
              byte&nbsp;srcKeyIndex,
              <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;destKeyType,
              byte&nbsp;destkeyIndex,
              byte[]&nbsp;destKeyValue,
              <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
              byte[]&nbsp;checkBuf)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 写入一个密钥，包括TLK，TMK和TWK的写入、发散，并可以选择使用KCV验证密钥正确性。
 <p>
 当写入PED_TLK时，PED首先格式化，清除所有已经下载的密钥，再写入PED_TLK。 当明文写入密钥时，srcKeyIndex=0。
 对于<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>需要调用<a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode。TMK和TDK只能以明文方式写入。TPK、TAK可以以明文或者密文的方式写入，但写入密文时不校验。
 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。
 </p>
 </div>
 <div class="en"> Write in one key includes write in and divergent of TLK, TMK and TWK. And use KCV to check the
 key correction.
 <p>
 When write PED_TLK,PED will format ,clear all the key has been downloaded,then write in PED_TLK.
 When srckeyindex = 0, the plaintext key is written. For <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>, you need to call <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a> to setExMode.
 TMK and TDK can only be written in plaintext. TPK and TAK can be written in plaintext or ciphertext, but the ciphertext is not checked.
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.
 </p>
 </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> <div class="zh">
            <p>
            原密钥类型
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a></li>
            </ul>
            </div> <div class="en">
            <p>
            Source Key Type
            </p>
            <ul>
            <li>TLK - Terminal Loading Key</li>
            <li>TMK - Terminal Master Key</li>
            <li>TPK -Transaction PIN Key</li>
            <li>TAK -Transaction Mac Key</li>
            <li>TDK -Terminal Des Key</li>
            </ul>
            </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">
            <p>
            原密钥索引
            </p>
            <ul>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>时, srcKeyIndex=1有效</li>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>/
            <a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/ <a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a>时, srcKeyIndex=[1~100]有效</li>
            </ul>
            </div> <div class="en">
            <p>
            Source Key Index
            </p>
            <ul>
            <li>when srcKeyType=TLK, srcKeyIndex=1</li>
            <li>when srcKeyType=TMK/SM4_TMK/TPK/TAK/TDK, srcKeyIndex=[1~100]</li>
            </ul>
            </div></dd>
<dd><code>destKeyType</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> <div class="zh">
            <p>
            目的密钥类型
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a></li>
              <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a></li>
              <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TPK"><code>EPedKeyType.SM4_TPK</code></a></li>
              <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TAK"><code>EPedKeyType.SM4_TAK</code></a></li>
              <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TDK"><code>EPedKeyType.SM4_TDK</code></a></li>
              <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#PPAD_TPK"><code>EPedKeyType.PPAD_TPK</code></a>，仅支持明文写入。</li>
            </ul>
            </div> <div class="en">
            <p>
            Destination Key Type
            </p>
              <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a></li>
              <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a></li>
              <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TPK"><code>EPedKeyType.SM4_TPK</code></a></li>
              <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TAK"><code>EPedKeyType.SM4_TAK</code></a></li>
              <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TDK"><code>EPedKeyType.SM4_TDK</code></a></li>
              <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#PPAD_TPK"><code>EPedKeyType.PPAD_TPK</code></a>, Only supports plain text writing.</li>
            </div></dd>
<dd><code>destkeyIndex</code> - <div class="zh">
            <p>
            目的密钥索引
            </p>
            <ul>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>时, destkeyIndex=1有效</li>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>/
            <a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TPK"><code>EPedKeyType.SM4_TPK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TAK"><code>EPedKeyType.SM4_TAK</code></a>/
            <a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TDK"><code>EPedKeyType.SM4_TDK</code></a>时, destkeyIndex=[1~100]有效</li>
            </ul>
            </div> <div class="en">
            <p>
            Destination Key Index
            </p>
            reference srcKeyIndex <a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> </div></dd>
<dd><code>destKeyValue</code> - <div class="zh">
            <p>
            密钥明文或密文
            </p>
            </div> <div class="en">
            <p>
            Cryptograph or Plaintext
            </p>
            </div></dd>
<dd><code>checkMode</code> - <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity"><code>ECheckMode</code></a> <div class="zh">
            <p>
            校验模式
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_SM4_ENCRYPT_0"><code>ECheckMode.KCV_SM4_ENCRYPT_0</code></a></li>
            </ul>
            </div> <div class="en">
            <p>
            Check Mode
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -No Check</li>
            <li>When checkMode=KCV_ENCRYPT_0 -Perform DES/TDES encryption on 8 bytes 0x00, and use first 4 bytes
            as KCV.</li>

            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -Perform parity check first, then perform DES/TDES encryption
            on 8 bytes―\x12\x34\x56\x78\x90\x12\x34\x56, and use first 4 bytes as KCV.</li>

            <li>When iCheckMode=KCV_MAC_INPUT_DATA -Send in data KcvData, use source key to perform specified mode
            of MAC on [aucDesKeyValue +KcvData], and use the 8 bytes result as KCV.</li>

            <li>When iCheckMode=KCV_SM4_ENCRYPT_0 -Perform TDES encryption on 16 bytes 0x00 by SM4, and use first
            4 bytes as KCV.</li> </ul> </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
            <p>
            校验数据缓冲区
            </p>
            <ul>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a>时 checkBuf的值无效,系统认为不验证KCV,可以为null</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a>,4字节的kcv</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a>,4字节的kcv</li>
            <li>当iCheckMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a>时按以下规则提供checkBuf:
            <p>
            checkBuf[0]= KcvData长度(KcvDataLen)
            </p>
            <p>
            checkBuf+1: KcvData
            </p>
            <p>
            checkBuf[1+KcvDataLen]=MAC运算模式,参考<a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-"><code>getMac(byte, byte[], EPedMacMode)</code></a>中的mode参数
            </p>
            <p>
            checkBuf[2+KcvDataLen]=KCV长度
            </p>
            <p>
            checkBuf[3+KcvDataLen]是KCV的值
            </p>
            </li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_SM4_ENCRYPT_0"><code>ECheckMode.KCV_SM4_ENCRYPT_0</code></a>,4字节的kcv</li>
            </ul>
            </div> <div class="en">
            <p>
            Check Data Buffer
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -PED wont check KCV, this data is no meaning.</li>
            <li>When checkMode=KCV_ENCRYPT_0 -4 bytes key check value</li>
            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -4 bytes key check value</li>
            <li>When iCheckMode=KCV_MAC_INPUT_DATA - checkBuf as follows: checkBuf[0] = length of KcvData
            checkBuf+1: kcvData checkBuf[1+kcvDataLen]: MAC computation mode
            <a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-"><code>getMac(byte, byte[], EPedMacMode)</code></a> checkBuf[2+kcvDataLen]:KCV length
            checkBuf[3+kcvDataLen]:KCV Value</li>
            <li>When checkMode=KCV_SM4_ENCRYPT_0 -4 bytes key check value</li>
            </ul>
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeTIK-byte-byte-byte:A-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeTIK</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.287">writeTIK</a>(byte&nbsp;groupIndex,
              byte&nbsp;srcKeyIndex,
              byte[]&nbsp;keyValue,
              byte[]&nbsp;ksn,
              <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
              byte[]&nbsp;checkBuf)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 写入TIK，并可以选择使用KCV验证密钥正确性。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div>
 <div class="en"> Write in TIK, and can check the key correction by using KCV. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100]DUKPT key group id </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh"> [0~1] 保护密钥的密钥索引。0表示明文写入。 </div> <div class="en"> [0~1] The index of the key protecting the key. 0 means writing in plaintext.
            </div></dd>
<dd><code>keyValue</code> - <div class="zh"> TIK的明文或者密文。srcKeyIdx为0时表示明文写入。DUKPT算法支持8/16字节长度的密钥。</div>
            <div class="en"> The plaintext or ciphertext of TIK. When srcKeyIdx is 0, it means writing plain text. The DUKPT algorithm supports keys with a length of 8/16 bytes. </div></dd>
<dd><code>ksn</code> - <div class="zh"> 指向初始化KSN </div> <div class="en"> Point to KSN initialization. </div></dd>
<dd><code>checkMode</code> - <div class="zh"> <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity"><code>ECheckMode</code></a> </div> <div class="en"> reference <a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> checkMode
            </div></dd>
<dd><code>checkBuf</code> - <div class="zh"> 参考<a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a>关于checkBuf说明 </div> <div class="en"> reference
            <a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> the information about checkBuf </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getPinBlock-byte-java.lang.String-byte:A-com.pax.dal.entity.EPinBlockMode-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinBlock</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.362">getPinBlock</a>(byte&nbsp;keyIndex,
                   java.lang.String&nbsp;expPinLen,
                   byte[]&nbsp;dataIn,
                   <a href="../../../com/pax/dal/entity/EPinBlockMode.html" title="enum in com.pax.dal.entity">EPinBlockMode</a>&nbsp;mode,
                   int&nbsp;timeoutMs)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div>
 <div class="en"> Scan the keyboard PIN entry and output the PIN BLOCK encrypted data block in a specific time.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TPK的索引 </div> <div class="en"> [1~100] TPK index </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> <p>当IPed为<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>:0~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。
            若枚举0长度则示意可以不输任何数字而直接按确认键返回。</p> <p>当IPed为<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>:PIN长度在expPinLen中的最小值和最大值区间。如果mode = EPinBlockMode.ISO9564_0时,当最小长度不为0时,允许按"确认"退出 。</p> </div>
            <div class="en"><p>When IPed is <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>:Enumeration of 0-12.The enter password string with legal length. Application enumerates of all possible lengths of PIN. ","will be used to separate each
            number of length. If no PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6". 0 means that no PIN is required, and pressing "Enter" will return.<p>
            <p>When IPed is <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>:The PIN length is between the minimum and maximum values in expPinLen. If mode = EPinBlockMode.ISO9564_0, press "ok" to exit when the minimum length is not 0.</p> </div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>当mode=<a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_0"><code>EPinBlockMode.ISO9564_0</code></a>时, DataIn指向卡号移位后生成的16位主帐号。</li>
            <li>当mode=<a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_1"><code>EPinBlockMode.ISO9564_1</code></a>时, DataIn被忽略.接口内部采用随机数填充PINBlock。</li>
            <li>当mode=<a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_3"><code>EPinBlockMode.ISO9564_3</code></a>时, DataIn指向位移后的16位PAN。</li>
            <li>当mode=<a href="../../../com/pax/dal/entity/EPinBlockMode.html#HKEPS"><code>EPinBlockMode.HKEPS</code></a>时, 为交易流水号ISN [6 Bytes,ASCII码]</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When mode=ISO9564_0, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=ISO9564_1, DataIn is ignored. The interface uses random numbers to fill PINBlock internally.</li>
            <li>When mode=ISO9564_3, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=HKEPS, dataIn is ISN [6 Bytes, ASCII code]</li>
            </ul>
            </div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EPinBlockMode.html" title="enum in com.pax.dal.entity"><code>EPinBlockMode</code></a> <div class="zh"> PIN BLOCK的格式
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_0"><code>EPinBlockMode.ISO9564_0</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_1"><code>EPinBlockMode.ISO9564_1</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPinBlockMode.html#ISO9564_3"><code>EPinBlockMode.ISO9564_3</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPinBlockMode.html#HKEPS"><code>EPinBlockMode.HKEPS</code></a></li>
            </ul>
            </div> <div class="en"> PIN BLOCK Format
            <ul>
            <li>ISO9564_0</li>
            <li>ISO9564_1</li>
            <li>ISO9564_3</li>
            <li>HKEPS -EPS PINBLOCK Format</li>
            </ul>
            </div></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            <p>
            0:表示没有超时时间，PED不做超时控制
            </p>
            </div> <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            <p>
            0: No timeout time, not doing timeout control for PED.
            </p>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回pinBlock，如果bypass 返回NULL </div> <div class="en"> Return pinBlock byte array, if
         bypass,return NULL. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMac</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.413">getMac</a>(byte&nbsp;keyIndex,
              byte[]&nbsp;dataIn,
              <a href="../../../com/pax/dal/entity/EPedMacMode.html" title="enum in com.pax.dal.entity">EPedMacMode</a>&nbsp;mode)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 用KeyIdx指定的MAC密钥对DataIn进行mode指定的算法进行MAC运算，将8字节的MAC结果返回 外置A类PED需要除了设置PinBlockMode外还需要调用setExMode
 <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode exMode默认为-1,表示TAK长度为16字节,如果TAK长度为16字节则可以使用该默认值 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div>
 <div class="en"> To use KeyIdx MAC key calculate the DataIn following the specified Mode algorithm, return the 8 bytes MAC result.
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TAK的索引 </div> <div class="en"> [1~100] TAK index </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 长度<=1024 MAC运算的数据包的长度[输入],长度 不为8字节整除,则自动补"\x00" </div> <div class="en"> The data
            length less than or equal to 1024 bytes If the length not multiple by 8, 0x00 will be padding
            automatically. </div></dd>
<dd><code>mode</code> - <div class="zh">
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedMacMode.html#MODE_00"><code>EPedMacMode.MODE_00</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedMacMode.html#MODE_01"><code>EPedMacMode.MODE_01</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedMacMode.html#MODE_02"><code>EPedMacMode.MODE_02</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedMacMode.html#MODE_03"><code>EPedMacMode.MODE_03</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedMacMode.html#MODE_05"><code>EPedMacMode.MODE_05</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedMacMode.html#MODE_06"><code>EPedMacMode.MODE_06</code></a></li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>MODE_00 -Doing DES/TDES encryption for BLOCK1 by usingMAC key. Doing DES/TDES encryption again by
            using TAK when and after bitwise XOR the previous encryption result with BLOCK2. Processing in turn to
            get the 8 bytes encryption result.</li>
            <li>MODE_01 -Doing bitwise XOR for BLOCK1 and BLOCK2; Do bitwise XOR again by using previous XOR
            result with BLOCK3. Do it in turn and finally get the 8 bytes XOR result. Using TAK to process
            DES/TDES encryption for the result</li>
            <li>MODE_02 -ANSIX9.19 standard, Do DES encryption for BLOCK1 by using TAK (only take the first 8
            bytes of key). The encryption result wills bitwise XOR with BLOCK2,and then doing DES encryption by
            using TAK again. Do it in turn and get the 8 bytes encryption result. Using DES/TDES to encrypt in the
            last time.</li>
            <li>MODE_03 -CMAC algorithm. KSN does not automatically increase by 1.</li>
            <li>MODE_05 -HMAC-SHA256 algorithm. KSN does not automatically increase by 1. Other values retain the extended MAC algorithm.</li>
            <li>MODE_06 -APACS70OWF MAC calculation of mac key.</li>
            </ul>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回MAC结果。当mode等于HMAC-SHA256算法是，输出长度为32字节。其他为8字节。</div>
 <div class="en"> return the MAC data。When the mode is equal to the HMAC-SHA256 algorithm, the output length is 32 bytes. Others are 8 bytes.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="calcDes-byte-byte:A-com.pax.dal.entity.EPedDesMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcDes</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.436">calcDes</a>(byte&nbsp;keyIndex,
               byte[]&nbsp;datain,
               <a href="../../../com/pax/dal/entity/EPedDesMode.html" title="enum in com.pax.dal.entity">EPedDesMode</a>&nbsp;mode)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用TDK对DataInLen长度的数据进行DES/TDES运算，使用DES或TDES根据密钥的长度而定。
 外置A类PED需要调用setExMode <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode exMode默认为-1,表示TDK长度为16字节,如果TDK长度为16字节则可以使用该默认值。
 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div>
 <div class="en"> To use TDK encrypt or decrypt data by DES/TDES. Using DES or TDES depends on the key length.
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TDK或者TXK的索引 。</div> <div class="en"> [1~100] TDK or TXK index.</div></dd>
<dd><code>datain</code> - <div class="zh"> 待运算的数据,数据长度 <=8k字节, 必须能被8字节整除 </div> <div class="en"> the data to be calculated.The
            data length <=8k bytes, must be divisible by 8 bytes </div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EPedDesMode.html" title="enum in com.pax.dal.entity"><code>EPedDesMode</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 运算后的数据 。</div> <div class="en"> The data which have been calculated. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="calcDes-byte-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcDes</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.486">calcDes</a>(byte&nbsp;keyIndex,
               byte[]&nbsp;initvector,
               byte[]&nbsp;dataIn,
               byte&nbsp;mode)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用TDK对DataInLen长度的数据进行DES/TDES运算，使用DES或TDES根据密钥的长度而定。
 外置A类PED需要调用setExMode <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>设置exMode exMode默认为-1,表示TDK长度为16字节,如果TDK长度为16字节则可以使用该默认值 。
 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div>
 <div class="en"> To use TDK encrypt or decrypt data by DES/TDES. Using DES or TDES depends on the key length.
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TDK的索引 </div> <div class="en"> [1~100] TDK index </div></dd>
<dd><code>initvector</code> - <div class="zh">使用CBC 模式进行加解密运算时需要用到，若InitVector为NULL，则默认为8字节的全0x00。 使用ECB加解密时不需要，可以为NULL。 </div> <div
            class="en"> ECB mode: init vector is null .CBC mode: init vector, 8 bytes. </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 待运算的数据,数据长度除ECB模式和CBC最大支持8k字节,其他模式最大支持2048字节。 必须能被8字节整除 </div> <div class="en"> the data to be calculated.
            The data length except the ECB and CBC mode supports a maximum of 8k bytes, and the other modes support a maximum of 2048 bytes. must be divisible by 8 bytes </div></dd>
<dd><code>mode</code> - <div class="zh">
            <ul>
            <li>0: ECB模式解密</li>
            <li>1: ECB模式加密</li>
            <li>2: CBC模式解密</li>
            <li>3: CBC模式加密</li>
            <li>4: OFB模式解密</li>
            <li>5: OFB模式加密</li>
            <li>6: CFB8模式解密</li>
            <li>7: CFB8模式加密</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>0: DECRYPT#ECB</li>
            <li>1: ENCRYPT#ECB</li>
            <li>2: DECRYPT#CBC</li>
            <li>3: ENCRYPT#CBC</li>
            <li>4: DECRYPT#OFB</li>
            <li>5: ENCRYPT#OFB</li>
            <li>6: DECRYPT#CFB8</li>
            <li>7: ENCRYPT#CFB8</li>
            </ul>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回运算后的数据 </div> <div class="en"> the data after calculation. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.04.00</dd>
</dl>
</li>
</ul>
<a name="getDUKPTPin-byte-java.lang.String-byte:A-com.pax.dal.entity.EDUKPTPinMode-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDUKPTPin</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.549">getDUKPTPin</a>(byte&nbsp;groupIndex,
                        java.lang.String&nbsp;expPinLen,
                        byte[]&nbsp;dataIn,
                        <a href="../../../com/pax/dal/entity/EDUKPTPinMode.html" title="enum in com.pax.dal.entity">EDUKPTPinMode</a>&nbsp;mode,
                        int&nbsp;timeoutMs)
                 throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 在PED上输入PIN，并使DUKPT的PIN密钥计算PINBlock。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div>
 <div class="en"> PINBlock Input the PIN on PED,and use the PINkey of DUKPT to calculate the PINBlock.
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100] DUKPT key group id </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。
            若枚举0长度则示意可以不输任何数字而直接按确认键返回。但对于外置C类密键，最小输入长度为4 </div> <div class="en"> Enumeration of 0-12.The enter password string with
            legal length. Application enumerates of all possible lengths of PIN. ","will be used to separate each
            number of length. If no PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6". 0
            means that no PIN is required, and pressing "Enter" will return. For type-c, the legal Enumeration is 4-12</div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>当mode=<a href="../../../com/pax/dal/entity/EDUKPTPinMode.html#ISO9564_0_INC"><code>EDUKPTPinMode.ISO9564_0_INC</code></a>时, DataIn指向卡号移位后生成的16位主帐号。</li>
            <li>当mode=<a href="../../../com/pax/dal/entity/EDUKPTPinMode.html#ISO9564_1_INC"><code>EDUKPTPinMode.ISO9564_1_INC</code></a>/<a href="../../../com/pax/dal/entity/EDUKPTPinMode.html#ISO9564_1"><code>EDUKPTPinMode.ISO9564_1</code></a>时,
             DataIn被忽略,接口内部采用随机数填充PINBlock。</li>
            <li>当mode=<a href="../../../com/pax/dal/entity/EDUKPTPinMode.html#ISO9564_2_INC"><code>EDUKPTPinMode.ISO9564_2_INC</code></a>/<a href="../../../com/pax/dal/entity/EDUKPTPinMode.html#ISO9564_2"><code>EDUKPTPinMode.ISO9564_2</code></a>时,
             DataIn指向位移后的16位PAN</li>
            <li>当mode=<a href="../../../com/pax/dal/entity/EDUKPTPinMode.html#HKEPS_INC"><code>EDUKPTPinMode.HKEPS_INC</code></a>时, 为交易流水号ISN [6 Bytes,ASCII码]</li>
            <li>对于type-c密码键盘,dataIn指向卡号移位后生成的16位主帐号</li>

            </ul>
            </div> <div class="en">
            <ul>
            <li>When mode=<a href="../../../com/pax/dal/entity/EDUKPTPinMode.html#ISO9564_0_INC"><code>EDUKPTPinMode.ISO9564_0_INC</code></a>, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=<a href="../../../com/pax/dal/entity/EDUKPTPinMode.html#ISO9564_1_INC"><code>EDUKPTPinMode.ISO9564_1_INC</code></a>/<a href="../../../com/pax/dal/entity/EDUKPTPinMode.html#ISO9564_1"><code>EDUKPTPinMode.ISO9564_1</code></a>,DataIn is ignored. The interface uses random numbers to fill PINBlock internally.</li>
            <li>When mode=<a href="../../../com/pax/dal/entity/EDUKPTPinMode.html#ISO9564_2_INC"><code>EDUKPTPinMode.ISO9564_2_INC</code></a>/<a href="../../../com/pax/dal/entity/EDUKPTPinMode.html#ISO9564_2"><code>EDUKPTPinMode.ISO9564_2</code></a>,DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=<a href="../../../com/pax/dal/entity/EDUKPTPinMode.html#HKEPS_INC"><code>EDUKPTPinMode.HKEPS_INC</code></a>, dataIn is ISN [6 Bytes, ASCII code]</li>
           <li>For type-c, dataIn is the 16 bytes primary account number after shifting.</li>
            </ul>
            </div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EDUKPTPinMode.html" title="enum in com.pax.dal.entity"><code>EDUKPTPinMode</code></a>
            <li>Not used for type-c</li></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            <p>
            0:表示没有超时时间，PED不做超时控制
            </p>
            </div> <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            <p>
            0: No timeout time, not doing timeout control for PED.
            </p>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>DUKPTResult <a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getDUKPTMac-byte-byte:A-com.pax.dal.entity.EDUKPTMacMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDUKPTMac</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.569">getDUKPTMac</a>(byte&nbsp;groupIndex,
                        byte[]&nbsp;dataIn,
                        <a href="../../../com/pax/dal/entity/EDUKPTMacMode.html" title="enum in com.pax.dal.entity">EDUKPTMacMode</a>&nbsp;mode)
                 throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥计算MAC。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div>
 <div class="en"> Use MAC Key to calculate MAC. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100] DUKPT key group index id </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 指向需要计算MAC的数据内容</div> <div class="en">  The MAC data content needs to be calculated</div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EDUKPTMacMode.html" title="enum in com.pax.dal.entity"><code>EDUKPTMacMode</code></a>
            <div class="zh">备注：20，22，40，42模式可以支持最大输入8k大小的输入数据，其他模式维持原来最大1k的输入数据</div>
            <div class="en">Note: In 20, 22, 40, and 42 modes, the maximum size of input data can be 8 KB. In other modes, the maximum size of input data can be 1 KB</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getKCV-com.pax.dal.entity.EPedKeyType-byte-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKCV</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.647">getKCV</a>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;type,
              byte&nbsp;keyIndex,
              byte&nbsp;checkMode,
              byte[]&nbsp;checkBuf)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 获取密钥的KCV值，以供对话双方进行密钥验证，用指定的密钥及算法对一段数据进行加密，并返回部分数据密文。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型 。</div>
 <div class="en"> Getting value of KCV for key verification of to side, using specific key and algorithm to encrypt data, and then return part of cryptograph.
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a></dd>
<dd><code>keyIndex</code> - <div class="zh"> 密钥的索引号
            <ul>
            <li>如果type=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>, keyIndex只能为1</li>
            <li>如果type=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/
            <a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a> , 取值[1~100]</li>
            <li>如果type=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TIK"><code>EPedKeyType.TIK</code></a>,取值[1~100]</li>
            </ul>
            </div> <div class="en"> key index
            <ul>
            <li>If type=TLK, keyIndex can only be 1.</li>
            <li>If type=TMK/TPK/TAK/TDK , can select from [1~100].</li>
            <li>If type=TIK,can select from [1~100].</li>
            </ul>
            </div></dd>
<dd><code>checkMode</code> - <div class="zh">
            <ul>
            <li>checkMode=0x00时， 使用该密钥对一段数据进行DES/TDES加密运算，生成的密文的前4个字节即为KCV,该模式适用于PED_TLK/ PED_TMK/ PED_TAK/ PED_TPK/ PED_TDK/ PED_PPAD_TXK。</li>
            <li>checkMode=0x00时， 返回注入密钥时写入的KCV值。该模式适用于PED_TIK/ PED_AES_TIK。</li>
            <li>checkMode=0x03时， 使用该密钥对一段数据进行CMAC加密运算，生成的密文的前5个字节即为KCV。该模式适用于PED_TLK/ PED_TMK/ PED_TAK/ PED_TPK/ PED_TDK/ PED_PPAD_TXK/ PED_AES_TLK/ PED_AES_TMK/ PED_AES_TAK/ PED_AES_TPK/ PED_AES_TDK。</li>
            <li>checkMode=0x04时， 使用该密钥对一段数据进行SM4加密运算，生成的密文的前4个字节即为KCV。该模式适用于PED_SM4_TMK/ PED_SM4_TAK/ PED_SM4_TPK/ PED_ SM4_TDK。</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When checkMode=0x00, use this key pair to do DES/TDES entryption for a block of data, the first 4
            bytes of the generated ciphertext is KCV.</li>
            <li>When checkMode=0x00, the KCV value written during key injection is returned. This mode is suitable
            for PED_TIK/ PED_AES_TIK.</li>
            <li>When checkMode=0x03, use this key to do CMAC encryption operation for a block of data, and the first
            5 bytes of the generated ciphertext are KCV. This mode is suitable for PED_TLK/ PED_TMK/ PED_TAK/ PED_TPK/
            PED_TDK/ PED_PPAD_TXK/ PED_AES_TLK/ PED_AES_TMK/ PED_AES_TAK/ PED_AES_TPK/ PED_AES_TDK.</li>
            <li>When checkMode=0x04, use this key to do SM4 encryption operation for a block of data, and the first
            4 bytes of the generated ciphertext are KCV. This mode is suitable for PED_SM4_TMK/ PED_SM4_TAK/ PED_SM4_TPK/ PED_ SM4_TDK.</li>
            </ul>
            </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
            <ul>
            <li>当checkMode =0x00/0x04时, 指向需运算的数据,进行运算的数据必须是8/16的倍数</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When checkMode=0x00/0x04, The data needing to compute must be a multiple of 8/16.</li>
            </ul>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">
         <ul>
         <li>当checkMode = 0x00/0x04时，若KeyType为PED_TIK/PED_AES_TIK，返回的KCV值为pedWriteTIK/pedAesDukptWriteTIK接口写入时的KCV值。
         （如果pedWriteTIK注入密钥时不带KCV校验值，将返回对8个字节的0x00进行DES/TDES加密，得到的密文的前4个字节KCV校验值。
         如果pedAesDukptWriteTIK注入密钥时不带KCV校验值，将返回对16个字节的0x00进行CMAC加密，得到的密文的前5个字节KCV校验值。）
         其他返回4个字节长度的KCV。</li>
         <li>当checkMode = 0x03时，将返回对16个字节的0x00进行CMAC加密，得到的密文的前5个字节KCV校验值。</li>
         </ul>
         </div> <div class="en">
         <ul>
         <li>When checkMode = 0x00/0x04, if KeyType is PED_TIK/PED_AES_TIK, the return value KCV is the KCV value that wrote in pedWriteTIK/pedAesDukptWriteTIK interface.
         (If pedWriteTIK injects the key without KCV check value, it will return the KCV check value of the first 4 bytes of the ciphertext obtained by performing DES/TDES encryption on the 8 bytes of 0x00.
         If pedAesDukptWriteTIK injects the key without KCV check value, it will return the KCV check value of the first 5 bytes of the ciphertext obtained by CMAC encryption on 16 bytes of 0x00.)
         Others return a KCV of 4 bytes.</li>
         <li>When checkMode = 0x03, it will return the KCV check value of the first 5 bytes of the ciphertext obtained by performing CMAC encryption on 16 bytes of 0x00.</li>
         </ul>
         </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeKeyVar-com.pax.dal.entity.EPedKeyType-byte-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeKeyVar</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.685">writeKeyVar</a>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;type,
                 byte&nbsp;srcKeyIndex,
                 byte&nbsp;destKeyIndex,
                 byte[]&nbsp;xorData,
                 <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
                 byte[]&nbsp;checkBuf)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用指定密钥类型的密钥索引所在的密钥明文与一串数据进行异或，得到密钥写入到同一类型密钥区的指定索引位置 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en"> Use the plaintext key specified by the source key index and the key type to do exclusive-or with the input data, and write the
 result to the location specified by the destination key index with the same key type. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - <div class="zh">
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a></li>
            </ul>
            </div> <div class="en"> <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> Reference <a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> srcKeyType,but not
            applicative for TIK/TLK. </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh"> 源密钥索引号 </div> <div class="en"> The source key index </div></dd>
<dd><code>destKeyIndex</code> - <div class="zh"> 目的密钥索引号 </div> <div class="en"> The destination key index </div></dd>
<dd><code>xorData</code> - <div class="zh"> 需要异或的字符串，长度与密钥长度一致 </div> <div class="en"> The input data to be used in exclusive-or,
            length of it is same as the key. </div></dd>
<dd><code>checkMode</code> - <div class="zh"> <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity"><code>ECheckMode</code></a> 保留扩展，应用程序可以设置为空 </div> <div class="en"> <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity"><code>ECheckMode</code></a>
            reserved for extension ,application can set it as null </div></dd>
<dd><code>checkBuf</code> - <div class="zh"> 保留扩展，应用程序可以设置为空 </div> <div class="en"> reserved for extension ,application can set
            it as null </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getVersion--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersion</h4>
<pre>java.lang.String&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.697">getVersion</a>()
                     throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 获取PED的版本。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div>
 <div class="en"> Get the PED version information. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> PED 版本 </div> <div class="en"> PED Version </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="erase--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>erase</h4>
<pre>boolean&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.719">erase</a>()
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 清空TDES MK/SK DUKPT, AES MK/SK DUKPT, SM2等密钥。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。<br/>
              注：定制密钥不清除;因兼容性问题,不清除RSA密钥</div>
 <div class="en">Clear TDES MK/SK DUKPT, AES MK/SK DUKPT, SM2 keys. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.<br/>
              Note: Customized keys are not cleared; due to compatibility issues, RSA keys are not cleared</div></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">
         <ul>
         <li>true-擦除成功</li>
         <li>false-擦除失败</li>
         </ul>
         </div> <div class="en">
         <ul>
         <li>true -- Clear success</li>
         <li>false -- Clear failure</li>
         </ul>
         </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setIntervalTime-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIntervalTime</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.767">setIntervalTime</a>(int&nbsp;tpkIntervalTimeMs,
                     int&nbsp;takIntervalTimeMs)
              throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设置两次计算PINBlock或者计算MAC之间最小间隔时间
 PINBLOCK间隔时间的计算方式：默认为120秒那只能调用4次，即tpkIntervalTimeMs默认值为30秒，调用该函数重新设置后，限制为4*
 tpkIntervalTimeMs时间内只能调用4次。比如传入的tpkIntervalTimeMs为20000(ms)，则80秒内只能调用4次。
 MAC间隔时间的计算方式：限制为两次计算MAC的间隔时间必须大于等于TAKIntervalTimeMs；比如传入的TAKIntervalTimeMs为20000(ms)，则20秒内只能调用1次。
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en"> Set the minimum time interval of calculating the PINBlock or MAC twice. PINBLOCK interval is
 calculated as below: When the default time is 120 seconds, it can only be called 4 times, that is, the default
 value of tpkIntervalTimeMs is 30 seconds, after resetting by calling this function, it is limited to call 4 times
 during the time of 4* tpkIntervalTimeMs. For example, if the incoming tpkIntervalTimeMs value is 20000(ms), it
 can be called 4 times within 80 seconds.MAC interval calculation: limit to two calculations, MAC interval time
 must be greater than or equal to TAKIntervalTimeMs; for example, the incoming TAKIntervalTimeMs is 20000 (MS),
 then 20 seconds can only call 1 times. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tpkIntervalTimeMs</code> - <div class="zh">
            <ul>
            <li>tpkIntervalTimeMs=0:使用默认值(30000ms)</li>
            <li>tpkIntervalTimeMs>0:间隔时间(单位:毫秒)</li>
            <li>tpkIntervalTimeMs=0xffffffff:当前设置不被改变</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>tpkIntervalTimeMs=0:Use the default value(30000 ms)</li>
            <li>tpkIntervalTimeMs=0xffffffff:No change of current setting.</li>
            </ul>
            </div></dd>
<dd><code>takIntervalTimeMs</code> - <div class="zh">
            <ul>
            <li>tpkIntervalTimeMs=0:使用默认值(0ms)</li>
            <li>tpkIntervalTimeMs>0:间隔时间(单位:毫秒)</li>
            <li>tpkIntervalTimeMs=0xffffffff:当前设置不被改变</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>tpkIntervalTimeMs=0:Use the default value(0 uint:ms)</li>
            <li>tpkIntervalTimeMs大于0:Interval time(uint:ms)</li>
            <li>tpkIntervalTimeMs=0xffffffff:No change of current setting.</li>
            </ul>
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setFunctionKey-com.pax.dal.entity.EFuncKeyMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFunctionKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.780">setFunctionKey</a>(<a href="../../../com/pax/dal/entity/EFuncKeyMode.html" title="enum in com.pax.dal.entity">EFuncKeyMode</a>&nbsp;mode)
             throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设定某些功能键的功能。 PED上电后,CLEAR键的默认功能为,持卡人输入PIN时,按CLEAR键,清除已输入的PIN。 可以通过该函数来设置CLEAR键的不同功能。
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div>
 <div class="en"> Setting some functions of function key. When PED is power on, the default function of CLEAR button is
 when card holder is typing in PIN, pressing the CLEAR button can clear input PIN. It is allowed to set different
 functions for CLEAR button by using this function. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EFuncKeyMode.html" title="enum in com.pax.dal.entity"><code>EFuncKeyMode</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeRSAKey-byte-com.pax.dal.entity.RSAKeyInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeRSAKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.820">writeRSAKey</a>(byte&nbsp;rsaKeyIndex,
                 <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity">RSAKeyInfo</a>&nbsp;info)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 1.注入RSA密钥到PED <br/>
 2.PED最多支持10组RSA密钥,目前最长只支持256字节长的RSA密钥。 <br/>
 3.存储的RSA密钥是公钥还是私钥由密钥的指数长度决定,当密钥指数和模等长时,是私钥。 <br/>
 4.PED通过PedWriteRsaKey注入RSA密钥。 <br/>
 5.通过PedRSARecover使用已注入的密钥进行RSA运算。 <br/>
 6.任何时候,RSA密钥可以进行重写。 <br/>
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 </div> <div class="en">
 <p>
 1. Import RSA to the PED
 </p>
 <p>
 2. PED can support 10 sets of RSA Key at most, current can supports a maximum length of 256 bytes RSA key.
 </p>
 <p>
 3. Whether the stored RSA is the public key or private key will be determined by the exponent length. If the
 length of key exponent is equal to modulus, it is a private key.
 </p>
 <p>
 4. PED uses PedWriteRsaKey to Import RSA key.
 </p>
 <p>
 5. Use the imported key to do the RSA operation by calling PedRsaRecover.
 </p>
 <p>
 6. RSA key can be rewritten at any time
 </p>
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.
 </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rsaKeyIndex</code> - <div class="zh"> 密钥索引[1~10] </div> <div class="en"> Key Index [1~10] </div></dd>
<dd><code>info</code> - <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity"><code>RSAKeyInfo</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="RSARecover-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RSARecover</h4>
<pre><a href="../../../com/pax/dal/entity/RSARecoverInfo.html" title="class in com.pax.dal.entity">RSARecoverInfo</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.844">RSARecover</a>(byte&nbsp;rsaKeyIndex,
                          byte[]&nbsp;dataIn)
                   throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 用存储在PED的RSA密钥进行数据RSA数据运算。
 <br>注意: 1.该函数对dataIn进行RSA加解密运算，运算结果输出到RSARecoverInfo
 <br>2.当rsaKeyIndex指定的密钥为私钥时，如果dataIn是对应公钥的加密密文，则RSARecoverInfo为dataIn的明文，否则RSARecoverInfo为dataIn的RSA密文；
 <br>3.当rsaKeyIndex指定的密钥为公钥时，如果dataIn是对应私钥的加密密文，则RSARecoverInfo为dataIn的明文，否则RSARecoverInfo为dataIn的RSA密文；
 <br>4.该方法可实现长度不超过4096bits的RSA运算。</div>
 <div class="en"> Using the RSA key stored in PED to do the RSA data operation.
 <br>Note: 1. This function performs RSA encryption and decryption operation on dataIn, and the operation result is output to RSARecoverInfo
 <br>2. When the key specified by rsaKeyIndex is a private key, if dataIn is the encrypted ciphertext corresponding to the public key, then RSARecoverInfo is the plaintext of dataIn, otherwise RSARecoverInfo is the RSA ciphertext of dataIn;
 <br>3. When the key specified by rsaKeyIndex is a public key, if dataIn is the encrypted ciphertext corresponding to the private key, then RSARecoverInfo is the plaintext of dataIn, otherwise RSARecoverInfo is the RSA ciphertext of dataIn;
 <br>4. This method can realize the RSA operation whose length does not exceed 4096bits.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rsaKeyIndex</code> - <div class="zh"> 密钥索引[1~10] </div> <div class="en"> Key Index [1~10] </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 被加解密的数据，和模等长 </div> <div class="en"> The encrypted/decrypted data, which has the same
            length as the modulus. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/RSARecoverInfo.html" title="class in com.pax.dal.entity"><code>RSARecoverInfo</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="calcDUKPTDes-byte-byte-byte:A-byte:A-com.pax.dal.entity.EDUKPTDesMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcDUKPTDes</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.887">calcDUKPTDes</a>(byte&nbsp;groupIndex,
                         byte&nbsp;keyVarType,
                         byte[]&nbsp;iv,
                         byte[]&nbsp;dataIn,
                         <a href="../../../com/pax/dal/entity/EDUKPTDesMode.html" title="enum in com.pax.dal.entity">EDUKPTDesMode</a>&nbsp;mode)
                  throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥或DES密钥，对输入缓存内数据进行加密或解密。 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en"> Use MAC key or DES key of DUKPT to encrypt or decrypt the data in the input buffer. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100] DUKPT group ID </div></dd>
<dd><code>keyVarType</code> - <div class="zh">
            <ul>
              <li>0x00: 使用请求和应答MAC密钥。</li>
              <li>0x01: 使用DUKPT DES密钥运算。</li>
              <li>0x02: 使用DUKPT PIN密钥做ECB加密。mode只能为<a href="../../../com/pax/dal/entity/EDUKPTDesMode.html#ECB_ENCRYPTION"><code>EDUKPTDesMode.ECB_ENCRYPTION</code></a>。</li>
              <li>0x03: 使用应答 MAC 密钥。仅支持加密模式，mode只能为<a href="../../../com/pax/dal/entity/EDUKPTDesMode.html#ECB_ENCRYPTION"><code>EDUKPTDesMode.ECB_ENCRYPTION</code></a>或<a href="../../../com/pax/dal/entity/EDUKPTDesMode.html#CBC_ENCRYPTION"><code>EDUKPTDesMode.CBC_ENCRYPTION</code></a>。</li>
              <li>0x04: 使用应答 DES 密钥。仅支持加密模式，mode只能为<a href="../../../com/pax/dal/entity/EDUKPTDesMode.html#ECB_ENCRYPTION"><code>EDUKPTDesMode.ECB_ENCRYPTION</code></a>或<a href="../../../com/pax/dal/entity/EDUKPTDesMode.html#CBC_ENCRYPTION"><code>EDUKPTDesMode.CBC_ENCRYPTION</code></a>。</li>
             </ul>
            </div>
            <div class="en">
             <ul>
              <li>0x00: Use request and response MAC key.</li>
              <li>0x01: Use DUKPT DES key operation.</li>
              <li>0x02: Use DUKPT PIN key to do the ECB encryption. mode can only be <a href="../../../com/pax/dal/entity/EDUKPTDesMode.html#ECB_ENCRYPTION"><code>EDUKPTDesMode.ECB_ENCRYPTION</code></a>.</li>
              <li>0x03: Use the response MAC key. Only encryption mode is supported, mode can only be <a href="../../../com/pax/dal/entity/EDUKPTDesMode.html#ECB_ENCRYPTION"><code>EDUKPTDesMode.ECB_ENCRYPTION</code></a> or <a href="../../../com/pax/dal/entity/EDUKPTDesMode.html#CBC_ENCRYPTION"><code>EDUKPTDesMode.CBC_ENCRYPTION</code></a>.</li>
              <li>0x04: Use the response DES key. Only encryption mode is supported, mode can only be <a href="../../../com/pax/dal/entity/EDUKPTDesMode.html#ECB_ENCRYPTION"><code>EDUKPTDesMode.ECB_ENCRYPTION</code></a> or <a href="../../../com/pax/dal/entity/EDUKPTDesMode.html#CBC_ENCRYPTION"><code>EDUKPTDesMode.CBC_ENCRYPTION</code></a>.</li>
             </ul>
            </div></dd>
<dd><code>iv</code> - <div class="zh"> 8字节初始向量，CBC加解密时需要，如果传入NULL，将默认用“\x00\x00\x00\x00\x00\x00\x00\x00”作为初始向量 </div> <div
            class="en"> 8 bytes initialization vector, used for CBC encryption or decryption. If set it to NULL,
            it will use “\x00\x00\x00\x00\x00\x00\x00\x00” as the initialization vector by default. </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 指向需要进行运算的数据, 数据长度<=8192，8整除 </div> <div class="en"> Point to the data which need to
            be computed.Data length less than or equal to 8192, it is divisible by 8. </div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EDUKPTDesMode.html" title="enum in com.pax.dal.entity"><code>EDUKPTDesMode</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getDUKPTKsn-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDUKPTKsn</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.901">getDUKPTKsn</a>(byte&nbsp;groupIndex)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 获取当前的KSN。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en"> Get the current KSN. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100] DUKPT group index ID </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 10 bytes ,KSN currently  </div> <div class="en"> 10 bytes ,KSN currently. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="incDUKPTKsn-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incDUKPTKsn</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.915">incDUKPTKsn</a>(byte&nbsp;groupIndex)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 对应于KSN的单个DUKPT密钥最多只能使用256次，在达到最大次数后，进一步使用该密钥将返回<a href="../../../com/pax/dal/exceptions/EPedDevException.html#PED_ERR_DUKPT_NEED_INC_KSN"><code>EPedDevException.PED_ERR_DUKPT_NEED_INC_KSN</code></a>异常，
 所以请在使用钥匙次数超过最大次数之前增加KSN。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div>
 <div class="en"> A single DUKPT key corresponding to a KSN can only be used at most 256 times, further use of that key will result in
 <a href="../../../com/pax/dal/exceptions/EPedDevException.html#PED_ERR_DUKPT_NEED_INC_KSN"><code>EPedDevException.PED_ERR_DUKPT_NEED_INC_KSN</code></a> after reaching the maxium times. So please increase KSN before number of use of the key
 exceeding the maximum times. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100] DUKPT group ID </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="verifyPlainPin-byte-java.lang.String-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyPlainPin</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.956">verifyPlainPin</a>(byte&nbsp;slot,
                      java.lang.String&nbsp;expPinLen,
                      byte&nbsp;mode,
                      int&nbsp;timeoutMs)
               throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 实现脱机明文PIN校验功能。获取明文PIN，然后按照应用提供的卡片命令与卡片通道号，将明文PIN BLOCK直接发送给卡片(PIN BLOCK格式在用法部分描述)。
 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div>
 <div class="en"> Achieve the function of verifying plaintext offline PIN. Get plaintext PIN and then Send plaintext
 PIN BLOCK to card according to card command and card slot number (PIN BLOCK format will be provided in operation
 part.). <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - <div class="zh"> 卡片所在的卡座号 </div> <div class="en"> card slot number </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合 可输入的合法密码长度字符串，应用程序把允许的密 码长度全部枚举出来，并且用","号隔开每个长度， 如允许输入4、6位密码并且允许无密码直接按确认，
            则该字符串应该设置为"0,4,6" </div> <div class="en"> Enumeration of 0-12.The enter password string with legal
            length. Application enumerates all possible lengths of PIN. ‘,’ will be used to separate each number
            of length. If 4 or 6 digits of PIN are allowed and it is also allowed to press ‘Enter’ without PIN
            .Then this string should be set as ‘0, 4, and 6’. </div></dd>
<dd><code>mode</code> - <div class="zh">
              <ul>
                  <li>0x00: I C卡命令模式，现支持符合EMV2000的IC卡命令。</li>
                  <li>0x01: 给WIC使用。</li>
              </ul>
             </div>
             <div class="en">
              <ul>
                  <li>0x00: IC Card Command Mode,Currently support EMV2000.</li>
                  <li>0x01: For WIC.</li>
              </ul>
             </div></dd>
<dd><code>timeoutMs</code> - <div class="zh"> 输入PIN的超时时间，单位：毫秒 最大值为300000ms </div> <div class="en"> The timeout of PIN entry
            [ms],Maximum is 300000ms. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 卡片响应的状态码 (2字节：SW1+SW2) </div> <div class="en"> The status code of card response (2
         bytes: SW1+SW2). </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="verifyCipherPin-byte-java.lang.String-com.pax.dal.entity.RSAPinKey-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyCipherPin</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.991">verifyCipherPin</a>(byte&nbsp;slot,
                       java.lang.String&nbsp;expPinLen,
                       <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity">RSAPinKey</a>&nbsp;rsaPinKey,
                       byte&nbsp;mode,
                       int&nbsp;timeout)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 实现脱机密文PIN校验功能。先获取明文PIN，再用应用提供的RsaPinKey对明文PIN按照EMV规范进行加密，然后用应用
 提供的卡片命令与卡片通道号，将密文PIN直接发送给卡片 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en"> Verify enciphered PIN offline. Get plain text PIN and then use RsaPinKey provided by application
 to encrypt plaintext PIN according to EMV standard. Send enciphered PIN to card according to card command and
 card channel number provided by application. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - <div class="zh"> 卡片所在的卡座号 </div> <div class="en"> card slot number </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合 可输入的合法密码长度字符串，应用程序把允许的密 码长度全部枚举出来，并且用","号隔开每个长度， 如允许输入4、6位密码并且允许无密码直接按确认，
            则该字符串应该设置为"0,4,6" </div> <div class="en"> Enumeration of 0-12.The enter password string with legal
            length. Application enumerates all possible lengths of PIN. ‘,’ will be used to separate each number
            of length. If 4 or 6 digits of PIN are allowed and it is also allowed to press ‘Enter’ without PIN
            .Then this string should be set as ‘0, 4, and 6’. </div></dd>
<dd><code>rsaPinKey</code> - <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity"><code>RSAPinKey</code></a></dd>
<dd><code>mode</code> - <div class="zh"> 0x00 IC卡命令模式，目前支持EMV2000。 </div> <div class="en"> 0x00 IC Card Command Mode,Currently
            support EMV2000. </div></dd>
<dd><code>timeout</code> - <div class="zh"> 输入PIN的超时时间，单位：毫秒 最大值为300000ms </div> <div class="en"> The timeout of PIN input
            [unit:ms].Maximum is 300000Ms. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 卡片响应的状态码 (2字节：SW1+SW2) </div> <div class="en"> The card response code (2 bytes:SW1 and
         SW2) </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setExMode-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExMode</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1126">setExMode</a>(int&nbsp;exMode)</pre>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘，下载密钥，计算pinblock,计算mac,des加解密使用 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div> <div class="en"> This interface only be used
 for external PIN pad Use for downloading main key and work key. <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>exMode</code> - <div class="zh">
            <ul>
            调用writeKey时，如果下载的密钥为主密钥或DES密钥，取值如下：
            <li>-1,默认值，3倍DES密钥 16字节</li>
            <li>0x01 单DES密钥 8字节</li>
            <li>0x03 3倍DES密钥 16字节</li>
            <li>0x07 3倍DES密钥 24字节</li>

            </ul>

            <ul>
            调用writeKey时，如果下载的密钥为工作密钥(TPK,TAK)则指示最终工作密钥明文的生成运算方式:
            <li>-1,默认值，主密钥和工作密钥均为3DES/16字节密钥，采用主密钥对工作密钥解密的方式</li>
            <li>0x01-- DES加密 0x81-- DES解密 MKeyID 与 WKeyID 均为单DES/ 8字节密钥</li>
            <li>0x03-- 3DES加密0x31-- 3DES加密 0x83-- 3DES解密 0xb1-- 3DES解密 0x03-- 3DES加密
            MKeyID为3DES/16字节密钥，WKeyID为单DES/8字节密钥</li>
            <li>0x07-- 3DES加密 0x87-- 3DES解密 MKeyID为3DES/24字节密钥，WKeyID为单DES/8字节密钥</li>
            <li>0x33-- 3DES加密 0xb3-- 3DES解密 MKeyID与WKeyID均为3DES/16字节密钥</li>
            <li>0x71-- 3DES加密 0xf1-- 3DES解密 MKeyID为3DES/24字节密钥, WKeyID为单DES/8字节密钥</li>
            <li>0x73-- 3DES加密 0xf3-- 3DES解密 MKeyID为3DES/24字节密钥, WKeyID为3DES－16字节密钥</li>
            <li>0x77-- 3DES加密 0xf7-- 3DES解密 MKeyID与WKeyID均为3DES/24字节密钥</li>
            </ul>

            <ul>
            调用getPinBlock的时候: 如果mode = EPinBlockMode.ISO9564_0模式
            <li>-1: 默认值，TPK为16字节密钥</li>
            <li>0x01：8字节单DES,按照ANSI X9.8标准，PIN输入时当最小长度不为0时,允许按"确认"退出</li>
            <li>0x31:16字节密钥DES按照ANSI X9.8标准，PIN输入时当最小长度不为0时,允许按"确认"退出</li>
            <li>0x71:24字节密钥DES按照ANSI X9.8标准，PIN输入时当最小长度不为0时,允许按"确认"退出</li>
            <li>0x04 ：按照ANSI X9.8标准,采用3DES加密方法</li>

            如果mode = EPinBlockMode.HKEPS模式(X3.92)
            <li>-1: 默认值，TPK为8字节单DES密钥</li>
            <li>0x02: des按照ANSI X3.92标准</li>
            <li>0x32: 16字节密钥DES按照ANSI X3.92标准,大陆版SP20不支持</li>
            <li>0x72: 24字节密钥DES按照ANSI X3.92标准,大陆版SP20不支持</li>
            </ul>

            <ul>
            调用getMac的时候,指定PedMacMode后还需要指定exMode 如果mode = PedMacMode#MODE_00(算法1),exMode的取值如下：
            <li>-1: 默认值，3DES加密[密钥为16字节]</li>
            <li>0x01 DES加密[密钥为8字节]</li>
            <li>0x03 3DES加密[密钥为16字节]</li>
            <li>0x07 3DES加密[密钥为24字节]</li>

            如果mode = PedMacMode#MODE_01(算法2),exMode的取值如下：
            <li>-1: 默认值，3DES加密[密钥为16字节]</li>
            <li>0x01 DES加密[密钥为8字节]</li>
            <li>0x03 3DES加密[密钥为16字节]</li>
            <li>0x07 3DES加密[密钥为24字节]</li>

            如果mode = PedMacMode#MODE_02(算法3),exMode的取值如下：
            <li>-1: 默认值，3DES加密[密钥为16字节]</li>
            <li>0x13: 3DES加密[密钥为16字节]</li>
            <li>0x17: 3DES加密[密钥为24字节]</li>

            </ul>

            <ul>
            调用calcDes的时候，需要指定exMode,取值如下：
            <li>-1: 默认值，[密钥为16字节]，加解密由calcDes的EPedDesMode参数指定</li>
            <li>0x01 DES加密</li>
            <li>0x03 3DES加密 [密钥为16字节]</li>
            <li>0x81 DES解密 （EPS无此项）</li>
            <li>0x83 3DES解密 （EPS无此项）</li>
            <li>0x07 3DES加密 [密钥为24字节]</li>
            <li>0x87 3DES解密 [密钥为24字节]</li>

            </ul>
            </div> <div class="en"> When call writeKey,if the downloading key is main key or the DES key,then:
            <ul>
            <li>mode=0x01 -DES key of 8 bytes</li>
            <li>mode=0x03 -3DES key of 16 bytes</li>
            <li>mode=0x07 -3DES key of 24 bytes</li>
            </ul>
            When called writeKey,if the downloading key is work key(TPK,TAK), then specify the final generated
            computation mode:
            <ul>
            <li>0x01-- DES encryption 0x81-- DES decryption. MKeyID and WKeyID are both DES/ key of 8 bytes</li>
            <li>0x03-- 3DES encryption 0x83-- 3DES decryption 0xb1-- 3DES decreption. MKeyID is 3DES/key of 16
            bytes，WKeyID is DES/key of 8 bytes</li>
            <li>0x07-- 3DES encryption 0x87-- 3DES decryption. MKeyID is 3DES/key of 24 bytes，WKeyID is DES/key of
            8 bytes</li>
            <li>0x33-- 3DES encryption 0xb3-- 3DES decryption. MKeyID and WKeyID are both 3DES/key of 16 bytes</li>
            <li>0x71-- 3DES encryption 0xf1-- 3DES decryption. MKeyID is 3DES/key of 24 bytes, WKeyID is DES/key
            of 8 bytes</li>
            <li>0x73-- 3DES encryption 0xf3-- 3DES decryption. MKeyID is 3DES/key of 24 bytes, WKeyID is 3DES/key
            of 16 bytes</li>
            <li>0x77-- 3DES encryption 0xf7-- 3DES decryption. MKeyID and WKeyID are both 3DES/key of 24 bytes</li>
            </ul>
            When called getPinBlock,to ANSI X3.92 Standard
            <ul>
            <li>0x02: 8 bytes key</li>
            <li>0x32: 16 bytes key</li>
            <li>0x72: 24 bytes key</li>
            </ul>
            When called getMac,specify PedMacMode and exMode. If mode= PedMacMode#MODE_00, exMode value as
            follows:
            <ul>
            <li>0x01 -DES encryption[8 bytes]</li>
            <li>0x03 -3DES encryption[16 bytes]</li>
            <li>0x07 -3DES encryption [24 bytes]</li>
            </ul>
            If mode = PedMacMode#MODE_02,exMode value as follows:
            <ul>
            <li>0x13: 3DES encryption [16 bytes]</li>
            <li>0x17: 3DES encryption [24 bytes]</li>
            </ul>
            If mode = PedMacMode#MODE_01,exMode value as follows:
            <ul>
            <li>0x01 -DES encryption [8 bytes]</li>
            <li>0x03 -3DES encryption [16 bytes]</li>
            <li>0x07 -3DES encryption [24 bytes]</li>
            </ul>
            When called calDes,specify the exMode, value as follows:
            <ul>
            <li>mode = 0x01 -DES encryption</li>
            <li>mode = 0x03 -3DES encryption [16 bytes]</li>
            <li>mode = 0x81 -DES decryption [No this option for EPS]</li>
            <li>mode = 0x83 -3DES decryption[No this option for EPS]</li>
            <li>mode=0x07 -3DES encryption　[24 bytes]</li>
            <li>mode=0x87 -3DES decryption　[24 bytes]</li>
            </ul>
            </div></dd>
</dl>
</li>
</ul>
<a name="clearScreen--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearScreen</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1135">clearScreen</a>()
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘

 清屏 </div> <div class="en"> This interface only be used for external PIN pad Clear screen </div></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="inputStr-byte-byte-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputStr</h4>
<pre>java.lang.String&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1162">inputStr</a>(byte&nbsp;mode,
                          byte&nbsp;min,
                          byte&nbsp;max,
                          int&nbsp;timeoutMs)
                   throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘

 超时时间内输入指定长度范围内的字符串。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> <div class="en"> This interface only be used for external PIN pad Type string with
 specified length within timeout. <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - <div class="zh"> 0x00 - 明码显示, 0x01 - 显示*号 </div> <div class="en"> 0x00 - show plain code, 0x01 - show
            * code </div></dd>
<dd><code>min</code> - <div class="zh"> 输入字符串的最小长度 </div> <div class="en"> Min length for typing string </div></dd>
<dd><code>max</code> - <div class="zh"> 输入字符串的最大长度 </div> <div class="en"> Max length for typing string </div></dd>
<dd><code>timeoutMs</code> - <div class="zh"> 超时时间，单位毫秒，最大超时时间为120秒 </div> <div class="en"> Timeout[ms],max timeout is 120 seconds.
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 输入的字符串 </div> <div class="en"> typed string </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="showStr-byte-byte-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>showStr</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1182">showStr</a>(byte&nbsp;x,
             byte&nbsp;y,
             java.lang.String&nbsp;str)
      throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 该接口仅用于外置密码键盘 显示英文字符。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> <div class="en"> This interface only be used for external PIN pad
 show English character. <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - <div class="zh"> 显示字符在LCD上的起始点阵列号(单位：点),0≤x<122； </div> <div class="en"> Horizontal coordinate which
            is displayed on LCD.(unit: pixel great than or equal to 0 and less than or equal to 122) </div></dd>
<dd><code>y</code> - <div class="zh"> y：显示字符在LCD上的行号(单位：行),每行均为16点高的行，0—第一行，1--第二 </div> <div class="en"> Vertical
            coordinate which is displayed on LCD.(unit:pixel),the height of every row is 16 pixels. 0-1st row,
            1-2nd row </div></dd>
<dd><code>str</code> - <div class="zh"> 要显示的字符串 </div> <div class="en"> string to be displayed </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getSN--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSN</h4>
<pre>java.lang.String&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1192">getSN</a>()
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 获取外置密码键盘的SN。支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> 类型。</div>
 <div class="en"> get External Ped Serial Number. <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> is supported.</div></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 序列号 </div> <div class="en"> serial number </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="showInputBox-boolean-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>showInputBox</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1207">showInputBox</a>(boolean&nbsp;flag,
                  java.lang.String&nbsp;title)
           throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设置输入框密码的显隐 （*） 和提示信息。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div class="en"> Show Password * at Keyboard Page when input Pin and
 Set reminder text when input Pin. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>flag</code> - <div class="zh"> 控制输入框的显隐 ,true:显示 false:隐藏</div> <div class="en"> display password with * at Keyboard
            Page when input pin,true:shows false:hidden </div></dd>
<dd><code>title</code> - <div class="zh"> 要显示的提示字符串 </div> <div class="en"> reminder text when input Pin </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="genSM2KeyPair-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>genSM2KeyPair</h4>
<pre><a href="../../../com/pax/dal/entity/SM2KeyPair.html" title="class in com.pax.dal.entity">SM2KeyPair</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1220">genSM2KeyPair</a>(int&nbsp;keyLenBit)
                  throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 生成一组 SM2 密钥对。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div>
 <div class="en"> Generate one SM2 key-pair.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyLenBit</code> - <div class="zh"> 私钥位数，支持256bit </div> <div class="en"> bits of private key, only support 256 bits.
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/SM2KeyPair.html" title="class in com.pax.dal.entity"><code>SM2KeyPair</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeSM2CipherKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeSM2CipherKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1245">writeSM2CipherKey</a>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
                       byte&nbsp;srcKeyIdx,
                       <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;dstKeyType,
                       byte&nbsp;dstKeyIdx,
                       byte[]&nbsp;keyValue)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 注入 SM2 密钥 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en"> To write SM2 cipher key to PED. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> <div class="zh"> 发散SM2秘钥（公/私钥）的源秘钥的类型，可以是PED_SM4_TMK。 </div> <div class="en"> Type
            of the source key to diversify SM2 key(private/public key),Could be PED_SM4_TMK key. </div></dd>
<dd><code>srcKeyIdx</code> - <div class="zh"> 发散SM2秘钥（公/私钥）的源秘钥的索引 </div> <div class="en"> Index of the source key to diversify SM2
            key(private/public key) </div></dd>
<dd><code>dstKeyType</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> <div class="zh"> 目标密钥的类型，可以是PED_SM2_PVT_KEY或者PED_SM2_PUB_KEY。 </div> <div
            class="en"> Type of the destination key, Could be PED_SM2_PVT_KEY or PED_SM2_PUB_KEY. </div></dd>
<dd><code>dstKeyIdx</code> - <div class="zh"> 目标密钥对额索引 </div> <div class="en"> Index of the destination key. </div></dd>
<dd><code>keyValue</code> - <div class="zh"> SM2公私钥的数据 </div> <div class="en"> SM2 private/public key data. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeSM2Key-byte-com.pax.dal.entity.EPedKeyType-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeSM2Key</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1265">writeSM2Key</a>(byte&nbsp;keyIdx,
                 <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;keyType,
                 byte[]&nbsp;keyValue)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 往PED中写入SM2密钥。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div>
 <div class="en"> To write SM2 key to PED. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> SM2 密钥索引[1~20] </div> <div class="en"> SM2 key index: 1~20 </div></dd>
<dd><code>keyType</code> - <div class="zh"> SM2_PVT_KEY：私钥 SM2_PUB_KEY：公钥 </div> <div class="en"> private key: SM2_PVT_KEY public
            key:SM2_PUB_KEY </div></dd>
<dd><code>keyValue</code> - <div class="zh"> 私钥, KeyValue 长度是 32 bytes 公钥, KeyValue 长度是 64 bytes </div> <div class="en"> private
            key data: 32 bytes public key data: 64 bytes </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="SM2Recover-byte-byte:A-com.pax.dal.entity.ECryptOperate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SM2Recover</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1285">SM2Recover</a>(byte&nbsp;keyIdx,
                  byte[]&nbsp;input,
                  <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity">ECryptOperate</a>&nbsp;operation)
           throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用 SM2 公钥加密数据或私钥解密数据 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div> <div class="en"> Use SM2 public key to encrypt data, or SM2 private
 key to decrypt data. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> SM2 密钥索引[1~20] </div> <div class="en"> SM2 key index: 1~20 </div></dd>
<dd><code>input</code> - <div class="zh"> 待加密或解密的数据。加密：最大长度(1024-96)字节； 解密：最大长度1024字节。 </div> <div class="en"> Input data to be
            encrypted or decrypted. Encrypt: max length is (1024-96) bytes. Decrypt: max length is 1024 bytes.
            </div></dd>
<dd><code>operation</code> - <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity"><code>ECryptOperate</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 加密或解密后的数据 </div> <div class="en"> data that after encryption or decryption </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="SM2Sign-byte-byte-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SM2Sign</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1312">SM2Sign</a>(byte&nbsp;pubKeyIdx,
               byte&nbsp;pvtKeyIdx,
               byte[]&nbsp;uid,
               byte[]&nbsp;input)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用 SM2 算法获得签名信息 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div>
 <div class="en"> Use SM2 algorithm to calculate the signature data. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.
 </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pubKeyIdx</code> - <div class="zh"> SM2 公钥索引[1~20] </div> <div class="en"> SM2 public key index: 1~20 </div></dd>
<dd><code>pvtKeyIdx</code> - <div class="zh"> SM2 私钥索引[1~20] </div> <div class="en"> SM2 private key index: 1~20 </div></dd>
<dd><code>uid</code> - <div class="zh"> 签名者 ID 无特殊约定的情况下，用户身份的标识 ID 的长度为 16 字节，其默认值为 0x31, 0x32, 0x33, 0x34, 0x35, 0x36,
            0x37, 0x38, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38。 </div> <div class="en"> Signer ID, max
            length is 512 bytes, and default value is {0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38,
            0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38} </div></dd>
<dd><code>input</code> - <div class="zh"> 待签名数据，最大长度1024字节 </div> <div class="en"> Input data, and max length is 1024 bytes.
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 64 字节的签名值 </div> <div class="en"> 64 bytes signature data. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="SM2Verify-byte-byte:A-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SM2Verify</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1331">SM2Verify</a>(byte&nbsp;pubKeyIdx,
               byte[]&nbsp;uid,
               byte[]&nbsp;input,
               byte[]&nbsp;signature)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用 SM2 公钥验证签名。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div>
 <div class="en"> Use SM2 algorithm to verify the signature data. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pubKeyIdx</code> - <div class="zh"> SM2 公钥索引[1~20] </div> <div class="en"> SM2 public key index: 1~20 </div></dd>
<dd><code>uid</code> - <div class="zh"> 签名者 ID,最大长度为512字节,无特殊约定的情况下，用户身份的标识 ID 的 长度为 16 字节，其默认值为 0x31, 0x32, 0x33, 0x34,
            0x35, 0x36, 0x37, 0x38, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38。 </div> <div class="en"> Signer
            ID , maximum length is 512 bytes, max length is 512 bytes, and default value is
            {0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38, 0x31,0x32,0x33,0x34,0x35,0x36,0x37,0x38} </div></dd>
<dd><code>input</code> - <div class="zh"> 被签名数据 </div> <div class="en"> Input data, and max length is 1024 bytes. </div></dd>
<dd><code>signature</code> - <div class="zh"> 64 字节的签名值 </div> <div class="en"> 64 bytes signature data. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="SM3-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SM3</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1344">SM3</a>(byte[]&nbsp;input,
           byte&nbsp;mode)
    throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用 SM3 算法计算哈希值。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div>
 <div class="en"> Use SM3 algorithm to calculate Hash. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>input</code> - <div class="zh"> 输入数据 </div> <div class="en"> Input data. </div></dd>
<dd><code>mode</code> - <div class="zh"> 目前支持 0x00,其它值保留 </div> <div class="en"> Only support 0x00. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 32 字节哈希值 </div> <div class="en"> Hash, 32 bytes. </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="SM4-byte-byte:A-byte:A-com.pax.dal.entity.ECryptOperate-com.pax.dal.entity.ECryptOpt-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SM4</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1373">SM4</a>(byte&nbsp;keyIdx,
           byte[]&nbsp;initVector,
           byte[]&nbsp;input,
           <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity">ECryptOperate</a>&nbsp;operation,
           <a href="../../../com/pax/dal/entity/ECryptOpt.html" title="enum in com.pax.dal.entity">ECryptOpt</a>&nbsp;option)
    throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用 SM4 算法加密或解密数据 。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div>
 <div class="en"> Use SM4 algorithm to encrypt or decrypt. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> SM4_TDK 的索引[1～100] </div> <div class="en"> SM4_TDK index: 1~100 </div></dd>
<dd><code>initVector</code> - <div class="zh">CBC mode:16 字节初始化向量； 对于 ECB 模式该域为 NULL。 </div> <div class="en"> ECB mode: init vector
            is null CBC mode: init vector, 16 bytes. </div></dd>
<dd><code>input</code> - <div class="zh"> 待加密或解密的数据.最大长度为8K，并且为16倍数。 </div> <div class="en"> Input data to be encrypted or
            decrypted. Maximum length is 8K, and that is a multiple of 16. </div></dd>
<dd><code>operation</code> - <ul>
            <li><a href="../../../com/pax/dal/entity/ECryptOperate.html#ENCRYPT"><code>ECryptOperate.ENCRYPT</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECryptOperate.html#DECRYPT"><code>ECryptOperate.DECRYPT</code></a></li>
            </ul></dd>
<dd><code>option</code> - <ul>
            <li><a href="../../../com/pax/dal/entity/ECryptOpt.html#ECB"><code>ECryptOpt.ECB</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECryptOpt.html#CBC"><code>ECryptOpt.CBC</code></a></li>
            </ul></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 加密或解密后的数据 </div> <div class="en"> data that after encryption or decryption </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMacSM-byte-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMacSM</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1399">getMacSM</a>(byte&nbsp;keyIdx,
                byte[]&nbsp;initVector,
                byte[]&nbsp;input,
                byte&nbsp;mode)
         throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用 SM4 算法计算 MAC。 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。</div>
 <div class="en"> Use SM4 algorithm to calculate MAC. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> SM4_TAK 的密钥索引[1～100] </div> <div class="en"> SM4_TAK index: 1~100 </div></dd>
<dd><code>initVector</code> - <div class="zh"> 16 字节初始化向量 </div> <div class="en"> init vector, 16 bytes </div></dd>
<dd><code>input</code> - <div class="zh"> 待计算 MAC 的数据
            <br/>Mode为0时,支持8K,16的倍数
            <br/>Mode为1时,支持1024,16的倍数</div>
            <div class="en"> Input data.
            <br/>Mode = 0: support 8K, multiples of 16.
            <br/>Mode = 1: support 1024, multiples of 16.</div></dd>
<dd><code>mode</code> - <div class="zh"> 0x00: 使用 SM4 CBC 算法计算 MAC 值，首先 将初始向量与 BLOCK1 进行异或，并用 SM4 算法使用 TAK 对异或的结果进行加密，然后
            获得的密文与 BLOCK2 异或，用 SM4 算法使 用 TAK 对结果加密，按顺序给出 16 字节的 加密结果。MacOut 为 16 字节。 0x01: SM3 Hash Mac，MacOut 为
            32 字节。 </div> <div class="en"> 0x00: use SM4 CBC algorithm, and MAC has 16 bytes. 0x01: use SM3
            algorithm, and MAC has 32 bytes. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>MAC</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getPinBlockSM4-byte-java.lang.String-byte:A-com.pax.dal.entity.EPinBlockMode-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinBlockSM4</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1429">getPinBlockSM4</a>(byte&nbsp;keyIndex,
                      java.lang.String&nbsp;expPinLen,
                      byte[]&nbsp;dataIn,
                      <a href="../../../com/pax/dal/entity/EPinBlockMode.html" title="enum in com.pax.dal.entity">EPinBlockMode</a>&nbsp;mode,
                      int&nbsp;timeoutMs)
               throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 指定的时限内,扫描键盘上输入的 PIN 并输出采用 SM4 算法生成的 PIN BLOCK 加密数据块。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div> <div class="en"> Scan the keyboard
 PIN entry and output the PIN BLOCK using SM4_TPK. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1～100] SM4_TPK 的索引 </div> <div class="en"> [1~100] SM4_TPK index </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> <p>当IPed为<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>:0~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。
            若枚举0长度则示意可以不输任何数字而直接按确认键返回。</p> <p>当IPed为<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>:PIN长度在expPinLen中的最小值和最大值区间。如果mode = EPinBlockMode.ISO9564_0时,当最小长度不为0时,允许按"确认"退出 。</p> </div>
            <div class="en"><p>When IPed is <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>:Enumeration of 0-12.The enter password string with legal length. Application enumerates of all possible lengths of PIN. ","will be used to separate each
            number of length. If no PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6". 0 means that no PIN is required, and pressing "Enter" will return.<p>
            <p>When IPed is <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>:The PIN length is between the minimum and maximum values in expPinLen. If mode = EPinBlockMode.ISO9564_0, press "ok" to exit when the minimum length is not 0.</p> </div></dd>
<dd><code>dataIn</code> - <div class="zh"> DataIn 域共占用 16 字节空间，用于存放卡号 移位后生成的 16 位主账号。 当 Mode=0x00 时,DataIn 指向卡号移位后生 成的 16 位主帐号。
            </div> <div class="en"> If Mode=0x00, DataIn is the 16 bytes PAN after shifting. </div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EPinBlockMode.html" title="enum in com.pax.dal.entity"><code>EPinBlockMode</code></a> <div class="zh"> 选择 PIN BLOCK 的格式, ISO9564 格式 0 </div> <div class="en"> PIN
            BLOCK format ISO9564 format 0 </div></dd>
<dd><code>timeoutMs</code> - <div class="zh"> 输入 PIN 的超时时间,单位：毫秒 最大值为 300000ms 0:表示没有超时时间，PED 不做超时控制。 </div> <div class="en"> The
            timeout of PIN entry [ms, Input] Maximum is 300000Ms. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 16bytes 生成的密文 PINBlock </div> <div class="en"> 16bytes PINBlock </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="cancelInput--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelInput</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1438">cancelInput</a>()
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> PedGetPinBlock 时取消输入。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> 类型。 </div>
 <div class="en"> Cancel input when PedGetPinBlock. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> is supported.</div></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setAmount-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAmount</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1448">setAmount</a>(java.lang.String&nbsp;amount)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 输入Pin时设置总额。 仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en"> Set amount Text when Input Pin. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>amount</code> - <div class="zh"> 总额 </div> <div class="en"> consumption amount need be shown </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="idKeyCalc-byte-byte:A-byte:A-com.pax.dal.entity.EIdKeycCalcMode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idKeyCalc</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1466">idKeyCalc</a>(byte&nbsp;keyId,
                 byte[]&nbsp;initvector,
                 byte[]&nbsp;dataIn,
                 <a href="../../../com/pax/dal/entity/EIdKeycCalcMode.html" title="enum in com.pax.dal.entity">EIdKeycCalcMode</a>&nbsp;mode)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用Idkey对机器序列号等身份信息进行加密运算 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en"> Use IdKey encrypt Identity information. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyId</code> - <div class="zh"> 1 (目前只支持索引1) </div> <div class="en"> 1(only support 1 now) </div></dd>
<dd><code>initvector</code> - <div class="zh"> ECB 模式: 初始向量为 null ; CBC 模式: 初始向量, 16 字节.</div> <div class="en"> ECB mode: init
            vector is null; CBC mode: init vector, 16 bytes. </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 输入数据进行加密或解密。 最大长度为1024，16的倍数。 </div> <div class="en">To encrypt or decrypt incoming
            data. A maximum length of 1024, a multiple of 16.</div></dd>
<dd><code>mode</code> - <a href="../../../com/pax/dal/entity/EIdKeycCalcMode.html" title="enum in com.pax.dal.entity"><code>EIdKeycCalcMode</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 加密的数据 </div> <div class="en">Encrypt Result </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setKeyboardLayoutLandscape-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyboardLayoutLandscape</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1478">setKeyboardLayoutLandscape</a>(boolean&nbsp;landscape)
                         throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设置密码键盘横向显示。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div>
 <div class="en">Set password keyboard horizontal display. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>landscape</code> - <div class="zh"> true:横向 false:竖向。 注: 密码键盘横屏显示不支持自定义键盘,跟IPed.setKeyBoardLayout接口不能一起调用。 </div>
            <div class="en">true:horizontalfalse:vertical. Note: The horizontal screen display of the password keyboard does not support custom keyboards and
            cannot be called together with the IPed.setKeyBoardLayout interface.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setKeyBoardLayout-boolean-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyBoardLayout</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1536">setKeyBoardLayout</a>(boolean&nbsp;isOnce,
                         java.lang.String&nbsp;layoutInfo)
                  throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设置定制的Pin输入键盘布局 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Set the custom Pin input keyboard layout. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isOnce</code> - <div class="zh"> true:单次有效 false:重启机器前有效 </div> <div class="en">true:single effect false:effective before restarting the device</div></dd>
<dd><code>layoutInfo</code> - <div class="zh"> 定制Pin输入键盘布局 ，json格式的字符串，
             模板：{
                      "areas": [{
                          "type": "NUM",
                          "geometry": "x,y,w,h"
                          },
                          {
                          "type": "CANCEL",
                          "geometry": "x,y,w,h"
                          },
                           {
                          "type": "ENTER",
                          "geometry": "x,y,w,h"
                          },
                          {
                          "type": "CLEAR",
                          "geometry": "x,y,w,h"
                          }
                      ]
                  }
              type表示键类型，NUM表示数字键，CLEAR表示清除键，ENTER表示确认件，CANCEL表示取消键
              geomentry表示键盘布局，x表示x坐标，y表示y坐标，w表示宽，h表示高</div>
              <div class="en">custom Pin input keyboard layout, json-formatted string,
              template:
              {
                      "areas": [{
                          "type": "NUM",
                          "geometry": "x,y,w,h"
                          },
                          {
                          "type": "CANCEL",
                          "geometry": "x,y,w,h"
                          },
                           {
                          "type": "ENTER",
                          "geometry": "x,y,w,h"
                          },
                          {
                          "type": "CLEAR",
                          "geometry": "x,y,w,h"
                          }
                      ]
                  }
              type:key type,NUM:number key,CLEAR:clear key,ENTER:enter key,CANCEL:cancel key.
              geomentry:key layout parameters,x:x-coordinate,y:y-coordinate,w:width,h:height.
              </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 数字键盘的顺序，为10个字节byte数组 </div> <div class="en">numeric keypad order, 10 byte array</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeAesKey-com.pax.dal.entity.EPedKeyType-byte-byte-byte:A-com.pax.dal.entity.EAesCheckMode-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAesKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1700">writeAesKey</a>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
                 byte&nbsp;srcKeyIndex,
                 byte&nbsp;destkeyIndex,
                 byte[]&nbsp;destKeyValue,
                 <a href="../../../com/pax/dal/entity/EAesCheckMode.html" title="enum in com.pax.dal.entity">EAesCheckMode</a>&nbsp;checkMode,
                 byte[]&nbsp;checkBuf)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">写入一个AES密钥，并可以选择使用KCV验证密钥正确性。仅支持TAESK。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div class="en"> To write Aes key to PED, and use KCV to check the
 key correction.only allow TAESK. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> <div class="zh">
            <p>
            原密钥类型
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#AES_TMK"><code>EPedKeyType.AES_TMK</code></a></li>
            </ul>
            </div> <div class="en">
            <p>
            Source Key Type
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#AES_TMK"><code>EPedKeyType.AES_TMK</code></a></li>
            </ul>
            </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">
            <p>
            原密钥索引
            </p>
            <ul>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>时, srcKeyIndex=1有效</li>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>时, srcKeyIndex=[1~100]有效</li>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#AES_TMK"><code>EPedKeyType.AES_TMK</code></a>时, srcKeyIndex=[1~100]有效</li>
            </ul>
            当srcKeyIndex = 0，密钥将以明文形式写入PED。 </div> <div class="en">
            <p>
            Source Key Index
            </p>
            <ul>
            <li>when srcKeyType=TLK, srcKeyIndex=1</li>
            <li>when srcKeyType=TMK, srcKeyIndex=[1~100]</li>
            <li>when srcKeyType=AES_TMK, srcKeyIndex=[1~100]</li>
            </ul>
            when srcKeyIndex = 0，The key will be written to PED in clear text. </div></dd>
<dd><code>destkeyIndex</code> - <div class="zh">
            <p>
            目的密钥索引[1-100]
            </p>
            </div> <div class="en">
            <p>
            Destination Key Index[1-100]
            </p>
            </div></dd>
<dd><code>destKeyValue</code> - <div class="zh">
            <p>
            密钥明文或密文,16/24/32bytes
            </p>
            </div> <div class="en">
            <p>
            Cryptograph or Plaintext,16/24/32bytes
            </p>
            </div></dd>
<dd><code>checkMode</code> - <a href="../../../com/pax/dal/entity/EAesCheckMode.html" title="enum in com.pax.dal.entity"><code>EAesCheckMode</code></a> <div class="zh">
            <p>
            校验模式
            </p>
            <ul>
            <li>checkMode=KCV_NONE -无验证.</li>
            <li>checkMode=KCV_ENCRYPT_0 -对16个字节的0x00进行AES ECB模式加密运算，得到的密文的前4个字节即为KCV值。</li>
            <li>checkMode=KCV_ENCRYPT_FIX_DATA -首先对密钥明文进行奇校验，再对16字节长度
            ―\x12\x34\x56\x78\x90\x12\x34\x56\x12\x34\x56\x78\x90\x12\x34\x56‖进行AES ECB模式的加密运算，得到的密文的前4个字节即为KCV值。</li>
            <li>checkMode=KCV_MAC_INPUT_DATA -传入一串数据KcvData，使用源密钥对[aucDstKeyValue(密文)+
            KcvData]进行指定模式的MAC运算，得到的8个字节的MAC值即为KCV值。</li>
            </ul>
            </div> <div class="en">
            <p>
            Check Mode
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -No Check</li>
            <li>When checkMode=KCV_ENCRYPT_0 -Perform AES ECB mode encryption on 16 bytes 0x00, and use first 4
            bytes as KCV.</li>

            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -Perform parity check first, then perform AES ECB mode
            encryption on 16 bytes―\x12\x34\x56\x78\x90\x12\x34\x56\x12\x34\x56\x78\x90\x12\x34\x56‖, and use
            first 4 bytes as KCV.</li>

            <li>When checkMode=KCV_MAC_INPUT_DATA -Send in data KcvData, use source key to perform specified mode
            of MAC on [aucDesKeyValue(ciphertext) +KcvData], and use the 8 bytes result as KCV.</li>
            </ul>
            </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
            <p>
            校验数据缓冲区
            </p>
            <ul>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a>时 checkBuf的值无效,系统认为不验证KCV,可以为null</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a>时checkBuf为KCV的值</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a>时checkBuf为KCV的值</li>
            <li>当iCheckMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a>时按以下规则提供checkBuf:
            <p>
            checkBuf[0]= KcvData长度(KcvDataLen)
            </p>
            <p>
            checkBuf+1: KcvData
            </p>
            <p>
            checkBuf[1+KcvDataLen]=MAC运算模式,参考<a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-"><code>getMac(byte, byte[], EPedMacMode)</code></a>中的mode参数
            </p>
            <p>
            checkBuf[2+KcvDataLen]=KCV长度
            </p>
            <p>
            checkBuf[3+KcvDataLen]是KCV的值
            </p>
            </li>
            </ul>
            </div> <div class="en">
            <p>
            Check Data Buffer
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -PED won't check KCV, this data is no meaning.</li>
            <li>When checkMode=KCV_ENCRYPT_0 -4 bytes key check value</li>
            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -4 bytes key check value</li>
            <li>When iCheckMode=KCV_MAC_INPUT_DATA - checkBuf as follows: checkBuf[0] = length of KcvData
            checkBuf+1: kcvData checkBuf[1+kcvDataLen]: MAC computation mode
            <a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-"><code>getMac(byte, byte[], EPedMacMode)</code></a> checkBuf[2+kcvDataLen]:KCV length
            checkBuf[3+kcvDataLen]:KCV Value</li>
            </ul>
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.00.02</dd>
</dl>
</li>
</ul>
<a name="calcAes-byte-byte:A-byte:A-com.pax.dal.entity.ECryptOperate-com.pax.dal.entity.ECryptOpt-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcAes</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1730">calcAes</a>(byte&nbsp;keyIdx,
               byte[]&nbsp;initvector,
               byte[]&nbsp;dataIn,
               <a href="../../../com/pax/dal/entity/ECryptOperate.html" title="enum in com.pax.dal.entity">ECryptOperate</a>&nbsp;operation,
               <a href="../../../com/pax/dal/entity/ECryptOpt.html" title="enum in com.pax.dal.entity">ECryptOpt</a>&nbsp;option)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 用AES算法进行加密或者解密 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en"> Use AES algorithm to encrypt or decrypt. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> AES_TDK 密钥索引: 1~40</div> <div class="en"> AES_TDK Key index: 1~40 </div></dd>
<dd><code>initvector</code> - <div class="zh">使用CBC/OFB 模式进行加解密运算时需要用到，若InitVector为NULL，则默认为16字节的全0x00。 使用ECB加解密时不需要，可以为NULL。 </div>
            <div class="en"> ECB mode: init vector is null .CBC mode: init vector, 16 bytes. </div></dd>
<dd><code>dataIn</code> - <div class="zh">待运算的数据.应小于等于1024字节，且为16的倍数。 </div> <div class="en"> Input data to be encrypted or
            decrypted. Max length <= 1024, and that is a multiple of 16.</div></dd>
<dd><code>operation</code> - <ul>
            <li><a href="../../../com/pax/dal/entity/ECryptOperate.html#ENCRYPT"><code>ECryptOperate.ENCRYPT</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECryptOperate.html#DECRYPT"><code>ECryptOperate.DECRYPT</code></a></li>
            </ul></dd>
<dd><code>option</code> - <ul>
            <li><a href="../../../com/pax/dal/entity/ECryptOpt.html#ECB"><code>ECryptOpt.ECB</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECryptOpt.html#CBC"><code>ECryptOpt.CBC</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECryptOpt.html#OFB"><code>ECryptOpt.OFB</code></a></li>
            </ul></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 加密或者解密后的数据 </div> <div class="en"> encrypted or decrypted data </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.00.02</dd>
</dl>
</li>
</ul>
<a name="setKeyboardRandom-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyboardRandom</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1742">setKeyboardRandom</a>(boolean&nbsp;random)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">设置键盘按键显示模式，固定序列或随机序列(默认)。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Set keyboard display mode, fixed sequence or
 random sequence (default). <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>random</code> - true:random false:fixed sequence</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.00.03</dd>
</dl>
</li>
</ul>
<a name="genRSAKey-byte-byte-short-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>genRSAKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1759">genRSAKey</a>(byte&nbsp;pvtKeyIdx,
               byte&nbsp;pubKeyIdx,
               short&nbsp;modLenBit,
               byte&nbsp;pubExpType)
        throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 生成RSA密钥对并注入PED。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div>
 <div class="en"> Generate RSA key pairs then inject into PED. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pvtKeyIdx</code> - <div class="zh">私钥索引1-10</div> <div class="en"> Private key index 1-10 </div></dd>
<dd><code>pubKeyIdx</code> - <div class="zh">公钥索引1-10</div> <div class="en">Public key index 1-10</div></dd>
<dd><code>modLenBit</code> - <div class="zh"> 模长，支持512,1024,2048。 </div> <div class="en"> Modulus len,support 512,1024,2048. </div></dd>
<dd><code>pubExpType</code> - <div class="zh"> 公共指数类型：0:3 1:65537 </div> <div class="en"> Public exponent type: 0:3 1:65537 </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.01.00</dd>
</dl>
</li>
</ul>
<a name="setPort-com.pax.dal.entity.EUartPort-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPort</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1769">setPort</a>(<a href="../../../com/pax/dal/entity/EUartPort.html" title="enum in com.pax.dal.entity">EUartPort</a>&nbsp;port)</pre>
<div class="block"><div class="zh"> 设置外置PED的连接端口。支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> 类型。</div>
 <div class="en"> Set connection port of the external PED. <a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEC"><code>EPedType.EXTERNAL_TYPEC</code></a> is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>port</code> - <a href="../../../com/pax/dal/entity/EUartPort.html" title="enum in com.pax.dal.entity"><code>EUartPort</code></a></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.02.00</dd>
</dl>
</li>
</ul>
<a name="getPinBlock-byte-java.lang.String-byte:A-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinBlock</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1880">getPinBlock</a>(byte&nbsp;keyIndex,
                   java.lang.String&nbsp;expPinLen,
                   byte[]&nbsp;dataIn,
                   byte&nbsp;mode,
                   int&nbsp;timeoutMs)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div class="en"> Scan the keyboard PIN entry and
 output the PIN BLOCK encrypted data block in a specific time. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TPK的索引 </div> <div class="en"> [1~100] TPK index </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合
            可输入的合法密码长度    字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。
            若枚举0长度则示意可以不输任何数字而直接按确认键返回。
            <p>
            若枚举长度存在无效值，则忽略无效值。若输入长度超过设置长度，则忽略超出的输入。
            </p>
            <p>
            当mode=0x05的时候，该参数为"5"
            </p>
            </div> <div class="en"> Enumeration of 0-12.The enter password string with legal length. Application
            enumerates of all possible lengths of PIN. ","will be used to separate each number of length. If no
            PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6". 0 means that no PIN is
            required, and pressing "Enter" will return.
            <p>
             If there is an invalid value in the enumeration length, the invalid value will be ignored.
             If the input length exceeds the set length, the excess input will be ignored.
            </p>
            <p>
            When mode=0x05，it should be "5"
            </p>
            </div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>当mode=0x00时, DataIn指向卡号移位后生成的16位主帐号。</li>
            <li>当mode=0x01时, DataIn被忽略.接口内部采用随机数填充PINBlock。</li>
            <li>当mode=0x02时, DataIn指向位移后的16位PAN。</li>
            <li>当mode=0x03时, 为交易流水号ISN [6 Bytes,ASCII码]</li>
            <li>当Mode=0x05时, DataIn包含卡账号和CCS数据，格式为PANlen(1个字节) + CCSlen（1个字节） + PAN（PANlen个字节） +
            CCS（CCSlen个字节）。其中PAN为卡账号（ASCII码），目前限定PANlen必须为18，CCSlen必须为0或者8，CCS为ASCII码格式。</li>
            <li>当mode=0x14时，DataIn为原始主帐号。</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When mode=0x00, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=0x01, DataIn is ignored. The interface uses random numbers to fill PINBlock internally.</li>
            <li>When mode=0x02, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=0x03, dataIn is ISN [6 Bytes, ASCII code]</li>
            <li>When Mode=0x05, DataIn contains card account and CCS data. The format is PANlen (1 bytes) + CCSlen
            (1 bytes) + PAN (PANlen byte) + CCS (CCSlen byte). In which PAN is a card account (ASCII code), the
            current limited PANlen must be 18, CCSlen must be 0 or 8, CCS is ASCII code format.</li>
            <li>When mode=0x14, DataIn is the original primary account.</li>
            </ul>
            </div></dd>
<dd><code>mode</code> - <div class="zh"> PIN BLOCK的格式
            <ul>
            <li>0x00:ISO9564_0</li>
            <li>0x01:ISO9564_1</li>
            <li>0x02:ISO9564_3</li>
            <li>0x03:HK EPS</li>
            <li>0x04:预留</li>
            <li>0x05:Italy 专用模式</li>
            <li>0x06:AS2805 zero length PIN block mode。不会要求输入PIN，不会弹出输PIN窗口，expPinLen必须为0。</li>
            <li>0x11:使用AES_TPK加密,pinblock是日本的hit特殊模式</li>
            <li>0x12:使用AES_TPK加密,pinblock是日本的PKCS7模式</li>
            <li>0x14:使用AES_TPK加密,pinblock是ISO9564 格式4</li>
            <li>0x50:3DES-CBC</li>
            </ul>
            </div> <div class="en"> PIN BLOCK Format
            <ul>
            <li>0x00:ISO9564_0</li>
            <li>0x01:ISO9564_1</li>
            <li>0x02:ISO9564_3</li>
            <li>0x03:HK EPS -EPS PINBLOCK Format</li>
            <li>0x04:Reserved</li>
            <li>0x05:Italy special mode</li>
            <li>0x06:AS2805 zero length PIN block mode。The pin input window will not pop up. expPinLen must be 0.</li>
            <li>0x11:Using AES_TPK encryption, pinblock is Japan's hit special mode</li>
            <li>0x12:Using AES_TPK encryption, pinblock is Japan's PKCS7 mode</li>
            <li>0x14:Using AES_TPK encryption, pinblock is in ISO9564 format 4</li>
            <li>0x50:3DES-CBC</li>
            </ul>
            </div></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            <p>
            0:表示没有超时时间，PED不做超时控制
            </p>
            </div> <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            <p>
            0: No timeout time, not doing timeout control for PED.
            </p>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回pinBlock，如果bypass 返回NULL。如果mode=0x11，返回16字节数组。 </div> <div class="en"> Return pinBlock byte array, if
         bypass,return NULL. If mode=0x11,return 16 byte array.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.02.00</dd>
</dl>
</li>
</ul>
<a name="readRSAKey-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readRSAKey</h4>
<pre><a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity">RSAKeyInfo</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1892">readRSAKey</a>(byte&nbsp;rsaKeyIndex)
               throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 读取RSA公钥密钥 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en"> Read rsa public key. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rsaKeyIndex</code> - <div class="zh"> RSA公钥索引[1-10] </div> <div class="en"> RSA public key index [1-10] </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity"><code>RSAKeyInfo</code></a> </div> <div class="en"> <a href="../../../com/pax/dal/entity/RSAKeyInfo.html" title="class in com.pax.dal.entity"><code>RSAKeyInfo</code></a></div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V2.03.00</dd>
</dl>
</li>
</ul>
<a name="setFunctionKey-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFunctionKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.1946">setFunctionKey</a>(byte&nbsp;ucKey)
             throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设定某些功能键的功能。PED 上电后,CLEAR 键的默认功能为,持卡人输入 PIN 时,按 CLEAR 键, 清除已输入的 PIN。可以通过该函数来设置 CLEAR 键的不同功能。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。
 </div> <div class="en">The function of setting some function keys. After the PED is powered on, the default
 function of the CLEAR key is to press the CLEAR key to clear the incoming PIN when the cardholder enters PIN.
 This function can be used to set different functions of the CLEAR key. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ucKey</code> - <div class="zh">
            <ul>
            <li>ucKey为0x00时，表示在已输入的PIN已经清空或者没有输入PIN时按CLEAR键的功能，PED退出输入密码状态，并返回PED_RET_ERR_INPUT_CLEAR。</li>
            <li>
            ucKey为0x01时，表示调用该函数后，密码输入的接口(PedGetPinBlock、PedGetPinDukpt、PedVerifyPlainPin、PedVerifyCipherPin)
            在输入PIN过程中，按下CLEAR键，逐个清除最后输入的PIN，当清空所有已输入的PIN时，不退出输入PIN函数。</li>
            <li>ucKey为0x02时，表示允许按ATM4键，结束PIN输入，对于无ATM键的机型无效。</li>
            <li>ucKey为0x03时，表示允许按功能键，结束PIN输入，对于无FN键的机型无效。</li>
            <li>ucKey为0x04时，表示没有输入PIN时按CLEAR键，PED退出输入密码状态，并返回PED_RET_ERR_INPUT_CLEAR；当有PIN输入时，按CLEAR键逐个清除最后输入的PIN，当清空所有已输入的PIN时，不退出输入PIN函数</li>
            <li>ucKey为0x05时，表示没有输入PIN时按CLEAR键，PED退出输入密码状态，并返回PED_RET_ERR_INPUT_CLEAR；当有PIN输入时，按CLEAR键会一次性全部清除所有输入的PIN，当清空所有已输入的PIN时再按CLEAR键，不退出输入PIN函数。</li>
            <li>ucKey为0x07时，表示当PIN输入达到指定个数时，无需用户手动按确认键，自动结束PIN输入。</li>
            <li>ucKey为0xff时，表示恢复功能键默认功能。</li>
            </ul>
            备注：<br>
            （1）ucKey为0x00，0x01，0x04，0x05时，描述的是按CLEAR键的功能，只能选一种。<br>
            （2）ucKey为0x07时，描述的是自动完成PIN输入的功能。<br>
            （3）ucKey为0x02，0x03时，描述的是重新自定义可以结束PIN输入的按键（要看所使用的机型是否有这个按键）。<br>
            （1），（2）和（3）这三种情况是可以同时设置起效的。比如setFunctionKey(0x00)后还可以设置setFunctionKey(0x07)。
            </div> <div class="en">
            <ul>
            <li>When ucKey is 0x00, it means that PED exits the input password state and returns to
            PED_RET_ERR_INPUT_CLEAR when the input PIN is empty or does not enter PIN with the CLEAR key.</li>
            <li>
            When ucKey is 0x01, when the function is called, the interface (PedGetPinBlock, PedGetPinDukpt,
            PedVerifyPlainPin, PedVerifyCipherPin) of the password input is pressed by the CLEAR key in the input
            PIN process, and the final PIN is removed one by one. When all the entered PIN are emptied, the input
            PIN function is not exited.</li>
            <li>When ucKey is 0x02, it means that the ATM4 input is allowed to end the PIN input, which is invalid
            for the machine without ATM key.</li>
            <li>When ucKey is 0x03, it means that the PIN input is allowed to press the function key, which is
            invalid for the FN free key.</li>
            <li>When ucKey is 0x04, it means pressing CLEAR when PIN is not entered, PED exits the password input state and returns PED_RET_ERR_INPUT_CLEAR; when there is PIN input, press CLEAR key to clear the last PIN one by one, and when all the PIN input is emptied, it does not exit the input PIN function.</li>
            <li>When ucKey is 0x05, it means pressing CLEAR when PIN is not entered, PED exits the password state and returns to PED_RET_ERR_INPUT_CLEAR; when there is PIN input, pressing CLEAR key clears all input PINs at one time, and then pressing CLEAR key when all input PINs are emptied, and does not exit the input PIN function.</li>
            <li>When ucKey is 0x07, it means that when the PIN input reaches the specified number, the user does not need to manually press the confirm key, but automatically ends the PIN input.</li>
            <li>When ucKey is 0xff, it means restoring the default function of the function key.</li>
            </ul>
            Notes:<br>
            (1)If ucKey is 0x00, 0x01, 0x04 or 0x05, it describes the function of pressing the CLEAR key. Only one function can be selected.<br>
            (2)If ucKey is 0x07, it describes the function of automatically completing PIN input.<br>
            (3)If ucKey is 0x02 or 0x03, it describes a button that can be re-customized to end the PIN entry (depending on whether the model you are using has this button).<br>
            (1), (2) and (3) can be set to take effect at the same time. For example, you can call setFunctionKey(0x07) after setFunctionKey(0x00).
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.00.00</dd>
</dl>
</li>
</ul>
<a name="getDUKPTPin-byte-java.lang.String-byte:A-java.lang.Boolean-java.lang.String-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDUKPTPin</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2007">getDUKPTPin</a>(byte&nbsp;groupIndex,
                        java.lang.String&nbsp;expPinLen,
                        byte[]&nbsp;dataIn,
                        java.lang.Boolean&nbsp;isByPass,
                        java.lang.String&nbsp;msg1,
                        java.lang.String&nbsp;msg2,
                        int&nbsp;timeoutMs)
                 throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 在PED上输入PIN，并使DUKPT的PIN密钥计算PINBlock，仅适用于type-c类外置密码键盘。</div> <div class="en"> PINBlock Input the PIN on PED,and use
 the PINkey of DUKPT to calculate the PINBlock. Only for external type-c pinpad</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100]DUKPT引擎索引, 0,1,2 </div> <div class="en"> [1~100] DUKPT key group id， 0,1,2</div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 4~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"4,6"。</div>
            <div class="en"> Enumeration of 4-12.The enter password string with
            legal length. Application enumerates of all possible lengths of PIN. ","will be used to separate each number of length. </div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>dataIn指向卡号移位后生成的16位主帐号</li>

            </ul>
            </div> <div class="en">
            <ul>
           <li>dataIn is the 16 bytes primary account number after shifting.</li>
            </ul>
            </div></dd>
<dd><code>isByPass</code> - <div class="zh">
            <ul>
            <li>是否允许不输入密码，true:意味着可以直接按Enter键返回</li>
            </ul>
            </div> <div class="en">
            <ul>
           <li>true:means that no PIN is required, and pressing "Enter" will return.</li>
           </ul>
           </div></dd>
<dd><code>msg1</code> - <div class="zh">提示1。</div> <div class="en">Hint 1.</div></dd>
<dd><code>msg2</code> - <div class="zh">提示2。</div> <div class="en">Hint 2.</div></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            <p>
            0:表示没有超时时间，PED不做超时控制
            </p>
            </div> <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            <p>
            0: No timeout time, not doing timeout control for PED.
            </p>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>DUKPTResult <a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="setKeyBoardType-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyBoardType</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2029">setKeyBoardType</a>(int&nbsp;type)
              throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设置PIN输入的密码键盘类型。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div class="en"> set keyboard type. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - <div class="zh">
            <ul>
            <li>0:同时开启物理键盘和虚拟键盘输入</li>
            <li>1:只开启物理键盘输入</li>
            <li>2:只开启虚拟键盘输入</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>0:Open physical keyboard and virtual keyboard input simultaneously.</li>
            <li>1:Only physical keyboard input is enabled.</li>
            <li>2:Open virtual keyboard input only</li>
            </ul>
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getKeyBoardType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyBoardType</h4>
<pre>int&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2049">getKeyBoardType</a>()
             throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 获取PIN输入的密码键盘类型 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en"> get keyboard type for PIN entry. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">
         <ul>
         <li>0:同时开启物理键盘和虚拟键盘输入</li>
         <li>1:只开启物理键盘输入</li>
         <li>2:只开启虚拟键盘输入</li>
         </ul>
         </div> <div class="en">
         <ul>
         <li>0:Open physical keyboard and virtual keyboard input simultaneously.</li>
         <li>1:Only physical keyboard input is enabled.</li>
         <li>2:Open virtual keyboard input only</li>
         </ul>
         </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="getPinBlock-byte-java.lang.String-byte:A-byte-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinBlock</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2160">getPinBlock</a>(byte&nbsp;keyIdx,
                   java.lang.String&nbsp;expPinLen,
                   byte[]&nbsp;dataIn,
                   byte&nbsp;mode,
                   int&nbsp;timeoutMs,
                   int&nbsp;controlTime)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div class="en"> Scan the keyboard PIN entry and
 output the PIN BLOCK encrypted data block in a specific time. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh"> [1~100] TPK的索引 </div> <div class="en"> [1~100] TPK index </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合
            可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用"，"号隔开每个长度，如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。
            若枚举0长度则示意可以不输任何数字而直接按确认键返回。
            <p>
             若枚举长度存在无效值，则忽略无效值。若输入长度超过设置长度，则忽略超出的输入。
            </p>
            <p>
            当mode=0x05的时候，该参数为"5"
            </p>
            </div> <div class="en"> Enumeration of 0-12.The enter password string with legal length. Application
            enumerates of all possible lengths of PIN. ","will be used to separate each number of length. If no
            PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6". 0 means that no PIN is
            required, and pressing "Enter" will return.
            <p>
             If there is an invalid value in the enumeration length, the invalid value will be ignored.
             If the input length exceeds the set length, the excess input will be ignored.
            </p>
            <p>
            When mode=0x05，it should be "5"
            </p>
            </div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>当mode=0x00时, DataIn指向卡号移位后生成的16位主帐号。</li>
            <li>当mode=0x01时, DataIn被忽略.接口内部采用随机数填充PINBlock。</li>
            <li>当mode=0x02时, DataIn指向位移后的16位PAN。</li>
            <li>当mode=0x05时, DataIn包含卡账号和CCS数据，格式为PANlen(1个字节) + CCSlen（1个字节） + PAN（PANlen个字节） +
            CCS（CCSlen个字节）。其中PAN为卡账号（ASCII码），目前限定PANlen必须为18，CCSlen必须为0或者8，CCS为ASCII码格式。</li>
            <li>当mode=0x14时，DataIn为原始主帐号。</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When mode=0x00, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=0x01, DataIn is ignored. The interface uses random numbers to fill PINBlock internally.</li>
            <li>When mode=0x02, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=0x03, dataIn is ISN [6 Bytes, ASCII code]</li>
            <li>When mode=0x05, DataIn contains card account and CCS data. The format is PANlen (1 bytes) + CCSlen
            (1 bytes) + PAN (PANlen byte) + CCS (CCSlen byte). In which PAN is a card account (ASCII code), the
            current limited PANlen must be 18, CCSlen must be 0 or 8, CCS is ASCII code format.</li>
            <li>When mode=0x14, DataIn is the original primary account.</li>
            </ul>
            </div></dd>
<dd><code>mode</code> - <div class="zh"> PIN BLOCK的格式
            <ul>
            <li>0x00:ISO9564_0</li>
            <li>0x01:ISO9564_1</li>
            <li>0x02:ISO9564_3</li>
            <li>0x03:HK EPS</li>
            <li>0x04:预留</li>
            <li>0x05:Italy 专用模式</li>
            <li>0x11:使用AES_TPK加密,pinblock是日本的hit特殊模式</li>
            <li>0x12:使用AES_TPK加密,pinblock是日本的PKCS7模式</li>
            <li>0x14:使用AES_TPK加密,pinblock是ISO9564 格式4</li>
            <li>0x50:3DES-CBC</li>
            </ul>
            </div> <div class="en"> PIN BLOCK Format
            <ul>
            <li>0x00:ISO9564_0</li>
            <li>0x01:ISO9564_1</li>
            <li>0x02:ISO9564_3</li>
            <li>0x03:HK EPS -EPS PINBLOCK Format</li>
            <li>0x04:Reserved</li>
            <li>0x05:Italy special mode</li>
            <li>0x11:Using AES_TPK encryption, pinblock is Japan's hit special mode</li>
            <li>0x12:Using AES_TPK encryption, pinblock is Japan's PKCS7 mode</li>
            <li>0x14:Using AES_TPK encryption, pinblock is in ISO9564 format 4</li>
            <li>0x50:3DES-CBC</li>
            </ul>
            </div></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            <p>
            0:表示没有超时时间，PED不做超时控制
            </p>
            </div> <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            <p>
            0: No timeout time, not doing timeout control for PED.
            </p>
            </div></dd>
<dd><code>controlTime</code> - <div class="zh"> 等待第二个及之后的按键的超时时间,单位：毫秒(超过30s的为30s) </div>
        <div class="en"> The time-out for waiting for the second and subsequent keys in milliseconds (30 seconds for more than 30 seconds) </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回pinBlock，如果bypass 返回NULL。如果mode=0x11，返回16字节数组。 </div> <div class="en"> Return pinBlock byte array, if
         bypass,return NULL. If mode=0x11,return 16 byte array.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.02.00</dd>
</dl>
</li>
</ul>
<a name="verifyPlainPin-byte-java.lang.String-byte-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyPlainPin</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2205">verifyPlainPin</a>(byte&nbsp;slot,
                      java.lang.String&nbsp;expPinLen,
                      byte&nbsp;mode,
                      int&nbsp;timeoutMs,
                      int&nbsp;controlTime)
               throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 实现脱机明文PIN校验功能。获取明文PIN，然后按照应用提供的卡片命令与卡片通道号，将明文PIN BLOCK直接发送给卡片(PIN BLOCK格式在用法部分描述)。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div
 class="en"> Achieve the function of verifying plaintext offline PIN. Get plaintext PIN and then Send plaintext
 PIN BLOCK to card according to card command and card slot number (PIN BLOCK format will be provided in operation
 part.). <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - <div class="zh"> 卡片所在的卡座号 </div> <div class="en"> card slot number </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合 可输入的合法密码长度字符串，应用程序把允许的密 码长度全部枚举出来，并且用","号隔开每个长度， 如允许输入4、6位密码并且允许无密码直接按确认，
            则该字符串应该设置为"0,4,6" </div> <div class="en"> Enumeration of 0-12.The enter password string with legal
            length. Application enumerates all possible lengths of PIN. ‘,’ will be used to separate each number
            of length. If 4 or 6 digits of PIN are allowed and it is also allowed to press ‘Enter’ without PIN
            .Then this string should be set as ‘0, 4, and 6’. </div></dd>
<dd><code>mode</code> - <div class="zh">
              <ul>
                  <li>0x00: I C卡命令模式，现支持符合EMV2000的IC卡命令。</li>
                  <li>0x01: 给WIC使用。</li>
              </ul>
             </div>
             <div class="en">
              <ul>
                  <li>0x00: IC Card Command Mode,Currently support EMV2000.</li>
                  <li>0x01: For WIC.</li>
              </ul>
             </div></dd>
<dd><code>timeoutMs</code> - <div class="zh"> 输入PIN的超时时间，单位：毫秒 最大值为300000ms </div> <div class="en"> The timeout of PIN entry
            [ms],Maximum is 300000ms. </div></dd>
<dd><code>controlTime</code> - <div class="zh"> 等待第二个及之后的按键的超时时间,单位：毫秒(超过30s的为30s) </div>
        <div class="en"> The time-out for waiting for the second and subsequent keys in milliseconds (30 seconds for more than 30 seconds) </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 卡片响应的状态码 (2字节：SW1+SW2) </div> <div class="en"> The status code of card response (2
         bytes: SW1+SW2). </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.02.00</dd>
</dl>
</li>
</ul>
<a name="verifyCipherPin-byte-java.lang.String-com.pax.dal.entity.RSAPinKey-byte-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyCipherPin</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2244">verifyCipherPin</a>(byte&nbsp;slot,
                       java.lang.String&nbsp;expPinLen,
                       <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity">RSAPinKey</a>&nbsp;rsaPinKey,
                       byte&nbsp;mode,
                       int&nbsp;timeoutMs,
                       int&nbsp;controlTime)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 实现脱机密文PIN校验功能。先获取明文PIN，再用应用提供的RsaPinKey对明文PIN按照EMV规范进行加密，然后用应用提供的卡片命令与卡片通道号，将密文PIN直接发送给卡片 。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en"> Verify enciphered PIN offline. Get plain text PIN and then use RsaPinKey provided by application
 to encrypt plaintext PIN according to EMV standard. Send enciphered PIN to card according to card command and
 card channel number provided by application. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - <div class="zh"> 卡片所在的卡座号 </div> <div class="en"> card slot number </div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12的枚举集合 可输入的合法密码长度字符串，应用程序把允许的密 码长度全部枚举出来，并且用","号隔开每个长度， 如允许输入4、6位密码并且允许无密码直接按确认，
            则该字符串应该设置为"0,4,6" </div> <div class="en"> Enumeration of 0-12.The enter password string with legal
            length. Application enumerates all possible lengths of PIN. ‘,’ will be used to separate each number
            of length. If 4 or 6 digits of PIN are allowed and it is also allowed to press ‘Enter’ without PIN
            .Then this string should be set as ‘0, 4, and 6’. </div></dd>
<dd><code>rsaPinKey</code> - <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity"><code>RSAPinKey</code></a></dd>
<dd><code>mode</code> - <div class="zh"> 0x00 IC卡命令模式，目前支持EMV2000。 </div> <div class="en"> 0x00 IC Card Command Mode,Currently
            support EMV2000. </div></dd>
<dd><code>timeoutMs</code> - <div class="zh"> 输入PIN的超时时间，单位：毫秒 最大值为300000ms </div> <div class="en"> The timeout of PIN input
            [unit:ms].Maximum is 300000Ms. </div></dd>
<dd><code>controlTime</code> - <div class="zh"> 等待第二个及之后的按键的超时时间,单位：毫秒(超过30s的为30s) </div>
        <div class="en"> The time-out for waiting for the second and subsequent keys in milliseconds (30 seconds for more than 30 seconds) </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 卡片响应的状态码 (2字节：SW1+SW2) </div> <div class="en"> The card response code (2 bytes:SW1 and
         SW2) </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.02.00</dd>
</dl>
</li>
</ul>
<a name="setKeyBoardLayout-boolean-java.util.LinkedHashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyBoardLayout</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2267">setKeyBoardLayout</a>(boolean&nbsp;isOnce,
                         java.util.LinkedHashMap&lt;android.view.View,java.lang.String&gt;&nbsp;keyboardInputs)
                  throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 设置定制的Pin输入键盘布局  ,调用此方法前，需保证传入的View已绘制完成，
  如Activity.onWindowFocusChanged(boolean hasFocus),hasFocus=true时，调用此方法。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en">Set the custom Pin input keyboard layout,This method is called before,
  need to ensure that the incoming View has been mapped, such as Activity.onWindowFocusChanged (Boolean hasFocus),
  when hasFocus equals true, this method is called. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isOnce</code> - <div class="zh"> true:单次有效 false:重启机器前有效 </div>
            <div class="en">true:single effect false:effective before restarting the device</div></dd>
<dd><code>keyboardInputs</code> - <div class="zh">键盘集合。注意：数字键必须按照键盘布局从左到右，从上到下的顺序加入Map。
                      Map.Key:键实例，Map.value:表示键类型，NUM表示数字键，CLEAR表示清除键，ENTER表示确认键，CANCEL表示取消键</div>
                      <div class="en">Keyboard set. Note: The numeric keys MUST be added to the map in order(from left to right, top to bottom),
                      according to the keyboard layout. Map.key: Key instance, Map.value: represents Key type, NUM represents number Key,
                      CLEAR represents CLEAR Key, ENTER represents confirm Key, and CANCEL represents CANCEL Key</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 数字键盘的顺序，为10个字节byte数组 </div> <div class="en">numeric keypad order, 10 byte array</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="writeTIK-byte-byte-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeTIK</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2285">writeTIK</a>(byte&nbsp;kbpkType,
              byte&nbsp;kbpkIndex,
              byte&nbsp;groupIndex,
              byte[]&nbsp;TR31keyBlock)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">注入TIK。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Injection of TIK. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>kbpkType</code> - <div class="zh">KBPK类型  0x01:TLK,0x02:TMK</div> <div class="en">KBPK type. 0x01:TLK,0x02:TMK</div></dd>
<dd><code>kbpkIndex</code> - <div class="zh">KBPK索引  当kbpkType=0x01,kbpkIndex=1;当kbpkType=0x02,kbpkIndex=[1-100]</div>
                  <div class="en">KBPK index.if kbpkType=0x01,kbpkIndex=1.if kbpkType=0x02,kbpkIndex=[1-100]</div></dd>
<dd><code>groupIndex</code> - <div class="zh">DUKPT密钥组索引号 [1~100]</div> <div class="en">DUKPT key group index number [1~100]</div></dd>
<dd><code>TR31keyBlock</code> - <div class="zh">TR-31 Key Block</div> <div class="en">TR-31 Key Block</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.06.00</dd>
</dl>
</li>
</ul>
<a name="writeKeyEx-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeKeyEx</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2518">writeKeyEx</a>(<a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;srcKeyType,
                byte&nbsp;srcKeyIndex,
                <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity">EPedKeyType</a>&nbsp;destKeyType,
                byte&nbsp;destkeyIndex,
                byte[]&nbsp;destKeyValue,
                <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity">ECheckMode</a>&nbsp;checkMode,
                byte[]&nbsp;checkBuf,
                byte[]&nbsp;keyVarIn,
                byte&nbsp;keyVarMode)
         throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 写入一个密钥，包括TLK，TMK和TWK的写入、发散，并可以选择使用KCV验证密钥正确性。Pax Tech Iberia SL客户定制。
 <p>
 当写入PED_TLK时，PED首先格式化，清除所有已经下载的密钥，再写入PED_TLK。 明文写入密钥时，srcKeyIndex=0 对于外置A类密键只能写入明文的主密钥和DES密钥，且下载密文TPK，TAK时不校验
 对于外置A类PED需要调用setExMode设置exMode <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a>， exMode默认为-1，表示写入的密钥密钥均为16字节，写入TPK TAK采用主密钥解密的方式 。
 支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。
 </p>
 </div>
 <div class="en"> Write in one key includes write in and divergent of TLK, TMK and TWK. And use KCV to check the
 key correction. For Pax Tech Iberia SL.
 <p>
 When write PED_TLK,PED will format ,clear all the key has been downloaded,then write in PED_TLK. Writing the
 plaintext into a key, when scrKeyIndex=0,need to call function setExMode <a href="../../../com/pax/dal/IPed.html#setExMode-int-"><code>setExMode(int)</code></a> for external pad.
 External srcKeyType A can only write the main key and the DES key of plaintext. And it will not check when
 downloading cryptograph TPK and TAK.
 <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported.
 </p>
 </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> <div class="zh">
            <p>
            原密钥类型
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a></li>
            </ul>
            </div> <div class="en">
            <p>
            Source Key Type
            </p>
            <ul>
            <li>TLK - Terminal Loading Key</li>
            <li>TMK - Terminal Master Key</li>
            <li>TPK -Transaction PIN Key</li>
            <li>TAK -Transaction Mac Key</li>
            <li>TDK -Terminal Des Key</li>
            </ul>
            </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">
            <p>
            原密钥索引
            </p>
            <ul>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>时, srcKeyIndex=1有效</li>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>
            /<a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a>时, srcKeyIndex=[1~100]有效</li>
            </ul>
            </div> <div class="en">
            <p>
            Source Key Index
            </p>
            <ul>
            <li>when srcKeyType=TLK, srcKeyIndex=1</li>
            <li>when srcKeyType=TMK/SM4_TMK/TPK/TAK/TDK, srcKeyIndex=[1~100]</li>
            </ul>
            </div></dd>
<dd><code>destKeyType</code> - <a href="../../../com/pax/dal/entity/EPedKeyType.html" title="enum in com.pax.dal.entity"><code>EPedKeyType</code></a> <div class="zh">
            <p>
            目的密钥类型
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TPK"><code>EPedKeyType.SM4_TPK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TAK"><code>EPedKeyType.SM4_TAK</code></a></li>
            <li><a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TDK"><code>EPedKeyType.SM4_TDK</code></a></li>
            </ul>
            </div> <div class="en">
            <p>
            Destination Key Type
            </p>
            reference srcKeyType <a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> </div></dd>
<dd><code>destkeyIndex</code> - <div class="zh">
            <p>
            目的密钥索引
            </p>
            <ul>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>时, destkeyIndex=1有效</li>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TMK"><code>EPedKeyType.SM4_TMK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TPK"><code>EPedKeyType.TPK</code></a>/
            <a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TPK"><code>EPedKeyType.SM4_TPK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#TAK"><code>EPedKeyType.TAK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TAK"><code>EPedKeyType.SM4_TAK</code></a>/
            <a href="../../../com/pax/dal/entity/EPedKeyType.html#TDK"><code>EPedKeyType.TDK</code></a>/<a href="../../../com/pax/dal/entity/EPedKeyType.html#SM4_TDK"><code>EPedKeyType.SM4_TDK</code></a>时, destkeyIndex=[1~100]有效</li>
            </ul>
            </div> <div class="en">
            <p>
            Destination Key Index
            </p>
            reference srcKeyIndex <a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(com.pax.dal.entity.EPedKeyType, byte, com.pax.dal.entity.EPedKeyType, byte, byte[], com.pax.dal.entity.ECheckMode, byte[])</code></a> </div></dd>
<dd><code>destKeyValue</code> - <div class="zh">
            <p>
            密钥明文或密文
            </p>
            </div> <div class="en">
            <p>
            Cryptograph or Plaintext
            </p>
            </div></dd>
<dd><code>checkMode</code> - <a href="../../../com/pax/dal/entity/ECheckMode.html" title="enum in com.pax.dal.entity"><code>ECheckMode</code></a> <div class="zh">
            <p>
            校验模式
            </p>
            <ul>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a></li>
            <li><a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_SM4_ENCRYPT_0"><code>ECheckMode.KCV_SM4_ENCRYPT_0</code></a></li>
            </ul>
            </div> <div class="en">
            <p>
            Check Mode
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -No Check</li>
            <li>When checkMode=KCV_ENCRYPT_0 -Perform DES/TDES encryption on 8 bytes 0x00, and use first 4 bytes
            as KCV.</li>

            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -Perform parity check first, then perform DES/TDES encryption
            on 8 bytes―\x12\x34\x56\x78\x90\x12\x34\x56, and use first 4 bytes as KCV.</li>

            <li>When iCheckMode=KCV_MAC_INPUT_DATA -Send in data KcvData, use source key to perform specified mode
            of MAC on [aucDesKeyValue +KcvData], and use the 8 bytes result as KCV.</li>

            <li>When iCheckMode=KCV_SM4_ENCRYPT_0 -Perform TDES encryption on 16 bytes 0x00 by SM4, and use first
            4 bytes as KCV.</li> </ul> </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
            <p>
            校验数据缓冲区
            </p>
            <ul>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a>时 checkBuf的值无效,系统认为不验证KCV,可以为null</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a>,4字节的kcv</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a>,4字节的kcv</li>
            <li>当iCheckMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a>时按以下规则提供checkBuf:
            <p>
            checkBuf[0]= KcvData长度(KcvDataLen)
            </p>
            <p>
            checkBuf+1: KcvData
            </p>
            <p>
            checkBuf[1+KcvDataLen]=MAC运算模式,参考<a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-"><code>getMac(byte, byte[], EPedMacMode)</code></a>中的mode参数
            </p>
            <p>
            checkBuf[2+KcvDataLen]=KCV长度
            </p>
            <p>
            checkBuf[3+KcvDataLen]是KCV的值
            </p>
            </li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_SM4_ENCRYPT_0"><code>ECheckMode.KCV_SM4_ENCRYPT_0</code></a>,4字节的kcv</li>
            </ul>
            </div> <div class="en">
            <p>
            Check Data Buffer
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -PED wont check KCV, this data is no meaning.</li>
            <li>When checkMode=KCV_ENCRYPT_0 -4 bytes key check value</li>
            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -4 bytes key check value</li>
            <li>When iCheckMode=KCV_MAC_INPUT_DATA - checkBuf as follows: checkBuf[0] = length of KcvData
            checkBuf+1: kcvData checkBuf[1+kcvDataLen]: MAC computation mode
            <a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-"><code>getMac(byte, byte[], EPedMacMode)</code></a> checkBuf[2+kcvDataLen]:KCV length
            checkBuf[3+kcvDataLen]:KCV Value</li>
            <li>When checkMode=KCV_SM4_ENCRYPT_0 -4 bytes key check value</li>
            </ul>
            </div></dd>
<dd><code>keyVarIn</code> - <div class="zh">由keyVarIn生成destKeyValue。</div> <div class="en">DestKeyValue is generated by keyVarIn.</div></dd>
<dd><code>keyVarMode</code> - <div class="zh">
             <ul>
             <li>0x00:同<a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(EPedKeyType, byte, EPedKeyType, byte, byte[], ECheckMode, byte[])</code></a>；</li>
             <li>0x01:srcKeyIndex密钥和destkeyIndex密钥的长度都必须是16字节。
             srcKeyIndex对应密钥表示SrcKey，
             SrcKey的左8个字节表示为SrcKey-L。SrcKey的右边8个字节表示为SrcKey-R。
             keyVarIn的左8个字节表示为keyVarIn-L。右8字节的keyVarIn表示为keyVarIn-R。
             K1 = SrcKey-L XOR keyVarIn-L
             K2 = SrcKey-R XOR keyVarIn-L
             K3 = SrcKey-L XOR keyVarIn-R
             K4 = SrcKey-R XOR keyVarIn-R
             使用K1K2解密destKeyValue的左8字节，然后使用K3K4解密destKeyValue的右8字节；</li>
             <li>0x02:使用OWF2算法对源密钥进行解密，解密结果存储为目标密钥； </li>
             <li>0x03:destKeyValue将由源密钥用CBC TDES算法解密并存储为目标密钥；</li>
             <li>0x04:destKeyValue将由指定的源密钥用CBC TDES算法加密并存储为目标密钥；</li>
             <li>0x05:源密钥通过3DES ECB算法加密destKeyValue得到目的密钥； </li>
             <li>0x06:源密钥通过OWF2解密destKeyValue后再异或destKeyValue得到目的密钥；</li>
             <li>0x07:源密钥通过GOWF(OWF3)模式解密destKeyValue得到目的密钥；</li>
             <li>0x09:源密钥通过APACS70 OWF模式发散destKeyValue得到目的密钥;</li>
             </ul>
             </div> <div class="en">
             <ul>
             <li>0x00:like <a href="../../../com/pax/dal/IPed.html#writeKey-com.pax.dal.entity.EPedKeyType-byte-com.pax.dal.entity.EPedKeyType-byte-byte:A-com.pax.dal.entity.ECheckMode-byte:A-"><code>writeKey(EPedKeyType, byte, EPedKeyType, byte, byte[], ECheckMode, byte[])</code></a>;</li>
             <li>0x01:Both the srcKeyIndex key and destkeyIndex key must be 16 bytes in length.
             SrcKeyIndex corresponds to the key SrcKey, and the left 8 bytes of the SrcKey are represented as Srckey-L.
             The 8 bytes to the right of the SrcKey are represented as Srckey-R.
             The left 8 bytes of keyVarIn are represented as keyvarin-L.The right 8-byte keyVarIn is represented as keyvarin-R.
             K1 = SrcKey-L XOR keyVarIn-L
             K2 = SrcKey-R XOR keyVarIn-L
             K3 = SrcKey-L XOR keyVarIn-R
             K4 = SrcKey-R XOR keyVarIn-R
             Decrypt the left 8 bytes of destKeyValue with K1K2, and then decrypt the right 8 bytes of destKeyValue with K3K4;</li>
             <li>0x02:The source key is decrypted using the OWF2 algorithm, and the decryption result is stored as the target key;</li>
             <li>0x03:The destKeyValue will be decrypted by the source key using the CBC TDES algorithm and stored as the target key;</li>
             <li>0x04:The destKeyValue will be encrypted by the specified source key with the CBC TDES algorithm and stored as the target key;</li>
             <li>0x05:The source key uses 3DES ECB algorithm to encrypt the destKeyValue to obtain the target key;</li>
             <li>0x06:The source key uses OWF2 to decrypt the destKeyValue and then xOR destKeyValue to obtain the target key;</li>
             <li>0x07:The source key uses GOWF(OWF3) mode to decrypt the destKeyValue to obtain the target key</li>
             <li>0x09:The source key diverges destKeyValue through the APACS70 OWF mode to obtain the destination key</li>
             </ul>
             </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.08.00</dd>
</dl>
</li>
</ul>
<a name="readPaxCA-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readPaxCA</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2563">readPaxCA</a>(byte&nbsp;index)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">读取PAX CA证书。</div> <div class="en">Read the PAX CA certificate.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - <div class="zh">证书索引。
 <ul>
 <li>0:PAXCA_RCA_R01_IDX  </li>
 <li>1:PAXCA_OCADEV01_IDX </li>
 <li>2:PAXCA_OCASYS01_IDX  </li>
 <li>3:PAXCA_RCA_S01_IDX  </li>
 <li>4:PAXCA_OCASMDEV01_IDX  </li>
 <li>5:PAXCA_OCASMSYS01_IDX </li>
 <li>100:PAXCA_DA_IDX </li>
 <li>101:PAXCA_DE_IDX </li>
 <li>102:PAXCA_DSIG_IDX </li>
 <li>103:PAXCA_DID_IDX </li>
 <li>104:PAXCA_DTLS_IDX </li>
 <li>105:PAXCA_DC_IDX </li>
 <li>200:PAXCA_RKIAK_IDX </li>
 </ul>
 </div>
 <div class="en">Certificate index.
 <ul>
 <li>0:PAXCA_RCA_R01_IDX  </li>
 <li>1:PAXCA_OCADEV01_IDX </li>
 <li>2:PAXCA_OCASYS01_IDX  </li>
 <li>3:PAXCA_RCA_S01_IDX  </li>
 <li>4:PAXCA_OCASMDEV01_IDX  </li>
 <li>5:PAXCA_OCASMSYS01_IDX </li>
 <li>100:PAXCA_DA_IDX </li>
 <li>101:PAXCA_DE_IDX </li>
 <li>102:PAXCA_DSIG_IDX </li>
 <li>103:PAXCA_DID_IDX </li>
 <li>104:PAXCA_DTLS_IDX </li>
 <li>105:PAXCA_DC_IDX </li>
 <li>200:PAXCA_RKIAK_IDX </li>
 </ul>
 </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">PAX CA证书。</div> <div class="en"></div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.08.00</dd>
</dl>
</li>
</ul>
<a name="writeAesKey-byte-byte-byte-byte-byte:A-com.pax.dal.entity.EAesCheckMode-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAesKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2732">writeAesKey</a>(byte&nbsp;srcKeyType,
                 byte&nbsp;srcKeyIndex,
                 byte&nbsp;destKeyType,
                 byte&nbsp;destKeyIndex,
                 byte[]&nbsp;destKeyValue,
                 <a href="../../../com/pax/dal/entity/EAesCheckMode.html" title="enum in com.pax.dal.entity">EAesCheckMode</a>&nbsp;checkMode,
                 byte[]&nbsp;checkBuf)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">写入一个AES密钥，并可以选择使用KCV验证密钥正确性。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div> <div class="en"> To write Aes key to PED, and use KCV to check the
 key correction. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <div class="zh">
            <p>
            原密钥类型。
            </p>
            <ul>
            <li>0x01:TLK.</li>
            <li>0x02:TMK.</li>
            <li>0x22:AES_TMK.</li>
            </ul>
            </div> <div class="en">
            <p>
            Source Key Type.
            </p>
            <ul>
            <li>0x01:TLK.</li>
            <li>0x02:TMK.</li>
            <li>0x22:AES_TMK.</li>
            </ul>
            </div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">
            <p>
            原密钥索引
            </p>
            <ul>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>时, srcKeyIndex=1有效</li>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>时, srcKeyIndex=[1~100]有效</li>
            <li>如果srcKeyType=<a href="../../../com/pax/dal/entity/EPedKeyType.html#AES_TMK"><code>EPedKeyType.AES_TMK</code></a>时, srcKeyIndex=[1~100]有效</li>
            </ul>
            当srcKeyIndex = 0，密钥将以明文形式写入PED。 </div> <div class="en">
            <p>
            Source Key Index
            </p>
            <ul>
            <li>when srcKeyType=TLK, srcKeyIndex=1</li>
            <li>when srcKeyType=TMK, srcKeyIndex=[1~100]</li>
            <li>when srcKeyType=AES_TMK, srcKeyIndex=[1~100]</li>
            </ul>
            when srcKeyIndex = 0，The key will be written to PED in clear text. </div></dd>
<dd><code>destKeyType</code> - <div class="zh">
            <p>
            目的密钥类型。
            </p>
            <ul>
            <li>0x20:TAESK.</li>
            <li>0x22:AES_TMK.</li>
            <li>0x23:AES_TPK.</li>
            <li>0x24:AES_TAK.</li>
            <li>0x2A:AES_PPAD.</li>
            </ul>
            </div> <div class="en">
            <p>
            Destination Key Type.
            </p>
            <ul>
            <li>0x20:TAESK.</li>
            <li>0x22:AES_TMK.</li>
            <li>0x23:AES_TPK.</li>
            <li>0x24:AES_TAK.</li>
            <li>0x2A:AES_PPAD.</li>
            </ul> </div></dd>
<dd><code>destKeyIndex</code> - <div class="zh">
            <p>
            目的密钥索引[1-100]
            </p>
            </div> <div class="en">
            <p>
            Destination Key Index[1-100]
            </p>
            </div></dd>
<dd><code>destKeyValue</code> - <div class="zh">
            <p>
            密钥明文或密文,16/24/32bytes
            </p>
            </div> <div class="en">
            <p>
            Cryptograph or Plaintext,16/24/32bytes
            </p>
            </div></dd>
<dd><code>checkMode</code> - <a href="../../../com/pax/dal/entity/EAesCheckMode.html" title="enum in com.pax.dal.entity"><code>EAesCheckMode</code></a> <div class="zh">
            <p>
            校验模式
            </p>
            <ul>
            <li>checkMode=KCV_NONE -无验证.</li>
            <li>checkMode=KCV_ENCRYPT_0 -对16个字节的0x00进行AES ECB模式加密运算，得到的密文的前4个字节即为KCV值。</li>
            <li>checkMode=KCV_ENCRYPT_FIX_DATA -首先对密钥明文进行奇校验，再对16字节长度
            ―\x12\x34\x56\x78\x90\x12\x34\x56\x12\x34\x56\x78\x90\x12\x34\x56‖进行AES ECB模式的加密运算，得到的密文的前4个字节即为KCV值。</li>
            <li>checkMode=KCV_MAC_INPUT_DATA -传入一串数据KcvData，使用源密钥对[aucDstKeyValue(密文)+
            KcvData]进行指定模式的MAC运算，得到的8个字节的MAC值即为KCV值。</li>
            </ul>
            </div> <div class="en">
            <p>
            Check Mode
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -No Check</li>
            <li>When checkMode=KCV_ENCRYPT_0 -Perform AES ECB mode encryption on 16 bytes 0x00, and use first 4
            bytes as KCV.</li>

            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -Perform parity check first, then perform AES ECB mode
            encryption on 16 bytes―\x12\x34\x56\x78\x90\x12\x34\x56\x12\x34\x56\x78\x90\x12\x34\x56‖, and use
            first 4 bytes as KCV.</li>

            <li>When checkMode=KCV_MAC_INPUT_DATA -Send in data KcvData, use source key to perform specified mode
            of MAC on [aucDesKeyValue(ciphertext) +KcvData], and use the 8 bytes result as KCV.</li>
            </ul>
            </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
            <p>
            校验数据缓冲区
            </p>
            <ul>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_NONE"><code>ECheckMode.KCV_NONE</code></a>时 checkBuf的值无效,系统认为不验证KCV,可以为null</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_0"><code>ECheckMode.KCV_ENCRYPT_0</code></a>时checkBuf为KCV的值</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_ENCRYPT_FIX_DATA"><code>ECheckMode.KCV_ENCRYPT_FIX_DATA</code></a>时checkBuf为KCV的值</li>
            <li>当checkMode=<a href="../../../com/pax/dal/entity/ECheckMode.html#KCV_MAC_INPUT_DATA"><code>ECheckMode.KCV_MAC_INPUT_DATA</code></a>时按以下规则提供checkBuf:
            <p>
            checkBuf[0]= KcvData长度(KcvDataLen)
            </p>
            <p>
            checkBuf+1: KcvData
            </p>
            <p>
            checkBuf[1+KcvDataLen]=MAC运算模式,参考<a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-"><code>getMac(byte, byte[], EPedMacMode)</code></a>中的mode参数
            </p>
            <p>
            checkBuf[2+KcvDataLen]=KCV长度
            </p>
            <p>
            checkBuf[3+KcvDataLen]是KCV的值
            </p>
            </li>
            </ul>
            </div> <div class="en">
            <p>
            Check Data Buffer
            </p>
            <ul>
            <li>When checkMode=KCV_NONE -PED won't check KCV, this data is no meaning.</li>
            <li>When checkMode=KCV_ENCRYPT_0 -4 bytes key check value</li>
            <li>When checkMode=KCV_ENCRYPT_FIX_DATA -4 bytes key check value</li>
            <li>When checkMode=KCV_MAC_INPUT_DATA - checkBuf as follows: checkBuf[0] = length of KcvData
            checkBuf+1: kcvData checkBuf[1+kcvDataLen]: MAC computation mode
            <a href="../../../com/pax/dal/IPed.html#getMac-byte-byte:A-com.pax.dal.entity.EPedMacMode-"><code>getMac(byte, byte[], EPedMacMode)</code></a> checkBuf[2+kcvDataLen]:KCV length
            checkBuf[3+kcvDataLen]:KCV Value</li>
            </ul>
            </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.08.00</dd>
</dl>
</li>
</ul>
<a name="calcDUKPTData-byte-byte-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcDUKPTData</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2801">calcDUKPTData</a>(byte&nbsp;groupIndex,
                          byte&nbsp;keyVarType,
                          byte[]&nbsp;iv,
                          byte[]&nbsp;dataIn,
                          byte&nbsp;mode)
                   throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥或DES密钥，对输入缓存内数据进行加密或解密。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en"> Use MAC key or DES key of DUKPT to encrypt or decrypt the data in the input buffer.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100] DUKPT group ID </div></dd>
<dd><code>keyVarType</code> - <div class="zh">
            <ul>
            <li>0x00: 用请求和应答MAC密钥。</li>
            <li>0x01: 用DUKPT DES密钥运算。</li>
            <li>0x02: 用DUKPT PIN密钥运算，只能做加密(mode的值只能为0x01或者0x13)，解密会返回错误。</li>
            <li>0x03: 使用应答MAC密钥，仅支持加密模式，即mode值只能为0x01、0x03、0x11、0x13。</li>
            <li>0x04: 使用应答DES密钥，仅支持加密模式，即mode值只能为0x01、0x03、0x11、0x13。</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>0x00:Use request and response MAC key.</li>
            <li>0x01:Use DUKPT DES key operation.</li>
            <li>0x02:Use DUKPT PIN key operation, only encryption(The value of mode can only be 0x01 or 0x13.), decryption will return error.</li>
            <li>0x03:Using the reply MAC key, only the encryption mode is supported, the mode value can only be 0x01, 0x03, 0x011, 0x13.</li>
            <li>0x04:Using the reply DES key, only the encryption mode is supported, the mode value can only be 0x01, 0x03, 0x011, 0x13.</li>
            </ul>
            </div></dd>
<dd><code>iv</code> - <div class="zh"> 8/16字节初始向量，CBC加解密时需要，如果传入NULL，将默认用“\x00\x00\x00\x00\x00\x00\x00\x00”或
            “\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00”作为初始向量 </div>
            <div class="en"> 8/16 bytes initialization vector, used for CBC encryption or decryption. If set it to NULL,
            it will use “\x00\x00\x00\x00\x00\x00\x00\x00” or “\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00”
            as the initialization vector by default. </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 指向需要进行运算的数据, 数据长度<=8192，8整除(AES时，16整除)。</div> <div class="en"> Point to the data which need to
            be computed.Data length less than or equal to 8192, it is divisible by 8(In AES, 16 is divisible). </div></dd>
<dd><code>mode</code> - <div class="zh">
 <ul>
 <li>0x00:ECB 解密。</li>
 <li>0x01:ECB 加密。</li>
 <li>0x02:CBC 解密。</li>
 <li>0x03:CBC 加密。</li>
 <li>0x10:AES ECB 解密。</li>
 <li>0x11:AES ECB 加密。</li>
 <li>0x12:AES CBC 解密。</li>
 <li>0x13:AES CBC 加密。</li>
 </ul>
 </div>
 <div class="en">
 <ul>
 <li>0x00:ECB decryption.</li>
 <li>0x01:ECB encryption.</li>
 <li>0x02:CBC decryption.</li>
 <li>0x03:CBC encryption.</li>
 <li>0x10:AES ECB decryption.</li>
 <li>0x11:AES ECB encryption.</li>
 <li>0x12:AES CBC decryption.</li>
 <li>0x13:AES CBC encryption.</li>
 </ul>
 </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.08.00</dd>
</dl>
</li>
</ul>
<a name="getDUKPTMac-byte-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDUKPTMac</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2853">getDUKPTMac</a>(byte&nbsp;groupIndex,
                        byte[]&nbsp;dataIn,
                        byte&nbsp;mode)
                 throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 使用DUKPT的MAC密钥计算MAC。支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 韩国Smartro定制。</div>
 <div class="en"> Use MAC Key to calculate MAC. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a>,<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported. For Korea Smartro.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100] DUKPT key group index id </div></dd>
<dd><code>dataIn</code> - <div class="zh"> 指向需要计算MAC的数据内容 </div> <div class="en"> The MAC data content needs to be calculated</div></dd>
<dd><code>mode</code> - <div class="zh">
 <ul>
 <li>0:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_00"><code>EDUKPTMacMode.MODE_00</code></a></li>
 <li>1:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_01"><code>EDUKPTMacMode.MODE_01</code></a></li>
 <li>2:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_02"><code>EDUKPTMacMode.MODE_02</code></a></li>
 <li>5:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_05"><code>EDUKPTMacMode.MODE_05</code></a></li>
 <li>20:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_20"><code>EDUKPTMacMode.MODE_20</code></a></li>
 <li>21:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_21"><code>EDUKPTMacMode.MODE_21</code></a></li>
 <li>22:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_22"><code>EDUKPTMacMode.MODE_22</code></a></li>
 <li>25:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_25"><code>EDUKPTMacMode.MODE_25</code></a></li>
 <li>40:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_40"><code>EDUKPTMacMode.MODE_40</code></a></li>
 <li>41:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_41"><code>EDUKPTMacMode.MODE_41</code></a></li>
 <li>42:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_42"><code>EDUKPTMacMode.MODE_42</code></a></li>
 <li>45:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_45"><code>EDUKPTMacMode.MODE_45</code></a></li>
 </ul>
 备注：20，22，40，42模式可以支持最大输入8k大小的输入数据，其他模式维持原来最大1k的输入数据
 </div>
 <div class="en">
 <ul>
 <li>0:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_00"><code>EDUKPTMacMode.MODE_00</code></a></li>
 <li>1:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_01"><code>EDUKPTMacMode.MODE_01</code></a></li>
 <li>2:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_02"><code>EDUKPTMacMode.MODE_02</code></a></li>
 <li>5:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_05"><code>EDUKPTMacMode.MODE_05</code></a></li>
 <li>20:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_20"><code>EDUKPTMacMode.MODE_20</code></a></li>
 <li>21:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_21"><code>EDUKPTMacMode.MODE_21</code></a></li>
 <li>22:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_22"><code>EDUKPTMacMode.MODE_22</code></a></li>
 <li>25:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_25"><code>EDUKPTMacMode.MODE_25</code></a></li>
 <li>40:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_40"><code>EDUKPTMacMode.MODE_40</code></a></li>
 <li>41:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_41"><code>EDUKPTMacMode.MODE_41</code></a></li>
 <li>42:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_42"><code>EDUKPTMacMode.MODE_42</code></a></li>
 <li>45:<a href="../../../com/pax/dal/entity/EDUKPTMacMode.html#MODE_45"><code>EDUKPTMacMode.MODE_45</code></a></li>
 </ul>
 Note: In 20, 22, 40, and 42 modes, the maximum size of input data can be 8 KB. In other modes, the maximum size of input data can be 1 KB
 </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.09.00</dd>
</dl>
</li>
</ul>
<a name="eraseKeyEx-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eraseKeyEx</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2874">eraseKeyEx</a>(byte&nbsp;mode)
         throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">擦除指定类型的密钥。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en">Erases the key of the specified type.  <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - <div class="zh">
 <ul>
 <li>0:清空TDES MK/SK DUKPT, AES MK/SK DUKPT密钥。</li>
 <li>1:清空TDES MK/SK DUKPT, AES MK/SK DUKPT, SM2、RSA密钥。</li>
 <li>2:清空 SM2、RSA密钥。</li>
 </ul></div>
 <div class="en">
 <ul>
 <li>0: Clear TDES MK/SK DUKPT, AES MK/SK DUKPT keys.</li>
 <li>1: Clear TDES MK/SK DUKPT, AES MK/SK DUKPT, SM2、RSA keys.</li>
 <li>2: Clear SM2、RSA keys.</li>
 </ul></div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.11.00</dd>
</dl>
</li>
</ul>
<a name="challengeWICKey-byte-byte-byte:A-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>challengeWICKey</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2905">challengeWICKey</a>(byte&nbsp;srcKeyIndex,
                       byte&nbsp;mode,
                       byte[]&nbsp;cardSN,
                       byte[]&nbsp;dataIn)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">WIC卡的密钥验证步骤，根据WIC密钥计算出challenge数据。接口不进行与卡片交互的步骤，仅计算出challenge数据。后续流程需要由应用处理。需要设备中存在WIC密钥（以TDK的方式保存）。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en">WIC card key verification steps, based on the WIC key to calculate the challenge data.The interface does not perform the steps of interacting with the card,
 only calculating the challenge data.Subsequent processes need to be handled by the application.The WIC key (stored as TDK) is required to be present in the device.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyIndex</code> - <div class="zh">WIC key索引。</div> <div class="en">WIC key index.</div></dd>
<dd><code>mode</code> - <div class="zh">
 <ul>
 <li>0:WIC key为16字节，根据cardSN计算出16字节daughter key，并根据dataIn算出challenge数据。</li>
 <li>1:WIC key为8字节，根据cardSN直接算出challenge数据。</li>
 <li>2:WIC key为8字节，根据cardSN直接算出challenge数据。</li>
 </ul></div> <div class="en">
 <ul>
 <li>0:The WIC key is 16 bytes. Calculate the 16-byte daughter key according to cardSN, and calculate the challenge data according to dataIn.</li>
 <li>1:The WIC key is 8 bytes, and the challenge data is directly calculated according to the cardSN.</li>
 <li>2:The WIC key is 8 bytes, and the challenge data is directly calculated according to the cardSN.</li>
 </ul></div></dd>
<dd><code>cardSN</code> - <div class="zh">8字节的Card SN信息。</div> <div class="en">8 bytes of Card SN information.</div></dd>
<dd><code>dataIn</code> - <div class="zh">输入数据。8字节。仅在mode=0时使用。当mode为其他值时传入任意数据即可。</div>
 <div class="en">Enter data.8 bytes.Used only when mode=0.Pass in any data when the mode is any other value.</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">8字节的challenge数据。</div> <div class="en">8 bytes of challenge data.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.12.00</dd>
</dl>
</li>
</ul>
<a name="inputPin-java.lang.String-long-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputPin</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2924">inputPin</a>(java.lang.String&nbsp;expPinLen,
              long&nbsp;timeoutMs,
              byte&nbsp;mode)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">输入PIN的过程，并将PIN保存在PED内部。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en">The process of entering the PIN and saving the PIN inside the PED. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expPinLen</code> - <div class="zh">0,4~12的枚举集合可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用","号隔开每个长度，
 如允许输入4、6位密码并且允许无密码直接按确认，则该字符串应该设置为"0,4,6"。若枚举0长度则示意可以不输任何数字而直接按确认键返回(仅用于特殊用途，后续的PIN操作会返回失败)。</div>
 <div class="en">Enumeration of 0,4-12.The enter password string with legal length. Application enumerates of all possible lengths of PIN.
 "," will be used to separate each number of length. If no PIN,or 4 or 6 digits of PIN are allowed, the string will be set as "0,4,6".
 0 means that no PIN is required, and pressing "Enter" will return(For special purposes only, subsequent PIN operations will return a failure).</div></dd>
<dd><code>timeoutMs</code> - <div class="zh">输入PIN的超时时间,单位：毫秒 最大值为300000ms。0:表示没有超时时间，PED不做超时控制。</div>
 <div class="en">The timeout of PIN entry [unit:ms] Maximum is 300000ms.0: No timeout time, not doing timeout control for PED.</div></dd>
<dd><code>mode</code> - <div class="zh">保留扩展，目前为0x00。</div> <div class="en">Reserved for extension, currently 0x00.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
</dl>
</li>
</ul>
<a name="pinEndGetPinBlock-byte-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pinEndGetPinBlock</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.2966">pinEndGetPinBlock</a>(byte&nbsp;keyIndex,
                         byte[]&nbsp;dataIn,
                         byte&nbsp;mode)
                  throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">将<a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a>的输入PIN加密为密文PinBlock。PIN将被清空。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en">Encrypt the inputPin of <a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a> as ciphertext PinBlock.The PIN will be cleared. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TPK的索引 </div> <div class="en"> [1~100] TPK index </div></dd>
<dd><code>dataIn</code> - <div class="zh">
 <ul>
  <li>当mode=0x00时，DataIn指向卡号移位后生成的16位主帐号，不包含校验位。</li>
  <li>当mode=0x01时，DataIn被忽略,接口内部采用随机数填充PINBlock。 </li>
  <li>当mode=0x02时，DataIn指向位移后的16位PAN。</li>
  <li>当mode=0x03时，为交易流水号ISN [6 Bytes,ASCII码]。</li>
 </ul></div>
 <div class="en">
 <ul>
  <li>When mode=0x00, DataIn is the 16 bytes primary account number after shifting, excluding the check bit.</li>
  <li>When mode=0x01, DataIn is ignored. The interface uses random numbers to fill PINBlock internally.</li>
  <li>When mode=0x02, DataIn is the 16 bytes primary account number after shifting.</li>
  <li>When mode=0x03, is the transaction current number [6 Bytes,ASCII code].</li>
 </ul></div></dd>
<dd><code>mode</code> - <div class="zh"> PIN BLOCK的格式。
 <ul>
  <li>0x00:ISO9564 格式0。该模式有频度控制，触发频度控制时返回<a href="../../../com/pax/dal/exceptions/EPedDevException.html" title="enum in com.pax.dal.exceptions"><code>#PED_ERR_WAIT_INTERVAL</code></a>。</li>
  <li>0x01:ISO9564 格式1。</li>
  <li>0x02:ISO9564 格式3。</li>
  <li>0x03:HK EPS 格式。</li>
 </ul></div>
 <div class="en"> PIN BLOCK Format.
  <ul>
   <li>0x00:ISO9564 format 0. This mode has frequency control, which returns <a href="../../../com/pax/dal/exceptions/EPedDevException.html" title="enum in com.pax.dal.exceptions"><code>#PED_ERR_WAIT_INTERVAL</code></a> when triggered.</li>
   <li>0x01:ISO9564 format 1.</li>
   <li>0x02:ISO9564 format 3.</li>
   <li>0x03:HK EPS format.</li>
  </ul></div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">8字节的PinBlock。</div> <div class="en">8-byte PinBlock.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.13.00</dd>
</dl>
</li>
</ul>
<a name="pinEndGetDukptPin-byte-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pinEndGetDukptPin</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3018">pinEndGetDukptPin</a>(byte&nbsp;groupIndex,
                              byte[]&nbsp;dataIn,
                              byte&nbsp;mode)
                       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">在<a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a>输入完毕后，使用DUKPT的PIN密钥计算PinBlock。PIN将被清空。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div>
 <div class="en">After <a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a> is entered, calculate the PinBlock using DUKPT's Pin key.
 The PIN will be cleared. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh"> [1~100] DUKPT密钥组索引号 </div> <div class="en"> [1~100]DUKPT key group id </div></dd>
<dd><code>dataIn</code> - <div class="zh">
 <ul>
 <li>当mode=00/20时，DataIn指向卡号移位后生成的16位主帐号，不包含校验位。</li>
 <li>当mode=01/21时，DataIn被忽略,接口内部采用随机数填充PINBlock。 </li>
 <li>当mode=02/22时，DataIn指向位移后的16位PAN。</li>
 <li>当mode=03/23时，为交易流水号ISN [6 Bytes,ASCII码]。</li>
 </ul></div>
 <div class="en">
 <ul>
 <li>When mode=00/20, DataIn is the 16 bytes primary account number after shifting, excluding the check bit.</li>
 <li>When mode=01/21, DataIn is ignored. The interface uses random numbers to fill PINBlock internally.</li>
 <li>When mode=02/22, DataIn is the 16 bytes primary account number after shifting.</li>
 <li>When mode=03/23, is the transaction current number [6 Bytes,ASCII code].</li>
 </ul></div></dd>
<dd><code>mode</code> - <div class="zh">
 <ul>
 <li>00:ISO9564 格式0， KSN自动加1。</li>
 <li>01:ISO9564 格式1， KSN自动加1。</li>
 <li>02:ISO9564 格式3 ，KSN自动加1。</li>
 <li>03:HK EPS格式， KSN自动加1。</li>
 <li>20:ISO9564 格式0，KSN不自动加1。</li>
 <li>21:ISO9564 格式1，KSN不自动加1。</li>
 <li>22:ISO9564 格式3，KSN不自动加1。</li>
 <li>23:HK EPS格式， KSN不自动加1。</li>
 </ul></div>
 <div class="en">
 <ul>
 <li>00:ISO9564 format 0, KSN automatically add 1.</li>
 <li>01:ISO9564 format 1, KSN automatically add 1.</li>
 <li>02:ISO9564 format 3, KSN automatically add 1.</li>
 <li>03:HK EPS format, KSN automatically add 1.</li>
 <li>20:ISO9564 format 0,KSN doesn't automatically add 1.</li>
 <li>21:ISO9564 format 1,KSN doesn't automatically add 1.</li>
 <li>22:ISO9564 format 3,KSN doesn't automatically add 1.</li>
 <li>23:HK EPS format, KSN doesn't automatically add 1.</li>
 </ul></div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.13.00</dd>
</dl>
</li>
</ul>
<a name="pinEndGetAesDukptPin-byte-byte:A-com.pax.dal.entity.EAlgorithmType-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pinEndGetAesDukptPin</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3068">pinEndGetAesDukptPin</a>(byte&nbsp;groupIndex,
                                 byte[]&nbsp;dataIn,
                                 <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;eAlgorithmType,
                                 byte&nbsp;mode)
                          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">在<a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a>输入完毕后，使用AES DUKPT的PIN密钥计算PinBlock。PIN将被清空。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。 </div>
 <div class="en">After <a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a> is entered, calculate the PinBlock using AES DUKPT's Pin key.
 The PIN will be cleared. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh">[1~40] AES DUKPT密钥组索引号 。</div> <div class="en"> [1~40] AES DUKPT key group id. </div></dd>
<dd><code>dataIn</code> - <div class="zh">
 <ul>
 <li>当mode=0x20时，dataIn指向卡号移位后生成的16位主帐号，不包含校验位。</li>
 <li>当mode=0x21时，dataIn未使用，但是不能为NULL。 </li>
 <li>当mode=0x22时，dataIn指向卡号移位后生成的16位主帐号，不包含校验位。</li>
 <li>当mode=0x23时，为交易流水号ISN [6 Bytes,ASCII码]。</li>
 <li>当mode=0x24时，dataIn为主账号。</li>
 </ul></div>
 <div class="en">
 <ul>
 <li>When mode=0x20, dataIn points to the 16-bit primary account generated after the card number shift, excluding the check bit.</li>
 <li>When mode=0x21, dataIn is not in use, but cannot be NULL.</li>
 <li>When mode=0x22, dataIn points to the 16-bit primary account generated after the card number shift, excluding the check bit.</li>
 <li>When mode=0x23, is the transaction current number [6 Bytes,ASCII code].</li>
 <li>When mode=0x24, dataIn is primary account.</li>
 </ul></div></dd>
<dd><code>eAlgorithmType</code> - <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity"><code>EAlgorithmType</code></a></dd>
<dd><code>mode</code> - <div class="zh">
 <ul>
 <li>0x20:ISO9564 格式0，KSN不自动加1。</li>
 <li>0x21:ISO9564 格式1，KSN不自动加1。</li>
 <li>0x22:ISO9564 格式3，KSN不自动加1。</li>
 <li>0x23:HK EPS格式， KSN不自动加1。</li>
 <li>0x24:ISO9564 格式4，KSN不自动加1。</li>
 </ul></div>
 <div class="en">
 <ul>
 <li>0x20:ISO9564 format 0,KSN doesn't automatically add 1。</li>
 <li>0x21:ISO9564 format 1,KSN doesn't automatically add 1。</li>
 <li>0x22:ISO9564 format 3,KSN doesn't automatically add 1。</li>
 <li>0x23:HK EPS format, KSN doesn't automatically add 1。</li>
 <li>0x24:ISO9564 format 4,KSN doesn't automatically add 1。</li>
 </ul></div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.13.00</dd>
</dl>
</li>
</ul>
<a name="pinEndVerifyPlainPin-byte-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pinEndVerifyPlainPin</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3098">pinEndVerifyPlainPin</a>(byte&nbsp;slot,
                            byte&nbsp;mode)
                     throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">在<a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a>输入完毕后，进行脱机明文PIN校验功能。
 按照应用提供的卡片命令与卡片通道号，将明文PinBlock直接发送给卡片。PIN将被清空。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en">After <a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a> is entered, offline plaintext PIN validation is performed.
 Send the clear text PinBlock directly to the card according to the card command and card channel number provided by
 the application。 The PIN will be cleared. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - <div class="zh"> 卡片所在的卡座号。 </div> <div class="en">The card slot number. </div></dd>
<dd><code>mode</code> - <div class="zh">
              <ul>
                  <li>0x00: I C卡命令模式，现支持符合EMV2000的IC卡命令。</li>
                  <li>0x01: 给WIC使用。</li>
              </ul>
             </div>
             <div class="en">
              <ul>
                  <li>0x00: IC Card Command Mode,Currently support EMV2000.</li>
                  <li>0x01: For WIC.</li>
              </ul>
             </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 卡片响应的状态码 (2字节：SW1+SW2) </div>
 <div class="en"> The status code of card response (2 bytes: SW1+SW2). </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.13.00</dd>
</dl>
</li>
</ul>
<a name="pinEndVerifyCipherPin-byte-com.pax.dal.entity.RSAPinKey-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pinEndVerifyCipherPin</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3119">pinEndVerifyCipherPin</a>(byte&nbsp;slot,
                             <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity">RSAPinKey</a>&nbsp;rsaPinKey,
                             byte&nbsp;mode)
                      throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 在<a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a>输入完毕后，进行脱机密文PIN校验功能。先获取明文PIN，再用应用提供的RsaPinKey
 对明文PIN按照EMV规范进行加密，然后用应用提供的卡片命令与卡片通道号，将密文PIN直接发送给卡片 。PIN将被清空。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en">After <a href="../../../com/pax/dal/IPed.html#inputPin-java.lang.String-long-byte-"><code>inputPin(String, long, byte)</code></a> is entered, verify enciphered PIN offline is performed. Get plain text PIN and then
 use RsaPinKey provided by application to encrypt plaintext PIN according to EMV standard. Send enciphered PIN to card according to card command
 and card channel number provided by application. The PIN will be cleared.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slot</code> - <div class="zh"> 卡片所在的卡座号。 </div> <div class="en">The card slot number. </div></dd>
<dd><code>rsaPinKey</code> - <a href="../../../com/pax/dal/entity/RSAPinKey.html" title="class in com.pax.dal.entity"><code>RSAPinKey</code></a></dd>
<dd><code>mode</code> - <div class="zh"> 0x00 IC卡命令模式，目前支持EMV2000。 </div> <div class="en"> 0x00 IC Card Command Mode,Currently support EMV2000. </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 卡片响应的状态码 (2字节：SW1+SW2) </div>
 <div class="en"> The status code of card response (2 bytes: SW1+SW2). </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.13.00</dd>
</dl>
</li>
</ul>
<a name="setKeyboard-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeyboard</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3138">setKeyboard</a>(byte&nbsp;type)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">设置PED密码键盘类型。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en">Set the PED keyboard type. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - <div class="zh">
  <ul>
      <li>0x01:翻转PED密码键盘。</li>
      <li>0x02:盲人模式PED密码键盘。</li>
  </ul></div>
 <div class="en">
  <ul>
      <li>0x01:Flip the PED keyboard.</li>
      <li>0x02:Blind mode PED keyboard.</li>
  </ul></div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.15.00</dd>
</dl>
</li>
</ul>
<a name="eraseKey-byte-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eraseKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3171">eraseKey</a>(byte&nbsp;keyType,
              byte&nbsp;keyIndex)
       throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">擦除指定的密钥。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en">Erases the specified key. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - <div class="zh">密钥类型。
                 <ul>
                 <li>0x02: TMK[1~100]</li>
                 <li>0x0A: TWK[1~100]</li>
                 <li>0x07: TIK[1~100]</li>
                 <li>0x51: AES_TIK[1~100]</li>
                 <li>0X0B: RSA[1~20]</li>
                 <li>0x30: SM2_PVT_KEY[1~20]</li>
                 <li>0x31: SM2_PUB_KEY[1~20]</li>
                 <li>0x46: SALT_KEY[1~2]</li>
                 </ul>
                 </div>
                 <div class="en">Key type.
                 <ul>
                 <li>0x02: TMK[1~100]</li>
                 <li>0x0A: TWK[1~100]</li>
                 <li>0x07: TIK[1~100]</li>
                 <li>0x51: AES_TIK[1~100]</li>
                 <li>0X0B: RSA[1~20]</li>
                 <li>0x30: SM2_PVT_KEY[1~20]</li>
                 <li>0x31: SM2_PUB_KEY[1~20]</li>
                 <li>0x46: SALT_KEY[1~2]</li>
                 </ul></div></dd>
<dd><code>keyIndex</code> - <div class="zh">密钥索引。</div> <div class="en">Key index.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.15.00</dd>
</dl>
</li>
</ul>
<a name="writeTR31Key-byte-byte-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeTR31Key</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3270">writeTR31Key</a>(byte&nbsp;srcKeyType,
                  byte&nbsp;srcKeyIndex,
                  byte&nbsp;dstKeyIndex,
                  byte[]&nbsp;TR31KeyBlock)
           throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">写入TR31格式的密钥到PED。包括TMK、TWK、TIK、AES_TMK、AES_TWK和AES_TIK。</div><div class="en">To write keys in TR31 format into PED, including TMK,TWK,TIK,AES_TMK,AES_TWK and AES_TIK.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <div class="zh">原密钥类型。
                   <ul>
                    <li>0x01:<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a></li>
                    <li>0x02:<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a></li>
                    <li>0x22:<a href="../../../com/pax/dal/entity/EPedKeyType.html#AES_TMK"><code>EPedKeyType.AES_TMK</code></a></li>
                   </ul></div>
                   <div class="en">The source key type.
                   <ul>
                    <li>0x01:<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a></li>
                    <li>0x02:<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a></li>
                    <li>0x22:<a href="../../../com/pax/dal/entity/EPedKeyType.html#AES_TMK"><code>EPedKeyType.AES_TMK</code></a></li>
                   </ul></div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">原密钥索引。
                    <ul>
                     <li>如果srcKeyType等于<a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>时，索引为1.</li>
                     <li>如果srcKeyType等于<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>时，索引为[1~100].</li>
                     <li>如果srcKeyType等于<a href="../../../com/pax/dal/entity/EPedKeyType.html#AES_TMK"><code>EPedKeyType.AES_TMK</code></a>时，索引为[1~100].</li>
                    </ul></div>
                    <div class="en">The source key index.
                    <ul>
                     <li>If srcKeyType is equal to <a href="../../../com/pax/dal/entity/EPedKeyType.html#TLK"><code>EPedKeyType.TLK</code></a>, the index is 1.</li>
                     <li>If srcKeyType is equal to <a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>, the index is [1~100].</li>
                     <li>If srcKeyType is equal to <a href="../../../com/pax/dal/entity/EPedKeyType.html#AES_TMK"><code>EPedKeyType.AES_TMK</code></a>, the index is [1~100].</li>
                    </ul></div></dd>
<dd><code>dstKeyIndex</code> - <div class="zh">目的密钥索引。
                    <ul>
                     <li>如果dstKeyType等于<a href="../../../com/pax/dal/entity/EPedKeyType.html#AES_TIK"><code>EPedKeyType.AES_TIK</code></a>时，索引为[1~40].</li>
                     <li>其他类型时，索引为[1~100].</li>
                    </ul></div>
                    <div class="en">Destination key index.
                    <ul>
                     <li>If dstKeyType is equal to <a href="../../../com/pax/dal/entity/EPedKeyType.html#AES_TIK"><code>EPedKeyType.AES_TIK</code></a>, the index is [1~40]</li>
                     <li>Other key types, the index is [1~100]</li>
                    </ul></div></dd>
<dd><code>TR31KeyBlock</code> - <div class="zh">TR31格式的密钥块。
                     <ul>
                      <li>Key Block Version ID (1 byte):
                       <br>"B"-TDEA
                       <br>"D"-AES</li>
                      <li>Key Block Length (4 bytes):编码后提供密钥块长度的ASCII十进制数字。例如，“0080”</li>
                      <li>Key Usage (2 bytes):
                       <br>"P0"-PIN encryption
                       <br>"B1"-DUKPT TIK
                       <br>"K0"-TMK
                       <br>"D0"-TDK
                       <br>"Mx"-TAK
                       <br>"C1"-TCHDK</li>
                      <li>Algorithm (1 byte):
                       <br>"T"-TDEA
                       <br>"A"-AES</li>
                      <li>Mode of Use (1 byte):ignore</li>
                      <li>Key Version Number (2 bytes):ignore</li>
                      <li>Exportability (1 byte):ignore</li>
                      <li>Number of Optional Blocks (2 bytes):00/01/02</li>
                      <li>Reserved field (2 bytes):ignore</li>
                      <li>Optional Blocks(密钥块中所有可选块的总长度将是加密块大小的倍数（TDES 为 8，AES 为 16）。
                      这可能需要填充，如果需要填充，则包含在一个特殊的最终可选块中 填充了适当数量的填充字符。):
                       <br>“KS”-(2 bytes option id) + len (2 bytes, hex-ASCII “18”) + 20 hex-ASCII characters KSN, (PED_TIK KSN)
                       <br>“IK”-(2 bytes option id) + len (2 bytes, hex-ASCII “14”) + 16 hex-ASCII characters KSN (PED_AES_TIK Initial Key Identifier)
                       <br>“PB”-(2 bytes option id) + len (2 bytes, hex-ASCII “0C”) + hex-ASCII characters padding</li>
                      <li>Encryption body:Cipher text (2 bytes len + key + padding)</li>
                      <li>MAC(TDES is 16 bytes, AES is 32 bytes):MAC</li>
                     </ul></div>
                     <div class="en">Key blocks in TR31 format.
                     <ul>
                      <li>Key Block Version ID (1 byte):
                       <br>"B"-TDEA
                       <br>"D"-AES</li>
                     <li>Key Block Length (4 bytes):ASCII decimal numeric digits providing key block length after encoding.for example, “0080”</li>
                     <li>Key Usage (2 bytes):
                      <br>"P0"-PIN encryption
                      <br>"B1"-DUKPT TIK
                      <br>"K0"-TMK
                      <br>"D0"-TDK
                      <br>"Mx"-TAK
                      <br>"C1"-TCHDK</li>
                     <li>Algorithm (1 byte):
                      <br>"T"-TDEA
                      <br>"A"-AES</li>
                     <li>Mode of Use (1 byte):ignore</li>
                     <li>Key Version Number (2 bytes):ignore</li>
                     <li>Exportability (1 byte):ignore</li>
                     <li>Number of Optional Blocks (2 bytes):00/01/02</li>
                     <li>Reserved field (2 bytes):ignore</li>
                     <li>Optional Blocks((The total length of all optional blocks in the key block will be a multiple of the encryption block size (TDES is 8, AES is 16). This may require padding, and if padding is needed it is included in a special final optional block that is filled with an appropriate number of padding characters.):
                      <br>“KS”-(2 bytes option id) + len (2 bytes, hex-ASCII “18”) + 20 hex-ASCII characters KSN, (PED_TIK KSN)
                      <br>“IK”-(2 bytes option id) + len (2 bytes, hex-ASCII “14”) + 16 hex-ASCII characters KSN (PED_AES_TIK Initial Key Identifier)
                      <br>“PB”-(2 bytes option id) + len (2 bytes, hex-ASCII “0C”) + hex-ASCII characters padding</li>
                     <li>Encryption body:Cipher text (2 bytes len + key + padding)</li>
                     <li>MAC(TDES is 16 bytes, AES is 32 bytes):MAC</li>
                    </ul></div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.17.00</dd>
</dl>
</li>
</ul>
<a name="genCSR-byte-byte-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>genCSR</h4>
<pre>java.lang.String&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3374">genCSR</a>(byte&nbsp;pubKeyIndex,
                        byte&nbsp;pvkKeyIndex,
                        java.lang.String&nbsp;dn)
                 throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">生成证书签名请求。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en">Generate the Certificate Signing Request. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pubKeyIndex</code> - <div class="zh">RSA公钥索引。</div> <div class="en">RSA public key index.</div></dd>
<dd><code>pvkKeyIndex</code> - <div class="zh">RSA私钥索引。</div> <div class="en">RSA private key index.</div></dd>
<dd><code>dn</code> - <div class="zh">证书信息，如："C=CN,ST=GD,L=SZ,O=PAX,OU=PAX_DEV,CN=paxsz,E=inno_dev@paxsz.com"。常用如下:
  <table border="1">
      <tr>
          <th>字段</th>
          <th>说明</th>
          <th>示例</th>
      </tr>
      <tr>
          <td>C</td>
          <td>Country Name</td>
          <td>CN</td>
      </tr>
      <tr>
          <td>ST</td>
          <td>State or Province Name</td>
          <td>GD</td>
      </tr>
      <tr>
          <td>L</td>
          <td>Locality Name</td>
          <td>SZ</td>
      </tr>
      <tr>
          <td>O</td>
          <td>Organization Name</td>
          <td>PAX</td>
      </tr>
      <tr>
          <td>OU</td>
          <td>Organization Unit Name</td>
          <td>PAX_DEV</td>
      </tr>
      <tr>
          <td>CN</td>
          <td>Common Name</td>
          <td>paxsz</td>
      </tr>
      <tr>
          <td>E</td>
          <td>Email Address</td>
          <td>inno_dev@paxsz.com</td>
      </tr>
  </table>
 </div>
 <div class="en">Certificate information, such as: "C=CN,ST=GD,L=SZ,O=PAX,OU=PAX_DEV,CN=paxsz,E=inno_dev@paxsz.com".Commonly used as follows:
  <table border="1">
      <tr>
          <th>Field</th>
          <th>Instruction</th>
          <th>Sample</th>
      </tr>
      <tr>
          <td>C</td>
          <td>Country Name</td>
          <td>CN</td>
      </tr>
      <tr>
          <td>ST</td>
          <td>State or Province Name</td>
          <td>GD</td>
      </tr>
      <tr>
          <td>L</td>
          <td>Locality Name</td>
          <td>SZ</td>
      </tr>
      <tr>
          <td>O</td>
          <td>Organization Name</td>
          <td>PAX</td>
      </tr>
      <tr>
          <td>OU</td>
          <td>Organization Unit Name</td>
          <td>PAX_DEV</td>
      </tr>
      <tr>
          <td>CN</td>
          <td>Common Name</td>
          <td>paxsz</td>
      </tr>
      <tr>
          <td>E</td>
          <td>Email Address</td>
          <td>inno_dev@paxsz.com</td>
      </tr>
  </table>
 </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">CSR。</div> <div class="en">CSR.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.19.00</dd>
</dl>
</li>
</ul>
<a name="calcHMAC-int-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcHMAC</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3399">calcHMAC</a>(int&nbsp;keyIndex,
                byte[]&nbsp;dataIn,
                int&nbsp;mode)
         throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">用keyIndex指定的Salt密钥以及dataIn，依照指定mode做HMAC运算。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en">Do the HMAC operation in the specified mode with the Salt key specified in keyIndex and dataIn. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh">Salt Key的索引。1或2 。</div> <div class="en">Index of the Salt 1 or 2.</div></dd>
<dd><code>dataIn</code> - <div class="zh">需进行HMAC运算的数据。最长1024字节。</div>
                 <div class="en">Data that require HMAC operations.Maximum 1024 bytes.</div></dd>
<dd><code>mode</code> - <div class="zh">
                  <ul>
                      <li>0x01:HMAC-SHA1.</li>
                      <li>0x02:HMAC-SHA256.</li>
                  </ul>
                 </div>
                 <div class="en">
                  <ul>
                      <li>0x01:HMAC-SHA1.</li>
                      <li>0x02:HMAC-SHA256.</li>
                  </ul>
                 </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">HMAC结果。</div> <div class="en">HMAC results.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.19.00</dd>
</dl>
</li>
</ul>
<a name="writeSaltKey-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeSaltKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3408">writeSaltKey</a>(byte[]&nbsp;salt)
           throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">写入salt密钥。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Write salt key. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>salt</code> - <div class="zh">salt明文密钥。长度最长128字节。</div> <div class="en">Salt plaintext key.The maximum length is 128 bytes.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.19.00</dd>
</dl>
</li>
</ul>
<a name="writeAesDUKPTTIK-byte-byte-byte:A-byte:A-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAesDUKPTTIK</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3444">writeAesDUKPTTIK</a>(byte&nbsp;groupIndex,
                      byte&nbsp;srcKeyIndex,
                      byte[]&nbsp;keyValue,
                      byte[]&nbsp;ksn,
                      byte&nbsp;checkMode,
                      byte[]&nbsp;checkBuf)
               throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">写入 AES DUKPT 初始密钥 AESTIK，并可以选择使用 KCV 验证密钥正确性。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Write the AES DUKPT initial key AESTIK, and you can choose to use KCV to verify the correctness of the key. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh">AES DUKPT密钥组索引。范围1~40。</div> <div class="en">AES DUKPT key group index. The range is 1~40.</div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">保护密钥的密钥索引。0表示明文写入。目前仅支持明文写入。</div>
                    <div class="en">The index of the key protecting the key. 0 means writing in plaintext. Currently only plaintext writing is supported.</div></dd>
<dd><code>keyValue</code> - <div class="zh">AESTIK 的明文。目前AES DUKPT 算法支持 16/24/32 字节长度的密钥。</div> <div class="en">The plain text of AESTIK. Currently, the AES DUKPT algorithm supports keys with a length of 16/24/32 bytes.</div></dd>
<dd><code>ksn</code> - <div class="zh">初始化 KSN。长度10/12 字节，只有在兼容模式才会是 10 字节。</div> <div class="en">Initialize KSN. The length is 10/12 bytes, only in compatibility mode will it be 10 bytes.</div></dd>
<dd><code>checkMode</code> - <div class="zh">验证模式。
                                         <ul>
                                           <li>0x00:无校验。</li>
                                           <li>0x05:对16个字节的 0x00进行AES加密,得到的密文的前3个字节即为KCV。</li>
                                           <li>0x06:对16个字节的 0x00进行AES CMAC加密,得到的密文的前3个字节即为KCV。</li>
                                         </ul>
                                       </div> <div class="en">Check mode.
                                         <ul>
                                           <li>0x00: No check.</li>
                                           <li>0x05:Perform AES encryption on the 16 bytes of 0x00, and the first 3 bytes of the ciphertext obtained are KCV.</li>
                                           <li>0x06:Perform AES CMAC encryption on the 16 bytes of 0x00, and the first 3 bytes of the ciphertext obtained are KCV.</li>
                                         </ul>    </div></dd>
<dd><code>checkBuf</code> - <div class="zh">
                                         <ul>
                                           <li>当checkMode=0x00时，checkBuf的值无效，系统认为不验证KCV。</li>
                                           <li>当checkMode=0x05/0x06时，checkBuf[0]=KCV的长度，checkBuf[1]开始是KCV的值。</li>
                                         </ul>
                                       </div> <div class="en">
                                         <ul>
                                           <li>When checkMode=0x00, the value of checkBuf is invalid, and the system considers that KCV is not verified.</li>
                                           <li>When checkMode=0x05/0x06, checkBuf[0]=KCV length, checkBuf[1] starts with the value of KCV.</li>
                                         </ul>
                                           </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.22.00</dd>
</dl>
</li>
</ul>
<a name="getAesDUKPTPin-byte-java.lang.String-byte:A-com.pax.dal.entity.EAlgorithmType-byte-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAesDUKPTPin</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3504">getAesDUKPTPin</a>(byte&nbsp;groupIndex,
                           java.lang.String&nbsp;exPinLen,
                           byte[]&nbsp;dataIn,
                           <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;algorithmType,
                           byte&nbsp;mode,
                           long&nbsp;timeoutMs)
                    throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">在 PED 上输入 PIN,并使 AES DUKPT 的 PIN 密钥计算 PINBlock。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Enter the PIN on the PED, and use the PIN key of AES DUKPT to calculate the PINBlock. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh">AES DUKPT密钥组索引。范围1~40。</div> <div class="en">AES DUKPT key group index. The range is 1~40.</div></dd>
<dd><code>exPinLen</code> - <div class="zh">可输入的合法密码长度字符串，应用程序把允许的密码长度全部枚举出来，并且用","号隔开每个长度，密码长度的有效取值为：0，4~12。若允许输入 4、6 位密码并且允许无密码直接按确认，则该字符串应该设置为"0，4，6"。
                      若枚举 0 长度则示意可以不输任何数字而直接按确认键返回。若枚举字符串中存在长度的无效值，比如"2，6，7，10"，无效值将被忽略。</div> <div class="en">The valid password length string that can be entered, the application enumerates all the allowable password lengths,
                      and separates each length with a "," sign. The valid value of the password length is 0, 4~12. If 4 or 6-digit passwords are allowed and you can press confirm without a password, the character string should be set to "0, 4, 6".
                      If the length of the enumeration is 0, it means that you can directly press the enter key to return without entering any number. If there are invalid values of length in the enumerated string, such as "2, 6, 7, 10", the invalid value will be ignored.</div></dd>
<dd><code>dataIn</code> - <div class="zh">
                                             <ul>
                                               <li>当mode=0x20时，dataIn指向卡号移位后生成的16位主帐号，不包含校验位。</li>
                                               <li>当mode=0x21时，dataIn未使用，但是不能为NULL。 </li>
                                               <li>当mode=0x22时，dataIn指向卡号移位后生成的16位主帐号，不包含校验位。</li>
                                               <li>当mode=0x23时，为交易流水号ISN [6 Bytes,ASCII码]。</li>
                                               <li>当mode=0x24时，dataIn为主账号。</li>
                                             </ul></div>
                                           <div class="en">
                                             <ul>
                                               <li>When mode=0x20, dataIn points to the 16-bit primary account generated after the card number shift, excluding the check bit.</li>
                                               <li>When mode=0x21, dataIn is not in use, but cannot be NULL.</li>
                                               <li>When mode=0x22, dataIn points to the 16-bit primary account generated after the card number shift, excluding the check bit.</li>
                                               <li>When mode=0x23, is the transaction current number [6 Bytes,ASCII code].</li>
                                               <li>When mode=0x24, dataIn is primary account.</li>
                                             </ul></div></dd>
<dd><code>algorithmType</code> - <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity"><code>EAlgorithmType</code></a> <div class="zh">
                                               <ul>
                                                 <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_2TDEA_"><code>EAlgorithmType._2TDEA_</code></a>或者<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_3TDEA_"><code>EAlgorithmType._3TDEA_</code></a>时，使用 TDES算法计算(mode不能为0x24)。</li>
                                                 <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES128_"><code>EAlgorithmType._AES128_</code></a>或者<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES192_"><code>EAlgorithmType._AES192_</code></a>或者<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES256_"><code>EAlgorithmType._AES256_</code></a>时，使用 AES 算法计算(mode只能为0x24)。</li>
                                               </ul>
                                            </div> <div class="en">
                                               <ul>
                                                 <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_2TDEA_"><code>EAlgorithmType._2TDEA_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_3TDEA_"><code>EAlgorithmType._3TDEA_</code></a>, use the TDES algorithm for calculation (mode cannot be 0x24).</li>
                                                 <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES128_"><code>EAlgorithmType._AES128_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES192_"><code>EAlgorithmType._AES192_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES256_"><code>EAlgorithmType._AES256_</code></a>, use the AES algorithm for calculation (mode can only be 0x24).</li>
                                               </ul>
                                                </div></dd>
<dd><code>mode</code> - <div class="zh">
                                             <ul>
                                               <li>0x20:ISO9564 格式0，KSN不自动加1。</li>
                                               <li>0x21:ISO9564 格式1，KSN不自动加1。</li>
                                               <li>0x22:ISO9564 格式3，KSN不自动加1。</li>
                                               <li>0x23:HK EPS格式， KSN不自动加1。</li>
                                               <li>0x24:ISO9564 格式4，KSN不自动加1。</li>
                                             </ul></div>
                                           <div class="en">
                                             <ul>
                                               <li>0x20:ISO9564 format 0,KSN doesn't automatically add 1。</li>
                                               <li>0x21:ISO9564 format 1,KSN doesn't automatically add 1。</li>
                                               <li>0x22:ISO9564 format 3,KSN doesn't automatically add 1。</li>
                                               <li>0x23:HK EPS format, KSN doesn't automatically add 1。</li>
                                               <li>0x24:ISO9564 format 4,KSN doesn't automatically add 1。</li>
                                             </ul></div></dd>
<dd><code>timeoutMs</code> - <div class="zh"></div> <div class="en"></div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">输入 PIN 的超时时间。单位：毫秒，最大值为 300000ms。0表示没有超时时间，PED 不做超时控制。</div>
 <div class="en">Enter the PIN timeout period. Unit: milliseconds, the maximum value is 300000ms. 0 means there is no timeout period, and PED does not do timeout control.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.22.00</dd>
</dl>
</li>
</ul>
<a name="calcAesDUKPTData-byte-byte-byte:A-byte:A-com.pax.dal.entity.EAlgorithmType-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcAesDUKPTData</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3560">calcAesDUKPTData</a>(byte&nbsp;groupIndex,
                             byte&nbsp;keyVarType,
                             byte[]&nbsp;iv,
                             byte[]&nbsp;dataIn,
                             <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;algorithmType,
                             byte&nbsp;mode)
                      throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">使用 AES DUKPT 的数据加解密密钥，对输入缓存内数据进行加密或解密。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Use the AES DUKPT data encryption and decryption key to encrypt or decrypt the data in the input buffer. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh">AES DUKPT密钥组索引。范围1~40。</div> <div class="en">AES DUKPT key group index. The range is 1~40.</div></dd>
<dd><code>keyVarType</code> - <div class="zh">
                                             <ul>
                                               <li>0x01: 用 AES DUKPT 数据加解密密钥运算。</li>
                                               <li>0x04: 使用应答数据密钥，仅支持加密模式，即mode 值只能为 0x01、0x03。</li>
                                               <li>0x05: 使用请求数据密钥，仅支持解密模式，即mode 值只能为 0x00、0x02。</li>
                                             </ul>
                                           </div> <div class="en">
                                             <ul>
                                               <li>0x01: Use AES DUKPT data encryption and decryption key operations.</li>
                                               <li>0x04: Using the response data key, only supports the encryption mode, that is, the mode value can only be 0x01, 0x03.</li>
                                               <li>0x05: When using the requested data key, only the decryption mode is supported, that is, the mode value can only be 0x00, 0x02.</li>
                                             </ul>
                                               </div></dd>
<dd><code>iv</code> - <div class="zh"> 8/16字节初始向量，CBC加解密时需要，如果传入NULL，将默认用“\x00\x00\x00\x00\x00\x00\x00\x00”或
                                        “\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00”作为初始向量 </div>
                                        <div class="en"> 8/16 bytes initialization vector, used for CBC encryption or decryption. If set it to NULL,
                                        it will use “\x00\x00\x00\x00\x00\x00\x00\x00” or “\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00”
                                        as the initialization vector by default. </div></dd>
<dd><code>dataIn</code> - <div class="zh">需要进行运算的数据。数据长度<=8192，8(TDES)/16(AES)整除。</div> <div class="en">The data to be calculated. Data length<=8192, evenly divided by 8(TDES)/16(AES).</div></dd>
<dd><code>algorithmType</code> - <div class="zh">
                                             <ul>
                                               <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_2TDEA_"><code>EAlgorithmType._2TDEA_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_3TDEA_"><code>EAlgorithmType._3TDEA_</code></a>时，使用TDES算法计算。</li>
                                               <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES128_"><code>EAlgorithmType._AES128_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES192_"><code>EAlgorithmType._AES192_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES256_"><code>EAlgorithmType._AES256_</code></a>时，使用AES算法计算。</li>
                                             </ul>
                                           </div> <div class="en">
                                             <ul>
                                               <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_2TDEA_"><code>EAlgorithmType._2TDEA_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_3TDEA_"><code>EAlgorithmType._3TDEA_</code></a>, use the TDES algorithm for calculation.</li>
                                               <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES128_"><code>EAlgorithmType._AES128_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES192_"><code>EAlgorithmType._AES192_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES256_"><code>EAlgorithmType._AES256_</code></a>, use the AES algorithm for calculation.</li>
                                             </ul>
                                               </div></dd>
<dd><code>mode</code> - <div class="zh">
                                             <ul>
                                               <li>0x00: ECB 解密</li>
                                               <li>0x01: ECB 加密</li>
                                               <li>0x02: CBC 解密</li>
                                               <li>0x03: CBC 加密</li>
                                             </ul>
                                           </div> <div class="en">
                                             <ul>
                                               <li>0x00: ECB decryption.</li>
                                               <li>0x01: ECB encryption.</li>
                                               <li>0x02: CBC decryption.</li>
                                               <li>0x03: CBC encryption.</li>
                                             </ul>
                                               </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.22.00</dd>
</dl>
</li>
</ul>
<a name="getAesDUKPTMac-byte-byte:A-com.pax.dal.entity.EAlgorithmType-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAesDUKPTMac</h4>
<pre><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity">DUKPTResult</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3623">getAesDUKPTMac</a>(byte&nbsp;groupIndex,
                           byte[]&nbsp;dataIn,
                           <a href="../../../com/pax/dal/entity/EAlgorithmType.html" title="enum in com.pax.dal.entity">EAlgorithmType</a>&nbsp;algorithmType,
                           byte&nbsp;mode)
                    throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">使用 AES DUKPT 的 MAC 密钥计算 MAC。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Use AES DUKPT's MAC key to calculate MAC. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh">AES DUKPT密钥组索引。范围1~40。</div> <div class="en">AES DUKPT key group index. The range is 1~40.</div></dd>
<dd><code>dataIn</code> - <div class="zh">要进行 MAC 运算的数据内容。数据的长度<=2048，长度不能被 8(TDES)/16(AES)整除，则自动补 0x00。</div> <div class="en">The data content to be MAC operation. The length of the data <=2048, and the length cannot be divisible by 8(TDES)/16(AES), then 0x00 will be automatically added.</div></dd>
<dd><code>algorithmType</code> - <div class="zh">
                        <ul>
                          <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_2TDEA_"><code>EAlgorithmType._2TDEA_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_3TDEA_"><code>EAlgorithmType._3TDEA_</code></a>时，使用TDES算法计算。</li>
                          <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES128_"><code>EAlgorithmType._AES128_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES192_"><code>EAlgorithmType._AES192_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES256_"><code>EAlgorithmType._AES256_</code></a>时，使用AES算法计算。</li>
                          <li>为<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_HMAC128_"><code>EAlgorithmType._HMAC128_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_HMAC192_"><code>EAlgorithmType._HMAC192_</code></a>或<a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_HMAC256_"><code>EAlgorithmType._HMAC256_</code></a>时，仅支持HMAC-SHA256算法计算。即mode为0x25/0x45/0x65。</li>
                        </ul>
                      </div> <div class="en">
                        <ul>
                          <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_2TDEA_"><code>EAlgorithmType._2TDEA_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_3TDEA_"><code>EAlgorithmType._3TDEA_</code></a>, use the TDES algorithm for calculation.</li>
                          <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES128_"><code>EAlgorithmType._AES128_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES192_"><code>EAlgorithmType._AES192_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_AES256_"><code>EAlgorithmType._AES256_</code></a>, use the AES algorithm for calculation.</li>
                          <li>When it is <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_HMAC128_"><code>EAlgorithmType._HMAC128_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_HMAC192_"><code>EAlgorithmType._HMAC192_</code></a> or <a href="../../../com/pax/dal/entity/EAlgorithmType.html#Z:Z_HMAC256_"><code>EAlgorithmType._HMAC256_</code></a>, only HMAC-SHA256 algorithm calculation is supported. That is, the mode is 0x25/0x45/0x65.</li>
                        </ul>
                      </div></dd>
<dd><code>mode</code> - <div class="zh">
                        <ul>
                          <li>0x20: 根据ANSI X9.9规范，将 BLOCK1 用 MAC密钥做 TDES/AES 加密，加密结果与 BLOCK2进行逐位异或后再用MAC密钥做 TDES/AES加密，依次进行得到 8(TDES)/16(AES)字节的加密结果。 KSN 不自动加 1。</li>
                          <li>0x21: Hypercom Fast Mode，将 BLOCK1 和BLOCK2 进行逐位异或，异或结果与 BLOCK3进 行 逐 位 异 或 ， 依 次 进 行 ， 最 后 得 到8(TDES)/16(AES)字节的异或结果，将该结果用MAC 密钥进行 TDES/AES 加密运算。KSN 不自动加 1。</li>
                          <li>0x22: 根据 ANSIX9.19 规范，将 BLOCK1 用MAC密钥做DES 加密(只取前8个字节的key)，加密结果与 BLOCK2 进行逐位异或后再用MAC 密钥做 DES 加密，依次进行得到 8 字节的加密结果，直到最后一次采用 TDES 加密。 KSN不自动加 1。 (不支持 AES 算法。)</li>
                          <li>0x23: CMAC算法。 KSN不自动加1。其它值保留扩展MAC算法。</li>
                          <li>0x25: HMAC-SHA256算法。 KSN不自动加1。</li>
                          <li>0x40: 根据ANSI X9.9规范，将 BLOCK1 用 MAC密钥做 TDES/AES 加密，加密结果与 BLOCK2进行逐位异或后再用MAC密钥做 TDES/AES加密，依次进行得到 8(TDES)/16(AES)字节的加密结果。 KSN 不自动加 1。</li>
                          <li>0x41: Hypercom Fast Mode，将 BLOCK1 和BLOCK2 进行逐位异或，异或结果与 BLOCK3进 行 逐 位 异 或 ， 依 次 进 行 ， 最 后 得 到8(TDES)/16(AES)字节的异或结果，将该结果用MAC 密钥进行 TDES/AES 加密运算。KSN 不自动加 1 。</li>
                          <li>0x42: 根据 ANSIX9.19 规范，将 BLOCK1 用MAC密钥做DES 加密(只取前8个字节的key)，加密结果与 BLOCK2 进行逐位异或后再用MAC 密钥做 DES 加密，依次进行得到 8 字节的加密结果，直到最后一次采用 TDES 加密。 KSN不自动加 1。 (不支持 AES 算法。) </li>
                          <li>0x43: CMAC算法。 KSN不自动加1。其它值保留扩展MAC算法。</li>
                          <li>0x45: HMAC-SHA256算法。 KSN不自动加1。</li>
                          <li>0x60: 据ANSI X9.9规范，将 BLOCK1 用 MAC密钥做 TDES/AES 加密，加密结果与 BLOCK2进行逐位异或后再用MAC密钥做 TDES/AES加密，依次进行得到 8(TDES)/16(AES)字节的加密结果。 KSN 不自动加 1。</li>
                          <li>0x61: Hypercom Fast Mode，将 BLOCK1 和BLOCK2 进行逐位异或，异或结果与 BLOCK3进 行 逐 位 异 或 ， 依 次 进 行 ， 最 后 得 到8(TDES)/16(AES)字节的异或结果，将该结果用MAC 密钥进行 TDES/AES 加密运算。KSN 不自动加 1。</li>
                          <li>0x62: 根据 ANSIX9.19 规范，将 BLOCK1 用MAC密钥做DES 加密(只取前8个字节的key)，加密结果与 BLOCK2 进行逐位异或后再用MAC 密钥做 DES 加密，依次进行得到 8 字节的加密结果，直到最后一次采用 TDES 加密。 KSN不自动加 1。 (不支持 AES 算法。) </li>
                          <li>0x63: CMAC算法。KSN不自动加1。 其它值保留扩展MAC算法。</li>
                          <li>0x65: HMAC-SHA256算法。 KSN不自动加1。</li>
                        </ul>
                      </div> <div class="en">
                        <ul>
                          <li>0x20: According to the ANSI X9.9 specification, BLOCK1 is encrypted with MAC key for TDES/AES, the encrypted result is XORed with BLOCK2 bit by bit, and then the MAC key is used for TDES/AES encryption, and then proceed to get 8(TDES)/16( AES) byte encryption result. KSN does not automatically increase by 1.</li>
                          <li>0x21: In Hypercom Fast Mode, BLOCK1 and BLOCK2 are XORed bit by bit, and the XOR result is XORed bit by bit with BLOCK3, and then proceeded in sequence. Finally, an XOR result of 8 (TDES)/16 (AES) bytes is obtained. Use this result The MAC key performs TDES/AES encryption operations. KSN does not automatically increase by 1.</li>
                          <li>0x22: According to the ANSIX9.19 specification, BLOCK1 is encrypted with MAC key for DES (only the key of the first 8 bytes is taken), and the encrypted result is XORed with BLOCK2 bit by bit, and then the MAC key is used for DES encryption, and then proceed to get 8 The result of byte encryption until the last TDES encryption. KSN does not automatically increase by 1. (The AES algorithm is not supported.)</li>
                          <li>0x23: CMAC algorithm. KSN does not automatically increase by 1. Other values retain the extended MAC algorithm.</li>
                          <li>0x25: HMAC-SHA256 algorithm. KSN does not automatically increase by 1.</li>
                          <li>0x40: According to the ANSI X9.9 specification, BLOCK1 is encrypted with MAC key for TDES/AES, the encrypted result is XORed with BLOCK2 bit by bit, and then the MAC key is used for TDES/AES encryption, and then proceed to get 8(TDES)/16( AES) byte encryption result. KSN does not automatically increase by 1.</li>
                          <li>0x41: In Hypercom Fast Mode, BLOCK1 and BLOCK2 are XORed bit by bit, and the XOR result is XORed bit by bit with BLOCK3, and then proceeded in sequence. Finally, an XOR result of 8 (TDES)/16 (AES) bytes is obtained. Use this result The MAC key performs TDES/AES encryption operations. KSN does not automatically increase by 1.</li>
                          <li>0x42: According to the ANSIX9.19 specification, BLOCK1 is encrypted with MAC key for DES (only the key of the first 8 bytes is taken), and the encrypted result is XORed with BLOCK2 bit by bit, and then the MAC key is used for DES encryption, and then proceed to get 8 The result of byte encryption until the last TDES encryption. KSN does not automatically increase by 1. (The AES algorithm is not supported.)</li>
                          <li>0x43: CMAC algorithm. KSN does not automatically increase by 1. Other values retain the extended MAC algorithm.</li>
                          <li>0x45: HMAC-SHA256 algorithm. KSN does not automatically increase by 1.</li>
                          <li>0x60: According to the ANSI X9.9 specification, BLOCK1 is encrypted with MAC key for TDES/AES, the encrypted result is XORed with BLOCK2 bit by bit, and then the MAC key is used for TDES/AES encryption, and then proceed to get 8(TDES)/16( AES) byte encryption result. KSN does not automatically increase by 1.</li>
                          <li>0x61: In Hypercom Fast Mode, BLOCK1 and BLOCK2 are XORed bit by bit, and the XOR result is XORed bit by bit with BLOCK3, and then proceeded in sequence. Finally, an XOR result of 8 (TDES)/16 (AES) bytes is obtained. Use this result The MAC key performs TDES/AES encryption operations. KSN does not automatically increase by 1.</li>
                          <li>0x62: According to the ANSIX9.19 specification, BLOCK1 is encrypted with MAC key for DES (only the key of the first 8 bytes is taken), and the encrypted result is XORed with BLOCK2 bit by bit, and then the MAC key is used for DES encryption, and then proceed to get 8 The result of byte encryption until the last TDES encryption. KSN does not automatically increase by 1. (The AES algorithm is not supported.)</li>
                          <li>0x63: CMAC algorithm. KSN does not automatically increase by 1. Other values retain the extended MAC algorithm.</li>
                          <li>0x65: HMAC-SHA256 algorithm. KSN does not automatically increase by 1.</li>
                        </ul>
                          </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../com/pax/dal/entity/DUKPTResult.html" title="class in com.pax.dal.entity"><code>DUKPTResult</code></a> <div class="zh">当mode等于HMAC-SHA256算法是，输出长度为32字节。</div>
         <div class="en">When the mode is equal to the HMAC-SHA256 algorithm, the output length is 32 bytes.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.22.00</dd>
</dl>
</li>
</ul>
<a name="getAesDUKPTKsn-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAesDUKPTKsn</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3634">getAesDUKPTKsn</a>(byte&nbsp;groupIndex)
               throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">读取当前的 KSN，将在下一次计算使用。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Read the current KSN, which will be used in the next calculation. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh">AES DUKPT密钥组索引。范围1~40。</div> <div class="en">AES DUKPT key group index. The range is 1~40.</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">当前的 KSN 。</div> <div class="en">The current KSN.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.22.00</dd>
</dl>
</li>
</ul>
<a name="incAesDUKPTKsn-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incAesDUKPTKsn</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3644">incAesDUKPTKsn</a>(byte&nbsp;groupIndex)
             throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">KSN 加 1。对应于KSN的单个DUKPT密钥最多只能使用256次，在达到最大次数后，进一步使用该密钥将返回<a href="../../../com/pax/dal/exceptions/EPedDevException.html#PED_ERR_DUKPT_NEED_INC_KSN"><code>EPedDevException.PED_ERR_DUKPT_NEED_INC_KSN</code></a>异常，
      所以请在使用钥匙次数超过最大次数之前增加KSN。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Add 1 to KSN. A single DUKPT key corresponding to KSN can only be used up to 256 times. After the maximum number of times is reached, further use of this key will return <a href="../../../com/pax/dal/exceptions/EPedDevException.html#PED_ERR_DUKPT_NEED_INC_KSN"><code>EPedDevException.PED_ERR_DUKPT_NEED_INC_KSN</code></a> exception, so please increase KSN before using the key more than the maximum number of times.<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIndex</code> - <div class="zh">AES DUKPT密钥组索引。范围1~40。</div> <div class="en">AES DUKPT key group index. The range is 1~40.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.22.00</dd>
</dl>
</li>
</ul>
<a name="writeCipherKey-byte-byte-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCipherKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3699">writeCipherKey</a>(byte&nbsp;srcKeyType,
                    byte&nbsp;srcKeyIndex,
                    byte[]&nbsp;keyInfo,
                    byte[]&nbsp;keyBlock,
                    byte&nbsp;mode)
             throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">写入由源密钥加密的特殊要求的密码密钥。</div>
 <div class="en">Write a specially required cryptographic key encrypted by the source key.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <div class="zh">源密钥类型。必须是<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>。</div>
                   <div class="en">Source key type. Must be <a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>.</div></dd>
<dd><code>srcKeyIndex</code> - <div class="zh">源密钥索引。</div> <div class="en">Source key index.</div></dd>
<dd><code>keyInfo</code> - <div class="zh">密钥内容
                  <ul>
                  <li>mode = 0时
                      <br>keyInfo有3个字节:keyType(1个字节)+ keyIndex(1个字节)+ keyCipherFormat(1个字节)
                      <br>keyType必须是PED_RSA
                      <br>keyIndex必须是1~10,keyCipherFormat必须是0</li>
                  <li>mode = 1时
                      <br>KeyInfo有6个字节：keyType(1个字节)+ keyIndex(1个字节)+ keyCipherFormat(1个字节)+keyTypeInfo(1个字节)+keyVersion(1个字节)+ keyLen(1个字节)
                      <br>keyType必须是PED_TCUSTK和PED_AES_TDK
                      <br>keyIndex必须是1~100,keyCipherFormat为0(ECB)或1(CBC)
                      <br>keyTypeInfo在keyType是PED_TCUSTK情况下，必须是SaltKey/MacKey/TableKey/DesfireMasterKey
                      <br>SaltKey 0x00
                      <br>MacKey 0x01
                      <br>TableKey 0x02
                      <br>DesfireMasterKey 0x03 </li>
                  </ul></div>
                <div class="en">Key content
                  <ul>
                  <li>mode = 0
                      <br>keyInfo has three bytes: keyType (1 byte) + keyIndex (1 byte) + keyCipherFormat (1 byte)
                      <br>keyType must be PED_RSA
                      <br>keyIndex must be 1 ~ 10, keyCipherFormat must cbe 0.</li>
                  <li>mode = 1
                      <br>KeyInfo has 6 bytes: keyType (1 byte) + keyIndex (1 byte) + keyCipherFormat (1 byte) + keyTypeInfo (1 byte) + keyVersion (1 byte) + keyLen(1 Bytes)
                      <br>keyType must be PED_TCUSTK and PED_AES_TDK
                      <br>keyIndex must be 1~100, keyCipherFormat must be 0 (ECB) or 1 (CBC)
                      <br>keyTypeInfo must be SaltKey/MacKey/TableKey/DesfireMasterKey when the keyType is PED_TCUSTK
                      <br>SaltKey 0x00
                      <br>MacKey 0x01
                      <br>TableKey 0x02
                      <br>DesfireMasterKey 0x03 </li>
                  </ul></div></dd>
<dd><code>keyBlock</code> - <div class="zh">密码密钥块。</div> <div class="en">Cipher key block.</div></dd>
<dd><code>mode</code> - <div class="zh">模式
             <ul>
             <li>0,写入由<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>加密的TCU RSA。</li>
             <li>1,写入由<a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>加密的PED_TCUSTK和PED_AES_TDK。</li>
             </ul></div>
             <div class="en">Mode
             <ul>
             <li>0, Writt TCU RSA encrypted by <a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>.</li>
             <li>1, Write PED_TCUSTK and PED_AES_TDK encrypted by <a href="../../../com/pax/dal/entity/EPedKeyType.html#TMK"><code>EPedKeyType.TMK</code></a>.</li>
             </ul></div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.23.00</dd>
</dl>
</li>
</ul>
<a name="queryKeyInfo-byte-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryKeyInfo</h4>
<pre><a href="../../../com/pax/dal/entity/KeyInfo.html" title="class in com.pax.dal.entity">KeyInfo</a>&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3756">queryKeyInfo</a>(byte&nbsp;keyType,
                     byte&nbsp;keyIndex)
              throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">查询密钥信息。</div>
 <div class="en">Query key information.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - <div class="zh">密钥类型。
                <ul>
                 <li>0x01: TLK</li>
                 <li>0x02: TMK</li>
                 <li>0x0A: TWK</li>
                 <li>0x07: TIK</li>
                 <li>0x20: TAESK</li>
                 <li>0x0B: RSA</li>
                 <li>0x0C: AES_TWK</li>
                 <li>0x22: AES_TMK</li>
                 <li>0x51: AES_TIK</li>
                </ul></div>
                <div class="en">key type.
                <ul>
                 <li>0x01: TLK</li>
                 <li>0x02: TMK</li>
                 <li>0x0A: TWK</li>
                 <li>0x07: TIK</li>
                 <li>0x20: TAESK</li>
                 <li>0x0B: RSA</li>
                 <li>0x0C: AES_TWK</li>
                 <li>0x22: AES_TMK</li>
                 <li>0x51: AES_TIK</li>
                </ul></div></dd>
<dd><code>keyIndex</code> - <div class="zh">密钥索引.
                   <ul>
                   <li>TLK: 1</li>
                   <li>TMK: 1-100</li>
                   <li>TWK: 1-100</li>
                   <li>TIK: 1-100</li>
                   <li>TAESK: 1-40</li>
                   <li>RSA: 1-10</li>
                   <li>AES_TWK: 1-100</li>
                   <li>AES_TMK: 1-100</li>
                   <li>AES_TIK: 1-100</li>
                   </ul></div>
                   <div class="en">key index.
                    <ul>
                    <li>TLK: 1</li>
                    <li>TMK: 1-100</li>
                    <li>TWK: 1-100</li>
                    <li>TIK: 1-100</li>
                    <li>TAESK: 1-40</li>
                    <li>RSA: 1-10</li>
                    <li>AES_TWK: 1-100</li>
                    <li>AES_TMK: 1-100</li>
                    </ul></div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.25.00</dd>
</dl>
</li>
</ul>
<a name="setDoubleTapKeyboardLanguage-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDoubleTapKeyboardLanguage</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3794">setDoubleTapKeyboardLanguage</a>(byte&nbsp;language)
                           throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">设置盲人输入法语音播报的语言。此接口需在<a href="../../../com/pax/dal/IPed.html#getPinBlock-byte-java.lang.String-byte:A-byte-int-"><code>getPinBlock(byte, String, byte[], byte, int)</code></a>之前设置才有效。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div>
 <div class="en">Set the language for the voice broadcast of the blind input method. This interface needs to be set before
 <a href="../../../com/pax/dal/IPed.html#getPinBlock-byte-java.lang.String-byte:A-byte-int-"><code>getPinBlock(byte, String, byte[], byte, int)</code></a> to be effective. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>language</code> - <div class="zh">语言类型。
                   <ul>
                     <li>0x00: 英语。</li>
                     <li>0x0A: 波兰语。</li>
                     <li>0x0B: 法语。</li>
                     <li>0x0C: 西班牙语。</li>
                     <li>0x0D: 澳大利亚英语。</li>
                     <li>0x0E: 意大利语。</li>
                     <li>0x0F: 英语(意大利客户)。</li>
                     <li>0x10: 普通话。</li>
                     <li>0x11: 粤语。</li>
                     <li>0x12: 葡萄牙语（巴西）。</li>
                   </ul>
                 </div>
                 <div class="en">Language type.
                   <ul>
                     <li>0x00: English.</li>
                     <li>0x0A: Polish.</li>
                     <li>0x0B: French.</li>
                     <li>0x0C: Spanish.</li>
                     <li>0x0D: Australian.</li>
                     <li>0x0E: Italian.</li>
                     <li>0x0F: English(for Italian).</li>
                     <li>0x10: Chinese_Mandarin.</li>
                     <li>0x11: Chinese_Cantonese.</li>
                     <li>0x12: Portuguese (Brazil)</li>
                   </ul>
                 </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.26.00</dd>
</dl>
</li>
</ul>
<a name="m1AuthorityDiversified-byte-byte-byte-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>m1AuthorityDiversified</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3818">m1AuthorityDiversified</a>(byte&nbsp;type,
                            byte&nbsp;m1KeyIdx,
                            byte&nbsp;m1MasterKeyIdx,
                            byte&nbsp;blkNo,
                            byte[]&nbsp;serialNo)
                     throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">通过M1MasterKey去发散M1key，给非接驱动提供秘钥实现M1的认证。</div>
 <div class="en">Distribute M1key through M1MasterKey, and provide secret key to contactless driver to realize M1 authentication.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - <div class="zh">'A'或'a': 提交的是A密码<br/>
             'B'或'b': 提交的是B密码
                 </div>
                 <div class="en">'A' or'a': A password is submitted<br/>
             'B' or 'b': B password is submitted
                 </div></dd>
<dd><code>m1KeyIdx</code> - <div class="zh"><a href="../../../com/pax/dal/entity/EPedKeyType.html#PED_TM1K"><code>EPedKeyType.PED_TM1K</code></a> 密钥索引</div>
                 <div class="en"><a href="../../../com/pax/dal/entity/EPedKeyType.html#PED_TM1K"><code>EPedKeyType.PED_TM1K</code></a> key index</div></dd>
<dd><code>m1MasterKeyIdx</code> - <div class="zh">PED_TCUSTK密钥索引，密钥信息必须为DesfireMifareMasterKey</div>
                       <div class="en">PED_TCUSTK key index, the key information must be DesfireMifareMasterKey</div></dd>
<dd><code>blkNo</code> - <div class="zh">要访问的块号 </div>
              <div class="en">Block number to be accessed</div></dd>
<dd><code>serialNo</code> - <div class="zh">卡片序列号，长度必须为4 </div>
                 <div class="en">Card serial number, length must be 4</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.28.00</dd>
</dl>
</li>
</ul>
<a name="calcDesfireAuth-byte-byte-byte:A-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcDesfireAuth</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3853">calcDesfireAuth</a>(byte&nbsp;keyIndex1,
                       byte&nbsp;keyIndex2,
                       byte[]&nbsp;csn,
                       byte[]&nbsp;dataIn,
                       byte[]&nbsp;initVector,
                       byte&nbsp;mode)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">使用DesfireMasterKey和DiversificationKey来计算认证数据。</div>
 <div class="en">Use DesfireMasterKey and DiversificationKey to calculate authentication data.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex1</code> - <div class="zh">DesfireMaster Key(PED_TCUSTK) 密钥索引, keyinfo 必须是 DesfireMasterKey。</div>
                  <div class="en">DesfireMaster Key(PED_TCUSTK) key index, keyinfo must be DesfireMasterKey.</div></dd>
<dd><code>keyIndex2</code> - <div class="zh">Diversification key(PED_AES_TDK) 密钥索引。</div>
                   <div class="en">Diversification key(PED_AES_TDK) key index.</div></dd>
<dd><code>csn</code> - <div class="zh">长度为7的序列号</div>
            <div class="en">Serial number of length 7</div></dd>
<dd><code>dataIn</code> - <div class="zh">需要进行运算的数据</div>
               <div class="en">Data to be calculated</div></dd>
<dd><code>initVector</code> - <div class="zh">向量，仅适用于CBC模式，若传NULL则用0填充，如果ECB模式，该参数被忽略。</div>
                   <div class="en">Vector, only applicable to CBC mode. If NULL is passed, it will be filled with 0. If ECB mode, this parameter is ignored.</div></dd>
<dd><code>mode</code> - <div class="zh">运算模式
             <ul>
                 <li>0x00:ECB解密模式</li>
                 <li>0x01:ECB加密模式</li>
                 <li>0x02:CBC解密模式</li>
                 <li>0x03:CBC加密模式</li>
             </ul></div>
             <div class="en">Operation mode
             <ul>
             <li>0x00: ECB decryption mode</li>
             <li>0x01: ECB encryption mode</li>
             <li>0x02: CBC decryption mode</li>
             <li>0x03: CBC encryption mode</li>
             </ul></div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">运算后的数据</div>
         <div class="en">Data after calculation</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.27.00</dd>
</dl>
</li>
</ul>
<a name="readKeyInfo-byte-byte-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readKeyInfo</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3872">readKeyInfo</a>(byte&nbsp;keyType,
                   byte&nbsp;keyIndex,
                   byte&nbsp;infoType)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">读取客户定制TCUSTK密钥信息。</div>
 <div class="en">Read customer customized TCUTK key information.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - <div class="zh">TCUSTK密钥类型。</div>
                   <div class="en">TCUSTK key type.</div></dd>
<dd><code>keyIndex</code> - <div class="zh">TCUSTK密钥索引。</div> <div class="en">TCUSTK key index.</div></dd>
<dd><code>infoType</code> - <div class="zh"> 数据类型
                 <br>目前只支持0。</div>
                <div class="en">type of data
                 <br>Currently only supports 0.</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">密钥信息，根据不同的InfoType输出不同的值，目前只支持0模式(keyTypeInfo + keyVersion)。</div>
         <div class="en">Key information, output different values according to different InfoType, currently only supports 0 mode(keyTypeInfo + keyVersion).</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.27.00</dd>
</dl>
</li>
</ul>
<a name="keyCalcMac-byte-byte-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyCalcMac</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3905">keyCalcMac</a>(byte&nbsp;keyType,
                  byte&nbsp;keyIdx,
                  byte[]&nbsp;dataIn,
                  byte&nbsp;mode)
           throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">使用MAC密钥进行MAC运算。</div>
 <div class="en">Use MAC keys for MAC operations.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyType</code> - <div class="zh">TCUSTK密钥类型。</div>
                   <div class="en">TCUSTK key type.</div></dd>
<dd><code>keyIdx</code> - <div class="zh">TCUSTK密钥索引。</div> <div class="en">TCUSTK key index.</div></dd>
<dd><code>dataIn</code> - <div class="zh"> 需要进行运算的数据。</div>
                <div class="en">Data to be calculated.</div></dd>
<dd><code>mode</code> - <div class="zh">运算模式
             <ul>
              <li>CBC(16 bytes) 0x00 </li>
              <li><STRIKE>CMAC(16 bytes) 0x03 </STRIKE></li>
              <li><STRIKE>HMAC-SHA256(32 bytes) 0x05 </STRIKE></li>
              <li>SHA256(32 bytes) 0x06 </li>
              <li>HMAC-SHA1(20 bytes) 0x07 </li>
             </ul></div>
             <div class="en">Operation mode
             <ul>
              <li>CBC(16 bytes) 0x00 </li>
              <li><STRIKE>CMAC(16 bytes) 0x03 </STRIKE></li>
              <li><STRIKE>HMAC-SHA256(32 bytes) 0x05 </STRIKE></li>
              <li>SHA256(32 bytes) 0x06 </li>
              <li>HMAC-SHA1(20 bytes) 0x07 </li>
             </ul></div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">运算后的数据，根据mode不同，输出不同长度的值。</div>
         <div class="en">The calculated data, according to different modes, output values of different lengths.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.27.00</dd>
</dl>
</li>
</ul>
<a name="paxCARecover-byte-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>paxCARecover</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3939">paxCARecover</a>(byte&nbsp;keyIdx,
                    byte&nbsp;pvkPukSelect,
                    byte[]&nbsp;dataIn)
             throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">使用预装PAX CA公钥或者私钥进行签名、加密、解密。</div>
 <div class="en">Use the pre-installed Pax CA for signature, encryption and decryption.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh">
                   <ul>
                     <li>102: PAXCA_DSIG_IDX <br>当它作为私钥时，只能用于签名，
                     因此输入数据的首字节必须为0x00</li>
                     <li>103: PAXCA_DID_IDX 当它作为私钥时，私钥仅用于解密，因此输入数据首字节不能为0x00 </li>
                     <li>104: PAXCA_DTLS_IDX 暂不做限制</li>
                     <li>105: PAXCA_DC_IDX 暂不做限制</li>
                   </ul>
                 </div>
                 <div class="en">
                   <ul>
                     <li>102: PAXCA_DSIG_IDX <br> When it is used as a private key,
                     it can only be used for signing, so the first byte of the input data must be 0x00</li>
                     <li>103: PAXCA_DID_IDX When it is used as a private key, the private key is only used for decryption,
                     so the first byte of input data cannot be 0x00</li>
                     <li>104: PAXCA_DTLS_IDX No restrictions</li>
                     <li>105: PAXCA_DC_IDX No restrictions</li>
                   </ul>
                 </div></dd>
<dd><code>pvkPukSelect</code> - <div class="zh">0: 公钥  1: 私钥。</div>
                     <div class="en">0: public key 1: private key.</div></dd>
<dd><code>dataIn</code> - <div class="zh">输入的数据，长度必须为256。</div>
                <div class="en">Input data, the length must be 256.</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">运算结果</div>
         <div class="en">Result</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.27.00</dd>
</dl>
</li>
</ul>
<a name="getMacAes-byte-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMacAes</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.3979">getMacAes</a>(byte&nbsp;keyIdx,
                 byte[]&nbsp;dataIn,
                 byte&nbsp;mode)
          throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">使用AES_TAK对DataIn用Mode指定的算法进行MAC运算，将16字节的MAC结果输出到MacOut MAC运算密钥是主密钥/工作密钥体系或固定密钥体系密钥或DUKPT密钥体系。
                  <br/>用法：
                  <br/>1.敏感服务授权：在此接口内部，先进行认证以获取敏感服务授权，若授权失败则退出。
                  <br/>2.补零规则：将报文数据分割成若干16个字节的BLOCK，最后一个BLOCK不满16个字节则后补0x00。</div>
 <div class="en">Use AES_TAK to perform MAC operation on dataIn with the algorithm specified by Mode, and output the 16-byte MAC result to MacOut.
 The MAC operation key is the master key/working key system or fixed key system key or DUKPT key system.
                  <br/>usage:
                  <br/>1.Sensitive service authorization: In this interface, first perform authentication to obtain sensitive service authorization,
                  and exit if authorization fails.
                  <br/>2.Zero-filling rule: divide the message data into 16-byte BLOCKs, and add 0x00 after the last BLOCK is less than 16 bytes.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIdx</code> - <div class="zh">AES_TAK 1~100索引</div>
                 <div class="en">AES_TAK 1~100 index</div></dd>
<dd><code>dataIn</code> - <div class="zh">需进行 MAC 运算的数据包. 长度InLen<=2048，长度不能被16整除时，则自动补0x00</div>
                <div class="en">Data packet that needs MAC operation. Length<=2048, when the length is not divisible by 16, it will automatically add 0x00</div></dd>
<dd><code>mode</code> - <div class="zh">
             <ul>
             <li>0x00: 将BLOCK1用MAC密钥做AES加密，加密结果与BLOCK2进行逐位异或后再用MAC密钥做AES加密，依次进行得到16字节的加密结果， KSN不自动加1。</li>
             <li>0x01: Hypercom Fast Mode，将BLOCK1和BLOCK2进行逐位异或，异或结果与BLOCK3进行逐位异或，依次进行，最后得到16字节的异或结果，将该结果用MAC密钥进行AES加密运算，KSN不自动加1。</li>
             <li>0x03: CMAC算法，KSN不自动加1。</li>
             <li>0x05: HMAC-SHA256算法，KSN不自动加1。</li>
             </ul></div>
             <div class="en">
             <ul>
             <li>0x00: Use MAC key for AES encryption of BLOCK1, and perform bitwise XOR between the encrypted result and BLOCK2 and then use MAC key for AES encryption.
             The 16-byte encryption result is obtained in sequence, and KSN does not automatically add 1.</li>
             <li>0x01: Hypercom Fast Mode, XOR BLOCK1 and BLOCK2 bit by bit, XOR result and BLOCK3 bit by bit XOR, in turn, finally get a 16-byte XOR result, the result is encrypted with MAC key AES Operation,
             KSN does not automatically increase by 1.</li>
             <li>0x03: CMAC algorithm, KSN does not automatically increase by 1.</li>
             <li>0x05: HMAC-SHA256 algorithm, KSN does not automatically increase by 1.</li>
             </ul></div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">MAC输出，模式5的时候是32字节输出，其他模式16字节输出</div>
         <div class="en">MAC output, 32-byte output in mode 5, 16-byte output in other modes</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.28.00</dd>
</dl>
</li>
</ul>
<a name="readRkiInfo-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readRkiInfo</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4010">readRkiInfo</a>(byte&nbsp;item)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">读取RKI信息。</div>
 <div class="en">Read RKI information.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>item</code> - <div class="zh"><ul>
             <li>0x01:当前PED状态(出厂状态、激活状态，个人化状态)</li>
             <li>0x02:RKI KMS ID </li>
             </ul></div>
             <div class="en"><ul>
             <li>0x01:Current PED state (factory state, activated state, personalized state)</li>
             <li>0x02:RKI KMS ID</li>
             </ul></div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">当item是0x01时，返回数组的首位含义如下:
              <ul>
                  <li>0x00:出厂态</li>
                  <li>0x01:绑定态/激活态</li>
                  <li>0x02:个人化状态</li>
                  <li>0x03:绑定态</li>
              </ul></div>
         <div class="en">When item is 0x01, the first bit of the returned array has the following meaning:
              <ul>
                  <li>0x00:Factory state</li>
                  <li>0x01:Bound state/active state</li>
                  <li>0x02:Personalized state</li>
                  <li>0x03:Bound state</li>
              </ul></div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.31.00</dd>
</dl>
</li>
</ul>
<a name="setPinMute-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPinMute</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4021">setPinMute</a>(boolean&nbsp;mute)
         throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">设置输PIN时是否静音。</div>
 <div class="en">Set whether to mute the PIN input.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mute</code> - <div class="zh">true: 静音 false：非静音。</div>
                   <div class="en">true: muted false: unmuted..</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.32.00</dd>
</dl>
</li>
</ul>
<a name="deriveKeyBySecureData-byte-byte-byte-byte-byte-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deriveKeyBySecureData</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4039">deriveKeyBySecureData</a>(byte&nbsp;srcKeyType,
                           byte&nbsp;srcKeyIdx,
                           byte&nbsp;dstKeyType,
                           byte&nbsp;dstKeyIdx,
                           byte&nbsp;secureDataIndex,
                           byte[]&nbsp;additionalDataIn,
                           byte&nbsp;derivationMode)
                    throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">使用SecureData作为datain发散目的密钥。</div>
 <div class="en">Use SecureData as the datain diverges the destination key.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcKeyType</code> - <div>source key type, DerivationMode 0: must be TMK(0x02).</div></dd>
<dd><code>srcKeyIdx</code> - <div>source key index, 1-100 in TMK area.</div></dd>
<dd><code>dstKeyType</code> - <div>destination key type, DerivationMode 0: must be TMK(0x02).</div></dd>
<dd><code>dstKeyIdx</code> - <div>destination key, 1-100 in TMK area.</div></dd>
<dd><code>secureDataIndex</code> - <div> SecureData Index, 1-100 in working key area </div></dd>
<dd><code>additionalDataIn</code> - <div>64 bytes Additional Data. DerivationMode 0: if not used, can be null. </div></dd>
<dd><code>derivationMode</code> - <div>only support 0, GOWF algorithm </div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.33.00</dd>
</dl>
</li>
</ul>
<a name="writeStackUKPTKey-byte-byte:A-byte:A-byte-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeStackUKPTKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4055">writeStackUKPTKey</a>(byte&nbsp;groupIdx,
                       byte[]&nbsp;tscIdentifier,
                       byte[]&nbsp;tscSeedKey,
                       byte&nbsp;tscSeedKeyDepth,
                       byte&nbsp;mode)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">写入Stack UKPT Key。</div>
 <div class="en">Write Stack UKPT Key.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIdx</code> - <div class="zh">[1~10] 密钥组索引号 </div>
             <div class="en">[1~10] Key group index</div></dd>
<dd><code>tscIdentifier</code> - <div class="zh">TSC标识 </div> <div class="en">TSC Identifier</div></dd>
<dd><code>tscSeedKey</code> - <div class="zh">TSC种子密钥</div> <div class="en">TSC seed key</div></dd>
<dd><code>tscSeedKeyDepth</code> - <div class="zh">TSC种子密钥深度</div> <div class="en">TSC seed key depth</div></dd>
<dd><code>mode</code> - <div class="zh">目前只支持0</div> <div class="en">Currently only supports 0</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.32.00</dd>
</dl>
</li>
</ul>
<a name="evolveStackUKPT-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>evolveStackUKPT</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4066">evolveStackUKPT</a>(byte&nbsp;groupIdx)
              throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">Stack UKPT Key演算。</div>
 <div class="en">Stack UKPT Key evolution.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIdx</code> - <div class="zh">[1~10] 密钥组索引号 </div>
             <div class="en">[1~10] Key group index</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.32.00</dd>
</dl>
</li>
</ul>
<a name="getInfoStackUKPT-byte-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInfoStackUKPT</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4080">getInfoStackUKPT</a>(byte&nbsp;groupIdx,
                        byte&nbsp;mode)
                 throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">获取Stack UKPT Key信息。</div>
 <div class="en">Get Stack UKPT Key information.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIdx</code> - <div class="zh">[1~10] 密钥组索引号 </div>
             <div class="en">[1~10] Key group index</div></dd>
<dd><code>mode</code> - <div class="zh">目前只支持0</div><div class="en">Currently only supports 0</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> Stack UKPT Key信息， TSC Identifier(6 bytes) + Key Evolution Identifier(5 bytes) </div>
         <div class="en">Stack UKPT Key information, TSC Identifier(6 bytes) + Key Evolution Identifier(5 bytes)</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.32.00</dd>
</dl>
</li>
</ul>
<a name="getMacStackUKPT-byte-byte-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMacStackUKPT</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4113">getMacStackUKPT</a>(byte&nbsp;groupIdx,
                       byte&nbsp;keyVarType,
                       byte[]&nbsp;data,
                       byte&nbsp;mode)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">使用Stack UKPT Key进行MAC加密运算。</div>
 <div class="en">Use Stack UKPT Key for MAC encryption operation.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIdx</code> - <div class="zh">[1~10] 密钥组索引号 </div>
             <div class="en">[1~10] Key group index</div></dd>
<dd><code>keyVarType</code> - <div class="zh">MAC运算的密钥类型 </div><div class="en">Key type for MAC</div></dd>
<dd><code>data</code> - <div class="zh"> 需进行 MAC 运算的数据包</div> <div class="en">Data packet that needs MAC operation</div></dd>
<dd><code>mode</code> - <div class="zh"> <ul>
             <li>0x00: 将BLOCK1用MAC密钥做DES/TDES加密,加密结果与BLOCK2进行逐位异或后再用TAK做DES/TDES加密, 依次进行得到8字节的加密结果. </li>
             <li>0x01: 将BLOCK1和BLOCK2进行逐位异或,异或结果与BLOCK3进行逐位异或,依次进行,最后得到8字节的异或结果, 将该结果用TAK进行DES/TDES加密运算. </li>
             <li>0x02: ANSIX9.19规范,将BLOCK1用TAK做DES加密(只取前8个字节的key), 加密结果与BLOCK2进行逐位异或后再用TAK做DES加密,依次进行得到8字节的加密结果,直到最后一次采用DES/TDES加密.</li>
             <li>0x03: CMAC算法</li>
             <li>0x05: hmac-sha256模式</li>
             </ul></div>
             <div class="en"><ul>
             <li>0x00: Encrypt BLOCK1 with MAC key for DES/TDES, perform bit-by-bit XOR with BLOCK2, and then perform DES/TDES encryption with TAK,
             and proceed in turn to obtain an 8-byte encryption result. </li>
             <li>0x01: The BLOCK1 and BLOCK2 are XOR bit by bit, the XOR result is XOR bit by bit with BLOCK3, and the sequence is performed in turn,
             and finally an 8-byte XOR result is obtained, and the result is encrypted by DES/TDES with TAK. </li>
             <li>0x02: According to the ANSIX9.19 specification, BLOCK1 is encrypted with TAK for DES (only the key of the first 8 bytes is taken),
             the encryption result is XOR bit by bit with BLOCK2, and then TAK is used for DES encryption, and the encryption result of 8 bytes is obtained in turn,
             until the last DES/TDES encryption.</li>
             <li>0x03: CMAC algorithm</li>
             <li>0x05: hmac-sha256 mode</li>
             </ul></div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> MAC输出(0x05模式为32字节，其他为8字节)。  </div>
         <div class="en">MAC output (32 bytes for 0x05 mode, 8 bytes for others).</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.32.00</dd>
</dl>
</li>
</ul>
<a name="getPinBlockStackUKPT-byte-java.lang.String-byte:A-byte-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinBlockStackUKPT</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4169">getPinBlockStackUKPT</a>(byte&nbsp;groupIdx,
                            java.lang.String&nbsp;expPinLen,
                            byte[]&nbsp;data,
                            byte&nbsp;mode,
                            int&nbsp;timeoutMs)
                     throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">扫描键盘上输入的PIN并输出由 Mode指定算法加密的 PIN BLOCK，用于Stack UKPT Key。</div>
 <div class="en">Scan the PIN entered on the keyboard and output the PIN BLOCK encrypted by the algorithm specified by Mode for Stack UKPT Key.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIdx</code> - <div class="zh">[1~10] 密钥组索引号 </div>
             <div class="en">[1~10] Key group index</div></dd>
<dd><code>expPinLen</code> - <div class="zh"> 0~12 的枚举集合<br/>
                  可输入的合法密码长度字符串,应用程序把允许的密码长度全部枚举出来,并且用“，”号隔开每个长度,密码长度的有效取值为：0，4~12。<br/>
                  如允许输入 4、 6 位密码并且允许无密码直接按确认,则该字符串应该设置为“0,4,6”。 <br/>
                  若枚举 0 长度则示意可以不输任何数字而直接按确认键返回。<br/>
                  若枚举长度存在无效值，则忽略无效值。若输入长度超过设置长度，则忽略超出的输入。</div>
                  <div class="en">An enumeration set of 0~12<br/>
                  The legal password length string that can be entered. The application program enumerates all the allowed password lengths, and separates each length with ",".
                  The valid values of the password length are: 0, 4~12.<br/>
                  For example, 4 or 6-digit passwords are allowed to be entered and no password is allowed to be pressed directly, then the string should be set to "0,4,6".<br/>
                  If the length of the enumeration is 0, it means that you can directly press the OK key to return without entering any number.<br/>
                  If an invalid value exists for the enumeration length, the invalid value is ignored. If the input length exceeds the set length, the exceeding input is ignored.
                  </div></dd>
<dd><code>data</code> - <div class="zh">
 <ul>
  <li>当mode=0x00时，dataIn指向卡号移位后生成的16位主帐号。</li>
  <li>当mode=0x01时，参考 ISO9564规范。 </li>
  <li>当mode=0x02时，参考 ISO9564规范。</li>
  <li>当mode=0x03时，为交易流水号ISN [6 Bytes,ASCII码]。</li>
 </ul></div>
 <div class="en">
 <ul>
  <li>When mode=0x00, dataIn points to the 16-bit primary account generated after the card number shift.</li>
  <li>When mode=0x01, Refer to ISO9564 specification.</li>
  <li>When mode=0x02, Refer to ISO9564 specification.</li>
  <li>When mode=0x03, is the transaction current number [6 Bytes,ASCII code].</li>
 </ul></div></dd>
<dd><code>mode</code> - <div class="zh"> PIN BLOCK的格式。
 <ul>
  <li>0x00:ISO9564 格式0。</li>
  <li>0x01:ISO9564 格式1。</li>
  <li>0x02:ISO9564 格式3。</li>
  <li>0x03:HK EPS 格式。</li>
 </ul></div>
 <div class="en"> PIN BLOCK Format.
  <ul>
   <li>0x00:ISO9564 format 0.</li>
   <li>0x01:ISO9564 format 1.</li>
   <li>0x02:ISO9564 format 3.</li>
   <li>0x03:HK EPS format.</li>
  </ul></div></dd>
<dd><code>timeoutMs</code> - <div class="zh">输入 PIN 的超时时间,单位：毫秒 最大值为 300000ms </div>
                  <div class="en">Timeout time for entering PIN, unit: milliseconds, the maximum value is 300000ms</div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh">8字节的PinBlock。</div> <div class="en">8-byte PinBlock.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.32.00</dd>
</dl>
</li>
</ul>
<a name="calcStackUKPT-byte-byte-byte:A-byte:A-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcStackUKPT</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4200">calcStackUKPT</a>(byte&nbsp;groupIdx,
                     byte&nbsp;keyVarType,
                     byte[]&nbsp;iv,
                     byte[]&nbsp;data,
                     byte&nbsp;mode)
              throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">使用Stack UKPT Key进行数据加解密。</div>
 <div class="en">Use Stack UKPT Key to encrypt and decrypt data.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>groupIdx</code> - <div class="zh">[1~10] 密钥组索引号 </div>
             <div class="en">[1~10] Key group index</div></dd>
<dd><code>keyVarType</code> - <div class="zh">密钥类型,必须为解密/加密类型密钥,且加解密时需使用对应Mode参数。
                   </div><div class="en">Key type. It must be a decryption/encryption type key, and the corresponding Mode parameter must be used.</div></dd>
<dd><code>iv</code> - <div class="zh">向量,CBC模式下使用,长度为8字节,若为NULL则用0填充</div>
           <div class="en">Vector, used in CBC mode, the length is 8 bytes, if it is NULL, it will be padded with 0</div></dd>
<dd><code>data</code> - <div class="zh"> 用于运算的数据.输入长度最大支持2048并且能被8整除。 </div>
             <div class="en">The data used for the operation. The input length supports a maximum of 2048 and is divisible by 8.</div></dd>
<dd><code>mode</code> - <div class="zh"> <ul>
             <li>ECB解密 0x00  </li>
             <li>ECB加密 0x01  </li>
             <li>CBC解密 0x02 </li>
             <li>CBC加密 0x03 </li>
             </ul></div>
             <div class="en"><ul>
             <li> ECB decryption 0x00</li>
             <li> ECB encryption 0x01</li>
             <li> CBC decryption 0x02</li>
             <li> CBC encryption 0x03</li>
             </ul></div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 运算的结果。 </div>
         <div class="en">the result of the operation.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code> - PedDevException</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.32.00</dd>
</dl>
</li>
</ul>
<a name="setOfflinePinMode-byte-byte-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOfflinePinMode</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4226">setOfflinePinMode</a>(byte&nbsp;mode,
                       byte&nbsp;tpkIndex,
                       byte[]&nbsp;pinBlock)
                throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">设置脱机PIN模式，并为外部PINPAD提供一些参数。</div>
 <div class="en">Set offline PIN mode and provide some parameters for external PINPAD.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - <div class="zh">
  <ul>
   <li>0x00:内部PINPAD，默认模式。</li>
   <li>0x01:外部PINPAD。</li>
  </ul>
 </div>
 <div class="en">
  <ul>
   <li>0x00:Built-in PINPAD, default mode.</li>
   <li>0x01:External PINPAD.</li>
  </ul>
 </div></dd>
<dd><code>tpkIndex</code> - <div class="zh">TPK秘钥索引。 </div> <div class="en">The index of TPK.</div></dd>
<dd><code>pinBlock</code> - <div class="zh">8字节ISO9564格式1的加密 PINBLOCK。</div> <div class="en">8-byte Cipher PINBLOCK with ISO9564 Format 1.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.33.00</dd>
</dl>
</li>
</ul>
<a name="getPinBlock-byte-int-byte-byte-int-int-byte:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPinBlock</h4>
<pre>byte[]&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4304">getPinBlock</a>(byte&nbsp;keyIndex,
                   int&nbsp;keyLen,
                   byte&nbsp;mode,
                   byte&nbsp;inputMode,
                   int&nbsp;inputMin,
                   int&nbsp;inputMax,
                   byte[]&nbsp;dataIn,
                   int&nbsp;timeoutMs)
            throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh"> 指定的时限内，扫描键盘上输入的PIN并输出PIN BLOCK加密数据块。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> 类型。 </div>
 <div class="en"> Scan the keyboard PIN entry and output the PIN BLOCK encrypted data block in a specific time.<a href="../../../com/pax/dal/entity/EPedType.html#EXTERNAL_TYPEA"><code>EPedType.EXTERNAL_TYPEA</code></a> is supported. </div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyIndex</code> - <div class="zh"> [1~100] TPK的索引 </div> <div class="en"> [1~100] TPK index </div></dd>
<dd><code>keyLen</code> - <div class="zh">8、16 或 24，指示 PINBLOCK 是用 DES/TDES 加密</div>
               <div class="en">8, 16, or 24, indicating that PINBLOCK is encrypted with DES/TDES</div></dd>
<dd><code>mode</code> - <div class="zh">PIN Block的格式。
               <ul>
                <li>0x00:ISO9564 格式 0</li>
                <li>0x01:ISO9564 格式 1</li>
                <li>0x02:ISO9564 格式 3</li>
                <li>0x03:HK EPS 专用格式</li>
               </ul>
              </div>
              <div class="en"> PIN Block format.
               <ul>
                <li>0x00:ISO9564 format 0</li>
                <li>0x01:ISO9564 format 1</li>
                <li>0x02:ISO9564 format 3</li>
                <li>0x03:HK EPS -EPS PINBLOCK Format</li>
               </ul>
              </div></dd>
<dd><code>inputMode</code> - <div class="zh">0x01：只输入一次，0x02：输入两次密码，两次输入一致后返回 PINBLOCK</div>
                  <div class="en">0x01: Enter the password only once, 0x02: Enter the password twice, and return PINBLOCK if the two inputs are the same</div></dd>
<dd><code>inputMin</code> - <div class="zh">允许输入的 PIN 的最小长度(大于等于 0, 为 0 时，按 ENTER 键返回，且输入 长度 Len=0，此时应答数据长度为 0，表示用户没有输入密码)。</div>
            <div class="en">The minimum length of the allowed PIN (when greater than or equal to 0, when it is 0, press the ENTER key to return, and enter the length Len=0, at this time the response data length is 0, which means that the user did not enter a password).</div></dd>
<dd><code>inputMax</code> - <div class="zh">允许输入的 PIN 的最大长度(小于等于 14)。</div>
            <div class="en">The maximum length of the PIN that can be entered (less than or equal to 14).</div></dd>
<dd><code>dataIn</code> - <div class="zh">
            <ul>
            <li>当mode=0x00时, DataIn指向卡号移位后生成的16位主帐号。</li>
            <li>当mode=0x01时, DataIn被忽略,接口内部采用随机数填充PINBlock。</li>
            <li>当mode=0x02时, DataIn指向位移后的16位PAN。</li>
            <li>当mode=0x03时, 为交易流水号ISN [6 Bytes,ASCII码]</li>
            </ul>
            </div> <div class="en">
            <ul>
            <li>When mode=0x00, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=0x01, DataIn is ignored. The interface uses random numbers to fill PINBlock internally.</li>
            <li>When mode=0x02, DataIn is the 16 bytes primary account number after shifting.</li>
            <li>When mode=0x03, dataIn is ISN [6 Bytes, ASCII code]</li>
            </ul>
            </div></dd>
<dd><code>timeoutMs</code> - <div class="zh">
            <p>
            输入PIN的超时时间,单位：毫秒 最大值为300000ms
            </p>
            <p>
            0:表示没有超时时间，PED不做超时控制
            </p>
            </div> <div class="en">
            <p>
            The timeout of PIN entry [unit:ms] Maximum is 300000ms.
            </p>
            <p>
            0: No timeout time, not doing timeout control for PED.
            </p>
            </div></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><div class="zh"> 返回pinBlock </div> <div class="en"> Return pinBlock byte array.</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V3.33.00</dd>
</dl>
</li>
</ul>
<a name="setPinVolume-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPinVolume</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4316">setPinVolume</a>(int&nbsp;volume)
           throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">设置键盘按键音量值。</div> <div class="en">Set keyboard key volume value.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>volume</code> - <div class="zh">音量值（0~50）</div>
               <div class="en">Volume value (0~50)</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.01.00</dd>
</dl>
</li>
</ul>
<a name="writeSaltKey-byte:A-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writeSaltKey</h4>
<pre>void&nbsp;<a href="../../../src-html/com/pax/dal/IPed.html#line.4327">writeSaltKey</a>(byte[]&nbsp;salt,
                  int&nbsp;index)
           throws <a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></pre>
<div class="block"><div class="zh">将salt写入指定索引位置。仅支持<a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> 类型。</div> <div class="en">Write salt to the specified index. <a href="../../../com/pax/dal/entity/EPedType.html#INTERNAL"><code>EPedType.INTERNAL</code></a> only is supported.</div></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>salt</code> - <div class="zh">salt明文密钥。长度最长128字节。</div> <div class="en">Salt plaintext key.The maximum length is 128 bytes.</div></dd>
<dd><code>index</code> - <div class="zh">索引,1或2</div> <div class="en">index, 1 or 2</div></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/pax/dal/exceptions/PedDevException.html" title="class in com.pax.dal.exceptions">PedDevException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>V4.03.00</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/pax/dal/IPaymentDevice.html" title="interface in com.pax.dal"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/pax/dal/IPed.IPedInputPinListener.html" title="interface in com.pax.dal"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/pax/dal/IPed.html" target="_top">Frames</a></li>
<li><a href="IPed.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
